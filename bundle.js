!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/shop-admin-page/",s(s.s=35)}([function(t,e,s){"use strict";var i="content"in document.createElement("template")?function(t){const e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild}:function(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild};function n(t){return t.replace(/&/g,"&").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"<").replace(/>/g,">")}function a({tmpl:t,data:e}){if(t&&e)return t.replace(/{([^"]{1,})}/g,(t,s)=>void 0!==e[s]?e[s]:"")}function r(t){const e=new Date(t).toDateString().split(" ");return`${e[1]} ${e[2]}, ${e[3]}`}function o(t){let e=t;if(t>=1e3){const s=t%1e3;e=`${(t-s)/1e3},${s}`}return`$${e}`}function c(t){const e=new Date(1970,0,5);let s="",i=0;for(;i<7;){s+=`<${t}>${e.toLocaleString("default",{weekday:"narrow"})}</${t}>`,e.setDate(e.getDate()+1),i++}return s}function l(t,e,s){let i,n=!1,a=!0;return function(){i=arguments,a&&(t.apply(e,...i),a=!1),n||(n=!0,setTimeout((function(){t.apply(e,...i),n=!1}),s))}}s(17);const d={elem:"notification",warning:"notification--warning",error:"notification--error"};class h{constructor({message:t,container:e,type:s}){this.message=t,this.container=e,this.type=s,this.duration=this.getDuration(),this.classNames=this.getClasses(),this.addElem(),this.isFinished=!1}addElem(){this.elem=document.createElement("div"),this.elem.classList.add(...this.classNames),this.elem.dataset.state="shown",this.elem.innerHTML=this.message,this.container.prepend(this.elem),setTimeout(()=>{this.hideElem()},this.duration)}async hideElem(t={}){return this.isFinished=!0,this.elem.dataset.state="hidden",new Promise((t,e)=>{this.elem.addEventListener("animationend",()=>{this.elem.remove(),t()})})}getDuration(){return"error"===this.type?5e3:3e3}getClasses(){const t=[d.elem];return this.type&&d[this.type]&&t.push(d[this.type]),t}}const u=document.createElement("div");u.classList.add("notifications"),document.body.append(u);let p=[];async function m(t,e){let s;try{s=await fetch(t,e)}catch(e){throw new g(s,null,`Network error for url ${t}`)}if(!s.ok){let e;const i=s.statusText;try{e=await s.json()}catch(t){}let n=`Error ${s.status} for url ${t}`;throw i&&(n+=`: ${i}`),new g(s,e,n)}try{s=await s.json()}catch(t){throw new g(s,null,t.message)}return s}class g extends Error{constructor(t,e,s){super(s),this.name="FetchError",this.response=t,this.body=e}}window.addEventListener("unhandledrejection",t=>{t.reason instanceof g&&async function(t,e){const s=new h({message:t,container:u,type:e});p.push(s),s.elem.offsetTop<0&&(p=p.filter(t=>!t.isFinished),p.shift().hideElem())}(t.reason.message,"error")}),s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"f",(function(){return o})),s.d(e,"g",(function(){return c})),s.d(e,"h",(function(){return l})),s.d(e,"c",(function(){return m}))},function(t,e,s){"use strict";e.a={form:"product-form",list:"product-form__list",item:"product-form__item",itemTiny:"product-form__item--tiny",itemFollow:"product-form__item--follow",itemFull:"product-form__item--full",label:"product-form__label",input:"product-form__input",inputUpload:"product-form__upload",inputUploadLoading:"product-form__upload--loading",inputText:"product-form__input--text",inputNumber:"product-form__input--number",inputSelect:"product-form__input--select",inputTextarea:"product-form__input--textarea",imgsList:"product-form__images-list",imgsItem:"product-form__images-item",img:"product-form__image",imgWrapper:"product-form__image-wrapper",imgSource:"product-form__image-source",imgRemove:"product-form__image-remove",preview:"product-form__preview",footer:"product-form__footer",submit:"product-form__submit"}},function(t,e,s){"use strict";e.a={elem:"sortable-table",table:"sortable-table__table",thead:"sortable-table__thead",header:"sortable-table__header",row:"sortable-table__row",cell:"sortable-table__cell",cellError:"sortable-table__cell--error",cellSorter:"sortable-table__cell--sorter",img:"sortable-table__image",imgWrapper:"sortable-table__image-wrapper",preview:"sortable-table__preview",link:"sortable-table__link",category:"sortable-table__category",tooltipCategory:"sortable-table__tooltip-category",tooltipSubcategory:"sortable-table__tooltip-subcategory"}},function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"e",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"f",(function(){return o})),s.d(e,"d",(function(){return c})),s.d(e,"b",(function(){return l}));var i=s(1);const n='<header class="page-content__header">\n  <h2 class="page-content__title">\n  <a href="./products">Products</a>\n  /Edit Product</h2>\n</header>',a=`<label class="${i.a.label}">\n  {fieldName}\n\n  <input\n    class="${i.a.input} ${i.a.inputText}"\n    type="text"\n    name="{id}"\n    value="{value}"/>\n</label>`,r=`<label class="${i.a.label}">\n  {fieldName}\n\n  <input\n    class="${i.a.input} ${i.a.inputNumber}"\n    type="number"\n    name="{id}"\n    value="{value}"/>\n</label>`,o=`<label class="${i.a.label}">\n  {fieldName}\n\n  <textarea\n    class="${i.a.input} ${i.a.inputTextarea}"\n    name="{id}">{value}</textarea>\n</label>`,c=`<label class="${i.a.label}">\n  {fieldName}\n\n  <select\n    class="${i.a.input} ${i.a.inputSelect}"\n    name="{id}">\n    {options}\n  </select>\n</label>`,l=`<li class="${i.a.imgsItem}">\n  <div class="${i.a.imgWrapper}">\n    <img src="{url}" class="${i.a.img}">\n    <span style="background-image: url({url})" class="${i.a.preview}"><span>\n  </div>\n  <span class="${i.a.imgSource}">{source}</span>\n  <button type="button" class="${i.a.imgRemove}">Remove</button>\n</li>`},function(t,e,s){"use strict";e.a={elem:"column-chart",content:"column-chart__content",header:"column-chart__header",title:"column-chart__title",total:"column-chart__total",list:"column-chart__list",item:"column-chart__item",tooltip:"column-chart__tooltip",tooltipDate:"column-chart__tooltip-date",tooltipQuantity:"column-chart__tooltip-quantity",error:"column-chart__error"}},function(t,e,s){"use strict";e.a={elem:"categories",list:"categories__list",listTop:"categories__list--topcategories",listSubcats:"categories__list--subcategories",item:"categories__item",itemTop:"categories__item--topcategory",itemSub:"categories__item--subcategory",itemOpen:"categories__item--open",toggler:"categories__toggler",counter:"categories__counter"}},function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s(22);class i{constructor({title:t,text:e,callback:s,callbackText:i,error:n}){this.title=t,this.text=e||"Something went wrong",this.callback=s,this.callbackText=i,this.error=n,!this.title&&this.error&&(this.title="Error"),this.createElement()}createElement(){this.elem=document.createElement("div"),this.elem.classList.add("page-message"),this.error&&this.elem.classList.add("page-message--error"),this.content=`<h3>${this.title}</h3><p>${this.text}</p>`,this.error&&(this.content+=`<div class="page-message__error">\n        <div class="page-message__error-text">\n          <strong>${this.error.name}</strong>: ${this.error.message}</div>\n      </div>`),this.elem.insertAdjacentHTML("afterBegin",this.content)}}},function(t,e,s){"use strict";var i=s(0),n=s(9),a=s(2);e.a={images:{title:"Image",render({images:t}){if(!t||!t[0].url)return"";const e=t[0].url;return`<div class="${a.a.imgWrapper}">\n      <img src="${e}" class="${a.a.img}">\n      <span style="background-image: url(${e})" class="${a.a.preview}"><span>\n      <div>`},compare:null},title:{title:"Name",render:({title:t,id:e})=>`\n      ${t}\n      <a class="${a.a.link}" href="./products/${e}"></a>\n      `,compare:(t,e)=>t.title.localeCompare(e.title)},subcategory:{title:"Category",render({subcategory:t}){const e=t.category,s=`<span class="${a.a.tooltipCategory}">${e.title}</span>/<span class="${a.a.tooltipSubcategory}">${t.title}</span>`;return`<span class="${a.a.category}" data-tooltip-content="${Object(i.b)(s)}">${t.title}</span>`},compare(t,e){const s=t.subcategory.title,i=e.subcategory.title;return s.localeCompare(i)}},quantity:{title:"Quantity",render:({quantity:t})=>t,compare:(t,e)=>t.quantity-e.quantity},price:{title:"Price",render:({price:t})=>Object(i.f)(t),compare:(t,e)=>t.price-e.price},status:{title:"Status",render:({status:t})=>n.a[t],compare:(t,e)=>t.status-e.status}}},function(t,e){var s,i,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===a||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:a}catch(t){s=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var c,l=[],d=!1,h=-1;function u(){d&&c&&(d=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!d){var t=o(u);d=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];l.push(new m(t,e)),1!==l.length||d||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,s){"use strict";e.a={0:"Disabled",1:"Enabled"}},function(t,e,s){"use strict";var i=s(0),n="tooltips-container",a="tooltips-container--dimmed",r="tooltip";s(19);s.d(e,"a",(function(){return o}));class o{constructor({elem:t,dimSiblings:e}){this.elem=t,this.elem.classList.add(n),this.dimSiblings=e,this.tooltip=Object(i.a)(`<div class="${r}"></div>`),this.elem.append(this.tooltip),this.listMouseMove=this.listMouseMove.bind(this),this.listMouseOut=this.listMouseOut.bind(this),this.elem.addEventListener("mousemove",this.listMouseMove),this.elem.addEventListener("mouseleave",this.listMouseOut)}listMouseMove(){if(!event.target.dataset.tooltipContent)return void this.hideTooltip();const{tooltipContent:t}=event.target.dataset;this.tooltip.innerHTML=t,this.tooltip.dataset.visible=1,this.elemCoords=this.elem.getBoundingClientRect();const e={x:event.clientX-this.elemCoords.x,y:event.clientY-this.elemCoords.y};this.tooltip.style=`transform: translate(${e.x}px, ${e.y}px)`,this.tooltipCoords=this.tooltip.getBoundingClientRect();const s=this.tooltipCoords.right-document.documentElement.clientWidth;s>0&&(e.x-=s,this.tooltip.style=`transform: translate(${e.x}px, ${e.y}px)`),this.dimSiblings&&this.elem.classList.add(a)}listMouseOut(){event.target.dataset.tooltipContent||this.hideTooltip()}hideTooltip(){this.tooltip.dataset.visible=0,this.elem.classList.remove(a)}}},function(t,e,s){"use strict";var i={0:"desc",1:"asc"};s.d(e,"a",(function(){return n}));const n=t=>i[+t]},function(t,e,s){"use strict";var i=s(4);const n=`<header class="${i.a.header}">\n  <h3 class="${i.a.title}">{title}</h3>\n  <div class="${i.a.total}">{total}</div>\n</header>`,a=`<li\n  class="${i.a.item}"\n  data-tooltip-content="{tootipContent}"\n  style="height: {height}"></li>`;e.a={header:n,chartItem:a}},function(t,e,s){"use strict";var i=s(3),n={0:"Disabled",1:"Enabled"},a=s(0),r=s(1);function o(t){const e=[];for(const s of t)for(const t of s.subcategories)e.push({value:t.id,text:`${s.title} > ${t.title}`});return e}function c(t,e){return t.map((t,s)=>{const i=t.value||s,n=t.text||t;return`<option value="${i}" ${i===e?"selected":""}>${n}</option>`}).join("")}e.a={images:{render:({images:t})=>t?function(t){const e=t.map(t=>Object(a.d)({tmpl:i.b,data:t}));return`\n    <ul class="${r.a.imgsList}" is="draggable-list">${e.join(" ")}</ul>\n    <button type="button" class="${r.a.inputUpload}">Upload</button>\n  `}(t):"",compare:null},title:{render({title:t}){const e={id:"title",fieldName:"Name",value:t};return Object(a.d)({tmpl:i.e,data:e})}},description:{render({description:t}){const e={id:"description",fieldName:"Description",value:t};return Object(a.d)({tmpl:i.f,data:e})}},subcategory:{render({categories:t,subcategory:e}){const s={id:"subcategory",fieldName:"Category",options:c(o(t),e)};return Object(a.d)({tmpl:i.d,data:s})}},quantity:{render({quantity:t}){const e={id:"quantity",fieldName:"Quantity",value:t};return Object(a.d)({tmpl:i.c,data:e})}},price:{render({price:t}){const e={id:"price",fieldName:"Price",value:t};return Object(a.d)({tmpl:i.c,data:e})}},discount:{render({discount:t}){const e={id:"discount",fieldName:"Discount",value:t};return Object(a.d)({tmpl:i.c,data:e})}},status:{render({status:t}){const e={id:"status",fieldName:"Status",value:t,options:c(Object.values(n),t)};return Object(a.d)({tmpl:i.d,data:e})}}}},function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return o}));var i=s(10),n=s(0),a=s(4),r=s(12);s(20);class o extends HTMLElement{constructor(){super(),this.elem=document.createElement("div"),this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.changeDate=this.changeDate.bind(this)}async connectedCallback(){const{type:t,isMoney:e,from:s,to:i}=this.dataset;this.dates={from:new Date(s),to:new Date(i)},this.type=t,this.formatTotal=e?n.f:null,this.classList.add(a.a.elem,`${a.a.elem}--${t}`),this.elem.classList.add(a.a.content),this.title=`Total ${t}`,this.url=this.getUrl(),await this.render(),this.append(this.elem),document.addEventListener("changeDate",this.changeDate)}getUrl(){return`${this.apiUrl}/api/dashboard/${this.type}?from=${this.dates.from}&to=${this.dates.to}`}async getData(){try{return{data:await Object(n.c)(this.url)}}catch(t){return{error:t}}}async render(){const{data:t,error:e}=await this.getData();if(this.data=t,e)return void this.elem.insertAdjacentHTML("beforeEnd",`<div class="${a.a.error}">${e}</div>`);this.values=Object.values(this.data),0===this.values.length&&this.values.push("No data");const s=this.getHeaderStr(),i=this.getListStr();this.elem.insertAdjacentHTML("beforeEnd",s+i),this.addActions()}getHeaderStr(){return this.total=this.values.reduce((t,e)=>t+e,0),this.formatTotal&&(this.total=this.formatTotal(this.total)),Object(n.d)({tmpl:r.a.header,data:this})}getListStr(){const t=Math.max(...this.values);let e="";for(const s in this.data){const i=Object(n.e)(s);let o=this.data[s];const c=`${(o/t*100).toFixed(2)}%`;this.formatTotal&&(o=this.formatTotal(o));const l=`<small class="${a.a.tooltipDate}">${i}</small><div class="${a.a.tooltipQuantity}">${o}</div>`;e+=Object(n.d)({tmpl:r.a.chartItem,data:{...this,height:c,tootipContent:Object(n.b)(l)}})}return`<ul class="${a.a.list}">${e}</ul>`}addActions(){this.tooltips=new i.a({elem:this.elem,dimSiblings:!0})}async changeDate(t){if(!t.detail||!t.detail.dates)return;const{from:e,to:s}=t.detail.dates;this.dates={from:e,to:s},this.url=this.getUrl(),this.elem.innerHTML="",await this.render(),this.append(this.elem)}}}).call(this,s(8))},function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return d}));var i=s(10),n=s(2),a=s(9),r=s(7),o=s(0),c=s(11),l=s(6);s(23);class d extends HTMLElement{constructor(){super(),this.sorting={current:null,isAsc:!0},this.page={items:20,current:0,isDataEnded:!1},this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.changeDate=this.changeDate.bind(this)}async connectedCallback(){const{url:t,fieldsList:e,orderField:s,orderDirection:i,isDynamic:n,from:a,to:r}=this.dataset;this.dates={from:a,to:r},this.url=this.apiUrl+t,this.fieldsList=JSON.parse(e.replace(/'/g,'"')),this.isDynamic=+n,this.order={field:s,direction:i},this.initTable=this.initTable.bind(this),this.isLoading=!1,this.order&&void 0!==this.order.direction&&(this.sorting.isAsc=this.order.direction),this.fetchUrl=this.getFetchUrl(),this.onBodyScrollThrottle=Object(o.h)(this.onBodyScroll,this,500),this.initTable(),document.addEventListener("changeDate",this.changeDate)}async loadData(){this.isLoading=!0,this.table.dataset.loading=1;try{const t=await Object(o.c)(this.fetchUrl);return this.isLoading=!1,this.table.dataset.loading=0,t}catch(t){const e=new l.a({error:t});this.table.dataset.loading=0,this.tBody.insertAdjacentHTML("beforeEnd",`<tr class="${n.a.row}"><td class="${n.a.cellError}">${e.elem.outerHTML}</tr>`)}}initTable(){this.createLayout(),this.addElemHeader(),this.addTableEvents(),this.fillTBody()}async fillTBody(){this.page.isDataEnded||(this.tableRows=await this.loadData(),this.tableRows.length<this.page.items&&(this.page.isDataEnded=!0,0===this.tableRows.length)||(!this.isDynamic&&this.order&&this.order.field?this.sortRows(this.order.field):this.renderTBody()))}getFetchUrl(){const t={start:this.page.current*this.page.items,end:(this.page.current+1)*this.page.items,sort:this.order.field,order:Object(c.a)(this.sorting.isAsc)};this.dates&&this.dates.from&&(t.from=this.dates.from,t.to=this.dates.to);let e="";for(const s in t){let i="_";"from"!==s&&"to"!==s||(i=""),e+=`&${i}${s}=${t[s]}`}return this.url+e}createLayout(){this.classList.add(n.a.elem),this.table=document.createElement("table"),this.table.classList.add(n.a.table),this.tBody=document.createElement("tbody"),this.table.append(this.tBody),this.table.insertAdjacentHTML("beforeEnd",`<tfoot><tr><td colspan="${this.fieldsList.length}"><div class="spinner"></div></td></tr></tfoot>`),this.append(this.table)}addElemHeader(){let t="";this.fieldsList.forEach(e=>{let s=n.a.cell;const i={sorter:"",sortDirection:""};if(r.a[e].compare&&(s+=` ${n.a.cellSorter}`,i.sorter='data-sorter="1"'),e===this.order.field){const t=Object(c.a)(this.sorting.isAsc);i.sortDirection=`data-sort-direction="${t}"`}t+=`<th class="${s}"\n        data-name="${e}"\n        ${i.sorter}\n        ${i.sortDirection}\n        >${r.a[e].title}</th>`});const e=`<thead class="${n.a.thead}"><tr class="${n.a.header} ${n.a.row}">\n      ${t}\n    </tr></thead>`;this.table.insertAdjacentHTML("afterBegin",e),this.sorting.current=this.table.querySelector("[data-sort-direction]")}sorterOnClick(t){const{name:e}=t.dataset;t.dataset.sortDirection?this.sorting.isAsc=!this.sorting.isAsc:(this.sorting.current&&delete this.sorting.current.dataset.sortDirection,this.sorting.isAsc=!0,this.sorting.current=t),t.dataset.sortDirection=Object(c.a)(this.sorting.isAsc),this.isDynamic?this.sortRowsDynamic(e):this.sortRows(e)}sortRows(t){this.tableRows.sort(r.a[t].compare),this.sorting.isAsc||this.tableRows.reverse(),this.tBody.innerHTML="",this.renderTBody()}sortRowsDynamic(t){this.order.field=t,this.page.current=0,this.page.isDataEnded=!1,this.fetchUrl=this.getFetchUrl(),this.tBody.innerHTML="",this.fillTBody()}addTableEvents(){this.table.addEventListener("click",this),window.addEventListener("scroll",this.onBodyScrollThrottle),this.tooltips=new i.a({elem:this})}handleEvent(){event.target.dataset.sorter&&this.sorterOnClick(event.target)}onBodyScroll(){if(this.isLoading)return;document.documentElement.getBoundingClientRect().bottom-window.innerHeight<100&&(this.page.current++,this.fetchUrl=this.getFetchUrl(),this.fillTBody())}renderTBody(){this.pageYOffset=window.pageYOffset,this.tableRows.forEach(t=>{let e="";const{status:s}=t;this.fieldsList.forEach(i=>{const o=[n.a.cell,`${n.a.cell}--${i}`,`${n.a.cell}--${a.a[s].toLowerCase()}`],c=(0,r.a[i].render)(t);c&&(e+=`<td class="${o.join(" ")}">${c}</td>`)}),this.tBody.insertAdjacentHTML("beforeEnd",`<tr class="${n.a.row}">${e}</tr>`)}),this.pageYOffset&&window.scrollTo(0,this.pageYOffset)}async changeDate(t){t.detail&&t.detail.dates&&(this.dates=t.detail.dates,this.fetchUrl=this.getFetchUrl(),this.tBody.innerHTML="",this.fillTBody())}}}).call(this,s(8))},function(t,e,s){"use strict";var i=s(1);e.a=[{name:"title"},{name:"description",mods:[i.a.itemFull]},{name:"images",mods:[i.a.itemFull]},{name:"subcategory"},{name:"price",mods:[i.a.itemTiny]},{name:"discount",mods:[i.a.itemTiny,i.a.itemFollow]},{name:"quantity",mods:[i.a.itemTiny]},{name:"status",mods:[i.a.itemTiny]}]},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){var i={"./categories/index.js":26,"./dashboard/index.js":28,"./error404/index.js":29,"./products/edit/index.js":30,"./products/index.js":33};function n(t){return a(t).then(s)}function a(t){return Promise.resolve().then((function(){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}))}n.keys=function(){return Object.keys(i)},n.resolve=a,n.id=25,t.exports=n},function(t,e,s){"use strict";s.r(e),function(t){var i=s(0),n=s(6),a=s(5);s(27);e.default=class{constructor(){this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.fetchUrl=`${this.apiUrl}/api/rest/categories?_sort=weight&_refs=subcategory`,this.listClick=this.listClick.bind(this)}async render(){const{categories:t,message:e}=await this.loadData();if(e)return Object(i.a)(`<div class="page-content">\n        <section class="page-section categories">\n          <h2 class="page-section__title">Categories</h2>\n\n          ${e.elem.outerHTML}\n        </section>\n      </div>\n      `);const s=this.createList(t);return this.elem=Object(i.a)(`<div class="page-content">\n      <section class="page-section categories">\n        <h2 class="page-section__title">Categories</h2>\n\n        ${s}\n      </section>\n    </div>`),this.addEvents(),this.elem}async loadData(){try{return{categories:await Object(i.c)(this.fetchUrl)}}catch(t){return{message:new n.a({error:t})}}}createList(t,e=!1){let s="",i=a.a.listTop,n=a.a.item,r="";if(e?(i=a.a.listSubcats,n+=` ${a.a.itemSub}`,r='is="draggable-list"'):n+=` ${a.a.itemTop}`,0===t.length)return"";for(const i of t){let t="",r=i.title;const o=i.subcategories;let c="";if(e){const t=this.getPlural(i.count,["product","products"]);c=`<span class="${a.a.counter}">${t}</span>`}o&&(r=` <button class="${a.a.toggler}">${i.title}</button>`,t=this.createList(o,!0)),s+=`<li class="${n}">\n        ${r}\n        ${c}\n        ${t}\n      </li>`}return`<ul\n      class="${a.a.list} ${i}" ${r}\n      >\n      ${s}\n    </ul>`}addEvents(){this.elem.querySelector(`.${a.a.listTop}`).addEventListener("click",this.listClick)}listClick(){event.target.closest(`.${a.a.toggler}`)&&event.target.closest(`.${a.a.itemTop}`).classList.toggle(a.a.itemOpen)}getPlural(t,e){let s=e[0];return 1!==t&&(s=e[1]),`${t} ${s}`}}}.call(this,s(8))},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);const n=new Date;n.setMonth(n.getMonth()-1);const a=new Date,r=n.toISOString(),o=a.toISOString();e.default=class{async render(){return Object(i.a)(`<div class="page-content">\n      <header class="page-content__header">\n        <h2 class="page-content__title">Dashboard</h2>\n\n        <range-picker\n          data-from="${r}"\n          data-to="${o}"\n          ></range-picker>\n        </header>\n\n        <section class="page-section page-section--column-charts">\n          <column-chart\n            data-type="orders"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n\n          <column-chart\n            data-type="sales"\n            data-is-money="true"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n\n          <column-chart\n            data-type="customers"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n        </section>\n\n        <section class="page-section">\n          <h3 class="page-section__title">Bestsellers</h3>\n\n        <sortable-table\n          data-url="/api/dashboard/bestsellers?_embed=subcategory.category",\n          data-is-dynamic="0"\n          data-fields-list="['images', 'title', 'subcategory', 'quantity', 'price', 'status']"\n          data-order-field='title',\n          data-order-direction="1"\n          data-from="${r}"\n          data-to="${o}"\n          ></sortable-table>\n        </section>\n      </div>`)}}},function(t,e,s){"use strict";s.r(e);var i=s(0);e.default=class{async render(){return Object(i.a)('<div class="page-content">\n        <section class="page-section page-section--404">\n          <h2 class="page-section__title">Page not found</h2>\n          <p>No such page</p>\n        </section>\n      </div>')}}},function(t,e,s){"use strict";s.r(e),function(t){var i=s(0),n=s(6),a=s(13),r=s(16),o=s(1),c=s(3);s(31),s(32);e.default=class{constructor(e){this.id=e[0].replace("products/",""),e[0]||(this.id="3d-ochki-optoma-zd302"),this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.fetchProductUrl=this.apiUrl+`/api/rest/products?id=${this.id}`,this.fetchCategoriesUrl=this.apiUrl+"/api/rest/categories?_sort=weight&_refs=subcategory",this.uploadImage=this.uploadImage.bind(this)}async render(){const{productData:t,categories:e,errorMessage:s}=await this.loadData();if(s)return Object(i.a)(`<div class="page-content">\n        ${c.a}\n\n        ${s.outerHTML}\n      </div>\n      `);const n=t[0],a=this.getInputsList({product:n,categories:e});return this.elem=Object(i.a)(`<div class="page-content">\n      ${c.a}\n\n      <form action="" class="${o.a.form}}">\n        <ul class="${o.a.list}">\n          ${a.join("\n")}\n        </ul>\n\n        <footer class="${o.a.footer}">\n          <button class="${o.a.submit}">Save</button>\n        </footer>\n      </form>\n    </div>`),this.imgUploadButton=this.elem.querySelector(`.${o.a.inputUpload}`),this.imgList=this.elem.querySelector(`.${o.a.imgsList}`),this.addEvents(),this.elem}getInputsList({product:t,categories:e}){const s=[];for(const{name:i,mods:n}of r.a)if(a.a[i]){let r=t;"subcategory"===i&&(r={...r,categories:e});const c=a.a[i].render(r);let l=[o.a.item];n&&(l=l.concat(n)),s.push(`<li class="${l.join(" ")}">${c}</li>`)}return s}addEvents(){this.imgUploadButton.addEventListener("click",this.uploadImage)}async uploadImage(){let t;this.fileInput=this.fileInputCreate(),this.fileInput.click();this.fileInput.addEventListener("change",async()=>{this.imgUploadButton.classList.add(o.a.inputUploadLoading),this.imgUploadButton.disabled=!0;const e=this.fileInput.files[0];if(!e)return;const s=new FormData;s.append("image",e);try{const e=await Object(i.c)("https://api.imgur.com/3/image",{method:"POST",headers:{Authorization:"Client-ID e2b5c366b2d23fb"},body:s});t=e.data}finally{this.imgUploadButton.classList.remove(o.a.inputUploadLoading),this.imgUploadButton.disabled=!1,this.fileInput.remove()}this.addImageItem(t)})}fileInputCreate(){const t=document.createElement("input");return t.type="file",t.accept="image/*",document.body.append(t),t.hidden=!0,t}addImageItem({id:t,link:e,type:s}){const n=s.split("/")[1],a=Object(i.d)({tmpl:c.b,data:{url:e,source:`${t}.${n}`}});this.imgList.insertAdjacentHTML("beforeEnd",a)}async loadData(){try{const t=await Promise.all([Object(i.c)(this.fetchProductUrl),Object(i.c)(this.fetchCategoriesUrl)]);return{productData:t[0],categories:t[1]}}catch(t){return{errorMessage:new n.a({error:t}).elem}}}}}.call(this,s(8))},function(t,e,s){"use strict";s.p},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);e.default=class{async render(){return Object(i.a)("<div class=\"page-content\">\n      <section class=\"page-section\">\n        <h2 class=\"page-section__title\">Products</h2>\n\n        <sortable-table\n          data-url=\"/api/rest/products?_embed=subcategory.category\",\n          data-is-dynamic=\"1\"\n          data-fields-list=\"['images', 'title', 'subcategory', 'quantity', 'price', 'status']\"\n          data-order-field='title',\n          data-order-direction=\"1\"\n          ></sortable-table>\n      </section>\n    </div>")}}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);s(18);class n extends HTMLElement{connectedCallback(){this.append(this.render()),this.classList.add("page")}render(){return Object(i.a)('<div class="page-container">\n      <aside class="page-aside">\n        <h1 class="page-aside__title">\n          <a href="./">Shop admin</a>\n        </h1>\n\n        <nav class="page-aside__nav">\n          <ul class="page-aside__list">\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--dashboard"\n                href="./">\n                <span class="page-aside__link-text">\n                  Dashboard\n                </span>\n              </a>\n            </li>\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--products"\n                href="./products">\n                <span class="page-aside__link-text">\n                  Products\n                </span>\n              </a>\n            </li>\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--categories"\n                href="./categories">\n                <span class="page-aside__link-text">\n                  Categories\n                </span>\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </aside>\n\n      <main class="page-main" id="content">\n        \x3c!-- main content will be here --\x3e\n      </main>\n    </div>')}}var a=s(14),r="rangepicker",o="rangepicker--open",c="rangepicker__input",l="rangepicker__from",d="rangepicker__to",h="rangepicker__selector",u="rangepicker__selector-control",p="rangepicker__calendars",m="rangepicker__cell",g="rangepicker__selected-from",f="rangepicker__selected-between",b="rangepicker__selected-to";var v={input:`<button class="${c}" data-elem="input" type="button">\n  <span\n    class="${l}"\n    data-elem="from">{from}</span> -\n  <span\n    class="${d}"\n    data-elem="to"\n    >{to}</span>\n</button>`,selector:`\n<div class="${h}" data-elem="selector">\n  <div class="${"rangepicker__selector-arrow"}"></div>\n  <button\n    type="button"\n    class="${u} ${u}--left"\n    data-direction="prev"\n  ></button>\n  <button\n    type="button"\n    class="${u} ${u}--right"\n    data-direction="next"\n  ></button>\n  <div class="${p}"></div>\n</div>\n`,calendar:`\n<div class="${"rangepicker__calendar"}">\n  <div class="${"rangepicker__month-indicator"}">\n    <time datetime="{month}">{month}</time>\n  </div>\n  <div class="${"rangepicker__day-of-week"}">\n    {weekdays}\n  </div>\n  <div class="${"rangepicker__date-grid"}">\n    {days}\n  </div>\n</div>\n`,day:`\n<button type="button" class="${m} {mod}" data-value="{dateTime}" style="{style}">{dateNum}</button>\n`};s(21),s.p,s.p;class y extends HTMLElement{constructor(){super(),this.togglePicker=this.togglePicker.bind(this),this.selectorOnClick=this.selectorOnClick.bind(this),this.bodyOnClick=this.bodyOnClick.bind(this),this.updateRange=this.updateRange.bind(this),this.isOpened=!1,this.elem=this,this.elem.classList.add("rangepicker")}async connectedCallback(){const{from:t,to:e}=this.dataset;this.dates={from:new Date(t),to:new Date(e)},this.monthes=this.getDisplayedMonthes(),this.newDates=[],this.addInput(),document.addEventListener("changeDate",this.updateRange)}getDisplayedMonthes(){const t=new Date(this.dates.from);let e=t.getMonth();t.setDate(1);const s=new Date(t);return s.setMonth(++e),[t,s]}addInput(){const t={from:this.dates.from.toLocaleDateString(),to:this.dates.to.toLocaleDateString()},e=v.input,s=Object(i.d)({tmpl:e,data:t});this.elem.insertAdjacentHTML("afterBegin",s),this.input=this.elem.querySelector(`.${c}`),this.inputFrom=this.input.querySelector(`.${l}`),this.inputTo=this.input.querySelector(`.${d}`),this.input.addEventListener("pointerdown",this.togglePicker),document.body.addEventListener("pointerdown",this.bodyOnClick,{capture:!0})}bodyOnClick(){!event.target.closest(`.${r}`)&&this.isOpened&&this.hidePicker()}updateInput(){this.inputFrom.innerHTML=this.dates.from.toLocaleDateString(),this.inputTo.innerHTML=this.dates.to.toLocaleDateString()}updateRange(){this.monthes=this.getDisplayedMonthes(),this.newDates=[],this.updateInput(),this.hidePicker()}togglePicker(){this.isOpened?this.hidePicker():(this.showPicker(),this.isOpened=!0)}showPicker(){this.selector?this.calendars.innerHTML="":(this.addSelector(),this.selector=this.elem.querySelector(`.${h}`),this.calendars=this.elem.querySelector(`.${p}`),this.selector.addEventListener("click",this.selectorOnClick)),this.addCalendars(),this.elem.classList.add(o)}hidePicker(){this.elem.classList.remove(o),this.isOpened=!1,this.newDates=[]}addSelector(){const t=v.selector;this.elem.insertAdjacentHTML("beforeEnd",t)}selectorOnClick(){const{dataset:t}=event.target;t.value?this.setDay(event.target):t.direction&&this.moveMonth(t.direction)}setDay(t){const e=t.dataset.value;if(0===this.newDates.length)return this.newDates.push(new Date(e)),void this.updateSelected(t);this.newDates.push(new Date(e)),this.newDates.sort((t,e)=>t-e),this.dates={from:this.newDates[0],to:this.newDates[1]},document.dispatchEvent(new CustomEvent("changeDate",{detail:{dates:{from:this.dates.from.toISOString(),to:this.dates.to.toISOString()}}}))}moveMonth(t){let e=1;"prev"===t&&(e=-1),this.monthes.forEach(t=>{t.setMonth(t.getMonth()+e)}),this.updateCalendars()}addCalendars(){this.monthes.forEach(t=>{this.calendars.insertAdjacentHTML("beforeEnd",this.getCalendar(t))})}updateCalendars(){this.calendars.innerHTML="",this.addCalendars()}updateSelected(t){const e=this.elem.querySelectorAll(`.${m}`),s=[f,g,b];e.forEach(t=>{t.classList.remove(...s)}),t.classList.add(g)}getCalendar(t){const e={month:t.toLocaleString("default",{month:"long"}),weekdays:Object(i.g)("div"),days:this.getCells(t)},s=v.calendar;return Object(i.d)({tmpl:s,data:e})}getCells(t){const e=v.day,s=new Date(t),n=s.getMonth();let a=1,r="";for(;s.getMonth()===n;){const t=this.getCellStartStyle(s),n=this.getCellMod(s),o={dateTime:s.toISOString(),dateNum:s.getDate(),style:t,mod:n};r+=Object(i.d)({tmpl:e,data:o}),s.setDate(++a)}return r}getCellStartStyle(t){let e="";if(t.getDate()>1)return e;let s=t.getDay();return 0===s&&(s=7),e=`grid-column-start: ${s}`,e}getCellMod(t){let e="";if(this.newDates.length>0)return e;const s=t.valueOf(),i=this.dates.from.valueOf(),n=this.dates.to.valueOf();return s>i&&s<n?e=f:s===i?e=g:s===n&&(e=b),e}}var _=s(15);s(24),s.p;const $="draggable-list",w="draggable-list__item",L="draggable-list__item--dragged",T="draggable-list__item--placeholder";class D extends HTMLUListElement{constructor(){super(),this.current={},this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.move=this.move.bind(this),this.setPlaceholderHeight=this.setPlaceholderHeight.bind(this)}async connectedCallback(){this.classList.add($),this.items=this.querySelectorAll("li"),this.placeholder=this.createPlaceholder(),this.addClassToItems(),this.disableDefaultDragstart(),this.addEventListener("pointerdown",this.startDrag),this.addEventListener("pointerdown",this.setPlaceholderHeight,{once:!0}),this.addMutationObserver()}startDrag(t){this.current.elem=t.target.closest(".draggable-list__item"),this.current.elem&&(t.preventDefault(),this.current.height=this.current.elem.offsetHeight,this.current.half=this.current.height/2,this.current.offset=this.getCurrentOffset(t),this.current.scrollSteps=0,this.coords=this.getListCoords(),this.setCurrentItemTop(t),this.current.elem.replaceWith(this.placeholder),this.current.elem.classList.add(L),this.append(this.current.elem),this.addEventListener("pointermove",this.move),this.addEventListener("pointerup",this.stopDrag),document.addEventListener("pointerup",this.stopDrag))}getCurrentOffset(t){const{top:e}=this.current.elem.getBoundingClientRect();return t.clientY-e}getListCoords(){return this.getBoundingClientRect()}move(t){t.preventDefault(),this.setCurrentItemTop(t),this.scrollOnMove(t);const e=t.clientY-this.coords.top-this.current.half+this.current.half;for(const t of this.items){if(t.classList.contains(L))continue;const s=t.offsetTop,i=s+t.offsetHeight,n=s+t.offsetHeight/2;if(e>s&&e<i){e<=n?t.after(this.placeholder):t.before(this.placeholder);break}}}setCurrentItemTop(t){this.coords=this.getListCoords();let e=t.clientY-this.coords.top-this.current.offset;const s=-this.current.half,i=this.coords.height-this.current.half;e<s?e=s:e>i&&(e=i),this.current.elem.style.top=`${e}px`}scrollOnMove(t){const{top:e,bottom:s}=this.current.elem.getBoundingClientRect(),i=s-document.documentElement.clientHeight,n=document.documentElement.clientTop-e;let a=0;i>0?a=this.current.half:n>0&&(a=-this.current.half),a&&(window.scrollBy(0,a),this.setCurrentItemTop(t),this.current.offset=this.getCurrentOffset(t))}stopDrag(){this.placeholder.replaceWith(this.current.elem),this.current.elem.classList.remove(L),this.current.elem.style.top="",this.removeEventListener("pointermove",this.move),this.removeEventListener("pointerup",this.stopDrag)}createPlaceholder(){const t=this.items[0].cloneNode(!0);return t.classList.add(T,w),t.innerHTML="",t}setPlaceholderHeight(){const t=this.items[0];this.placeholder.style.minHeight=`${t.offsetHeight}px`}addClassToItems(){this.items.forEach(t=>t.classList.add(w))}addMutationObserver(){new MutationObserver(t=>{t.forEach(({type:t})=>{"childList"===t&&(this.items=this.querySelectorAll("li"),this.addClassToItems())})}).observe(this,{childList:!0})}disableDefaultDragstart(){this.items.forEach(t=>{t.ondragstart=()=>!1})}}class E{constructor(){this.routes=[],this.documentClick=this.documentClick.bind(this),document.addEventListener("click",this.documentClick)}static instance(){return this._instance||(this._instance=new E),this._instance}addRoute(t,e){return this.routes.push({pattern:t,path:e}),this}setNotFoundPage(t){return this.notFoundPagePath=t,this}navigate(t){history.pushState(null,null,t),this.route()}async route(){const t=(e=window.location.pathname,decodeURI(e).replace(/^\/shop-admin-page/,"").replace(/^\/|\/$/,"").replace(/\?.*$/,"").replace(/#.*$/,""));var e;let s;for(const e of this.routes)if(s=t.match(e.pattern),s){this.page=await this.changePage(e.path,s);break}s||(this.page=await this.changePage(this.notFoundPagePath))}async changePage(t,e){this.page&&this.page.destroy&&this.page.destroy(),this.page=await async function(t,e){const{default:i}=await s(25)(`./${t}/index.js`),n=new i(e),a=await n.render(),r=document.getElementById("content");r.innerHTML="",r.append(a)}(t,e)}addListener(){window.addEventListener("popstate",()=>this.route()),this.route()}documentClick(t){const e=t.target.closest("a");if(!e)return;const s=e.getAttribute("href");s&&(s.startsWith("/")||s.startsWith("./"))&&(t.preventDefault(),this.navigate(s))}}s(34);E.instance().addRoute(/^$/,"products/edit").addRoute(/^categories$/,"categories").addRoute(/^products\/([\S()-]+)/g,"products/edit").addRoute(/^products\/add$/,"products/edit").addRoute(/^products$/,"products").setNotFoundPage("error404").addListener(),window.customElements.define("page-layout",n),window.customElements.define("column-chart",a.a),window.customElements.define("range-picker",y),window.customElements.define("sortable-table",_.a),window.customElements.define("draggable-list",D,{extends:"ul"})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvY3JlYXRlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9lc2NhcGVIVE1MLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2ZpbGxUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9mb3JtYXREYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2Zvcm1hdFRvdGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2dldFdlZWtEYXlzLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3Rocm90dGxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL25vdGlmaWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2ZldGNoSnNvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29sdW1uQ2hhcnQvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvY2F0ZWdvcmllcy9jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BhZ2VNZXNzYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvZmllbGRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9zdGF0dXNUZXh0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1Rvb2x0aXBzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVG9vbHRpcHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9kaXJlY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3Byb2R1Y3RzL2VkaXQvc3RhdHVzVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ZpZWxkcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ZpZWxkc09yZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcyBlYWdlciBeXFwuXFwvLipcXC9pbmRleFxcLmpzJCBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9jYXRlZ29yaWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9kYXNoYm9hcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2Vycm9yNDA0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ljb24tdHJhc2guc3ZnIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MYXlvdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SYW5nZVBpY2tlci90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvYXJyb3ctaWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvY2FsZW5kYXItaWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlTGlzdC9ncmFiLWljb24uc3ZnIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZUxpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9yZW5kZXJQYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJkaXYiLCJlc2NhcGVIVE1MIiwic3RyaW5nIiwicmVwbGFjZSIsImZpbGxUZW1wbGF0ZSIsInRtcGwiLCJkYXRhIiwibWF0Y2giLCJzdHIiLCJ1bmRlZmluZWQiLCJmb3JtYXREYXRlIiwiZGF0YVBhcnRzIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsInNwbGl0IiwiZm9ybWF0VG90YWwiLCJudW0iLCJmb3JtYXR0ZWQiLCJ0YWlsIiwiZ2V0V2Vla0RheXMiLCJ0YWciLCJkYXRlIiwid2Vla2RheXNTdHIiLCJjb3VudGVyIiwidG9Mb2NhbGVTdHJpbmciLCJ3ZWVrZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ0aHJvdHRsZSIsImZ1bmMiLCJjb250ZXh0IiwidGltZW91dCIsImFyZ3MiLCJpc1dhaXRpbmciLCJpc0ZpcnN0Q2FsbCIsImFyZ3VtZW50cyIsImFwcGx5Iiwic2V0VGltZW91dCIsImNscyIsImVsZW0iLCJ3YXJuaW5nIiwiZXJyb3IiLCJOb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiY29udGFpbmVyIiwidHlwZSIsInRoaXMiLCJkdXJhdGlvbiIsImdldER1cmF0aW9uIiwiY2xhc3NOYW1lcyIsImdldENsYXNzZXMiLCJhZGRFbGVtIiwiaXNGaW5pc2hlZCIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJzdGF0ZSIsInByZXBlbmQiLCJoaWRlRWxlbSIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImNsYXNzZXMiLCJwdXNoIiwibm90aWZDb250YWluZXIiLCJib2R5IiwiYXBwZW5kIiwibm90aWZpY2F0aW9ucyIsImFzeW5jIiwiZmV0Y2hKU09OIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIkZldGNoRXJyb3IiLCJvayIsInN0YXR1c1RleHQiLCJqc29uIiwic3RhdHVzIiwiRXJyb3IiLCJzdXBlciIsIndpbmRvdyIsImV2ZW50IiwicmVhc29uIiwibm90aWZpY2F0aW9uIiwib2Zmc2V0VG9wIiwiZmlsdGVyIiwic2hpZnQiLCJmb3JtIiwibGlzdCIsIml0ZW0iLCJpdGVtVGlueSIsIml0ZW1Gb2xsb3ciLCJpdGVtRnVsbCIsImxhYmVsIiwiaW5wdXQiLCJpbnB1dFVwbG9hZCIsImlucHV0VXBsb2FkTG9hZGluZyIsImlucHV0VGV4dCIsImlucHV0TnVtYmVyIiwiaW5wdXRTZWxlY3QiLCJpbnB1dFRleHRhcmVhIiwiaW1nc0xpc3QiLCJpbWdzSXRlbSIsImltZyIsImltZ1dyYXBwZXIiLCJpbWdTb3VyY2UiLCJpbWdSZW1vdmUiLCJwcmV2aWV3IiwiZm9vdGVyIiwic3VibWl0IiwidGFibGUiLCJ0aGVhZCIsImhlYWRlciIsInJvdyIsImNlbGwiLCJjZWxsRXJyb3IiLCJjZWxsU29ydGVyIiwibGluayIsImNhdGVnb3J5IiwidG9vbHRpcENhdGVnb3J5IiwidG9vbHRpcFN1YmNhdGVnb3J5IiwiaW1nTGlzdEl0ZW0iLCJ0aXRsZSIsInRvdGFsIiwidG9vbHRpcCIsInRvb2x0aXBEYXRlIiwidG9vbHRpcFF1YW50aXR5IiwibGlzdFRvcCIsImxpc3RTdWJjYXRzIiwiaXRlbVRvcCIsIml0ZW1TdWIiLCJpdGVtT3BlbiIsInRvZ2dsZXIiLCJQYWdlTWVzc2FnZSIsInRleHQiLCJjYWxsYmFjayIsImNhbGxiYWNrVGV4dCIsImluc2VydEFkamFjZW50SFRNTCIsImltYWdlcyIsInNyYyIsImNvbXBhcmUiLCJyZW5kZXIiLCJpZCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsInN1YmNhdGVnb3J5IiwidG9vdGlwQ29udGVudCIsImFDYXROYW1lIiwiYkNhdE5hbWUiLCJxdWFudGl0eSIsInByaWNlIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJlIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiQXJyYXkiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiMCIsIjEiLCJkaW1TaWJsaW5ncyIsImxpc3RNb3VzZU1vdmUiLCJsaXN0TW91c2VPdXQiLCJ0YXJnZXQiLCJ0b29sdGlwQ29udGVudCIsImhpZGVUb29sdGlwIiwidmlzaWJsZSIsImVsZW1Db29yZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjb29yZHMiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwic3R5bGUiLCJ0b29sdGlwQ29vcmRzIiwiaGlkZGVuQnlXaW5kb3ciLCJyaWdodCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiZ2V0RGlyZWN0aW9uVGV4dCIsImlzQXNjIiwiZGlyZWN0aW9ucyIsImNoYXJ0SXRlbSIsImNhdGVnb3JpZXNUb0ZsYXRMaXN0IiwiY2F0ZWdvcmllcyIsImZsYXRMaXN0Iiwic3ViY2F0ZWdvcmllcyIsImdldE9wdGlvbnMiLCJzZWxlY3RlZCIsIm1hcCIsImluZGV4Iiwiam9pbiIsImltYWdlc0l0ZW1zIiwiZ2V0SW1nc0xpc3RNYXJrdXAiLCJmaWVsZE5hbWUiLCJkZXNjcmlwdGlvbiIsIm9wdGlvbnMiLCJkaXNjb3VudCIsInZhbHVlcyIsIkNvbHVtbkNoYXJ0IiwiSFRNTEVsZW1lbnQiLCJhcGlVcmwiLCJBUElfVVJMIiwiY2hhbmdlRGF0ZSIsImlzTW9uZXkiLCJmcm9tIiwidG8iLCJkYXRlcyIsImdldFVybCIsImdldERhdGEiLCJoZWFkZXJTdHIiLCJnZXRIZWFkZXJTdHIiLCJsaXN0U3RyIiwiZ2V0TGlzdFN0ciIsImFkZEFjdGlvbnMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VycmVudCIsIm1heCIsIk1hdGgiLCJjaGFydFN0ciIsImhlaWdodCIsInRvRml4ZWQiLCJ0b29sdGlwcyIsImRldGFpbCIsIlNvcnRhYmxlVGFibGUiLCJzb3J0aW5nIiwicGFnZSIsIml0ZW1zIiwiaXNEYXRhRW5kZWQiLCJmaWVsZHNMaXN0Iiwib3JkZXJGaWVsZCIsIm9yZGVyRGlyZWN0aW9uIiwiaXNEeW5hbWljIiwiSlNPTiIsInBhcnNlIiwib3JkZXIiLCJmaWVsZCIsImRpcmVjdGlvbiIsImluaXRUYWJsZSIsImlzTG9hZGluZyIsImZldGNoVXJsIiwiZ2V0RmV0Y2hVcmwiLCJvbkJvZHlTY3JvbGxUaHJvdHRsZSIsIm9uQm9keVNjcm9sbCIsImxvYWRpbmciLCJ0YWJsZURhdGEiLCJ0Qm9keSIsIm91dGVySFRNTCIsImNyZWF0ZUxheW91dCIsImFkZEVsZW1IZWFkZXIiLCJhZGRUYWJsZUV2ZW50cyIsImZpbGxUQm9keSIsInRhYmxlUm93cyIsImxvYWREYXRhIiwic29ydFJvd3MiLCJyZW5kZXJUQm9keSIsInN0YXJ0IiwiZW5kIiwic29ydCIsInBhcmFtc1N0ciIsInByZWZpeCIsImhlYWRlckNvbnRlbnQiLCJmb3JFYWNoIiwidGhDbGFzcyIsInNvcnRlciIsInNvcnREaXJlY3Rpb24iLCJ0aGVhZFN0ciIsInF1ZXJ5U2VsZWN0b3IiLCJ0aCIsInNvcnRSb3dzRHluYW1pYyIsInJldmVyc2UiLCJzb3J0ZXJPbkNsaWNrIiwiYm90dG9tIiwiaW5uZXJIZWlnaHQiLCJwYWdlWU9mZnNldCIsInJvd0NvbnRlbnQiLCJ0ZENsYXNzZXMiLCJ0b0xvd2VyQ2FzZSIsInJlbmRlcmVkQ29udGVudCIsInJlbmRlckZpZWxkIiwic2Nyb2xsVG8iLCJtb2RzIiwid2VicGFja0FzeW5jQ29udGV4dCIsInJlcSIsIndlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlIiwidGhlbiIsImNvZGUiLCJrZXlzIiwibGlzdENsaWNrIiwiY3JlYXRlTGlzdCIsImFkZEV2ZW50cyIsImlzU3ViY2F0IiwiaXRlbXNTdHIiLCJsaXN0Q2xhc3MiLCJpdGVtQ2xhc3MiLCJpc0RyYWdnYWJsZUF0dHIiLCJzdWJDYXRzTGlzdCIsInN1YkNhdHMiLCJjb3VudGVyVGV4dCIsImdldFBsdXJhbCIsImNvdW50IiwiY2xvc2VzdCIsInRvZ2dsZSIsInZhcmlhbnRzIiwidmFyaWFudCIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJ0b0lTT1N0cmluZyIsImZldGNoUHJvZHVjdFVybCIsImZldGNoQ2F0ZWdvcmllc1VybCIsInVwbG9hZEltYWdlIiwicHJvZHVjdERhdGEiLCJlcnJvck1lc3NhZ2UiLCJwcm9kdWN0IiwiaW5wdXRzIiwiZ2V0SW5wdXRzTGlzdCIsImltZ1VwbG9hZEJ1dHRvbiIsImltZ0xpc3QiLCJpbWFnZURhdGEiLCJmaWxlSW5wdXQiLCJmaWxlSW5wdXRDcmVhdGUiLCJjbGljayIsImRpc2FibGVkIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInJlc3VsdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYWRkSW1hZ2VJdGVtIiwiYWNjZXB0IiwiaGlkZGVuIiwiZXh0Iiwic291cmNlIiwiYWxsIiwic2VsZWN0b3IiLCJjYWxlbmRhciIsImRheSIsInRvZ2dsZVBpY2tlciIsInNlbGVjdG9yT25DbGljayIsImJvZHlPbkNsaWNrIiwidXBkYXRlUmFuZ2UiLCJpc09wZW5lZCIsIm1vbnRoZXMiLCJnZXREaXNwbGF5ZWRNb250aGVzIiwibmV3RGF0ZXMiLCJhZGRJbnB1dCIsImN1cnJlbnRNb250aCIsIm1vbnRoIiwibmV4dE1vbnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidGVtcGxhdGVzIiwiaW5wdXRTdHIiLCJpbnB1dEZyb20iLCJpbnB1dFRvIiwiY2FwdHVyZSIsImhpZGVQaWNrZXIiLCJ1cGRhdGVJbnB1dCIsInNob3dQaWNrZXIiLCJjYWxlbmRhcnMiLCJhZGRTZWxlY3RvciIsImFkZENhbGVuZGFycyIsInNlbGVjdG9yU3RyIiwic2V0RGF5IiwibW92ZU1vbnRoIiwidXBkYXRlU2VsZWN0ZWQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJzdGVwIiwidXBkYXRlQ2FsZW5kYXJzIiwiZ2V0Q2FsZW5kYXIiLCJjZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3ZWVrZGF5cyIsImRheXMiLCJnZXRDZWxscyIsImN1cnJlbnREYXRlIiwiY3VycmVudERheSIsImRheXNTdHIiLCJnZXRDZWxsU3RhcnRTdHlsZSIsIm1vZCIsImdldENlbGxNb2QiLCJkYXRlVGltZSIsImRhdGVOdW0iLCJ3ZWVrZGF5TnVtIiwiZ2V0RGF5IiwiZGF0ZU1zIiwidmFsdWVPZiIsImRhdGVGcm9tTXMiLCJkYXRlVG9NcyIsIkRyYWdnYWJsZUxpc3QiLCJIVE1MVUxpc3RFbGVtZW50Iiwic3RhcnREcmFnIiwic3RvcERyYWciLCJtb3ZlIiwic2V0UGxhY2Vob2xkZXJIZWlnaHQiLCJwbGFjZWhvbGRlciIsImNyZWF0ZVBsYWNlaG9sZGVyIiwiYWRkQ2xhc3NUb0l0ZW1zIiwiZGlzYWJsZURlZmF1bHREcmFnc3RhcnQiLCJhZGRNdXRhdGlvbk9ic2VydmVyIiwicHJldmVudERlZmF1bHQiLCJvZmZzZXRIZWlnaHQiLCJoYWxmIiwib2Zmc2V0IiwiZ2V0Q3VycmVudE9mZnNldCIsInNjcm9sbFN0ZXBzIiwiZ2V0TGlzdENvb3JkcyIsInNldEN1cnJlbnRJdGVtVG9wIiwicmVwbGFjZVdpdGgiLCJ0b3AiLCJzY3JvbGxPbk1vdmUiLCJjaGVja0xpbmUiLCJjb250YWlucyIsIm1pZGRsZSIsImFmdGVyIiwiYmVmb3JlIiwiZWxlbVRvcCIsIm1pbiIsImRvY3VtZW50T3ZlcmZsb3ciLCJjbGllbnRIZWlnaHQiLCJjbGllbnRUb3AiLCJzY3JvbGxTaXplIiwic2Nyb2xsQnkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvbmVOb2RlIiwiZmlyc3RJdGVtIiwibWluSGVpZ2h0IiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJvbmRyYWdzdGFydCIsInJvdXRlcyIsImRvY3VtZW50Q2xpY2siLCJfaW5zdGFuY2UiLCJwYXR0ZXJuIiwicGF0aCIsIm5vdEZvdW5kUGFnZVBhdGgiLCJocmVmIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJvdXRlIiwic3RyaXBwZWRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImRlY29kZVVSSSIsImNoYW5nZVBhZ2UiLCJkZXN0cm95IiwiZGVmYXVsdCIsIlBhZ2UiLCJyZW5kZXJlZFBhZ2UiLCJjb250ZW50RWxlbSIsImdldEVsZW1lbnRCeUlkIiwicmVuZGVyUGFnZSIsImdldEF0dHJpYnV0ZSIsInN0YXJ0c1dpdGgiLCJuYXZpZ2F0ZSIsImluc3RhbmNlIiwiYWRkUm91dGUiLCJzZXROb3RGb3VuZFBhZ2UiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsImV4dGVuZHMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FB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ZSxXQUM1Q0QsRUFBWXRmLFVBQVksR0FDeEJzZixFQUFZOWEsT0FBTzZhLEdEa0RDRyxDQUFXakIsRUFBTTdkLEdBR3JDLGNBQ0U0RSxPQUFPcEIsaUJBQWlCLFdBQVksSUFBTWpCLEtBQUsyYixTQUMvQzNiLEtBQUsyYixRQUdQLGNBQWVyWixHQUNiLE1BQU1vQyxFQUFPcEMsRUFBTTBILE9BQU80SSxRQUFRLEtBRWxDLElBQUtsTyxFQUNILE9BR0YsTUFBTThXLEVBQU85VyxFQUFLOFgsYUFBYSxRQUUzQmhCLElBQVNBLEVBQUtpQixXQUFXLE1BQVFqQixFQUFLaUIsV0FBVyxTQUNuRG5hLEVBQU00VyxpQkFDTmxaLEtBQUswYyxTQUFTbEIsSyxNRXBFTCxFQUFPbUIsV0FJbkJDLFNBQVMsS0FBTSxpQkFDZkEsU0FBUyxlQUFnQixjQUN6QkEsU0FBUyx5QkFBMEIsaUJBQ25DQSxTQUFTLGtCQUFtQixpQkFDNUJBLFNBQVMsYUFBYyxZQUN2QkMsZ0JBQWdCLFlBQ2hCaFUsY0FHSHhHLE9BQU95YSxlQUFlQyxPQUFPLGNBQWUsR0FDNUMxYSxPQUFPeWEsZUFBZUMsT0FBTyxlQUFnQjFRLEVBQUEsR0FDN0NoSyxPQUFPeWEsZUFBZUMsT0FBTyxlQUFnQixHQUM3QzFhLE9BQU95YSxlQUFlQyxPQUFPLGlCQUFrQmhQLEVBQUEsR0FDL0MxTCxPQUFPeWEsZUFBZUMsT0FBTyxpQkFBa0J4RSxFQUFlLENBQUV5RSxRQUFTIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3Nob3AtYWRtaW4tcGFnZS9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDM1KTtcbiIsIi8vIG5pY2Ugb3ZlcnZpZXc6XG4vLyBodHRwczovL2dycnIudGVjaC9wb3N0cy9jcmVhdGUtZG9tLW5vZGUtZnJvbS1odG1sLXN0cmluZy9cblxuLy8gbm8gSUUxMVxuY29uc3Qgc3VwcG9ydHNUZW1wbGF0ZSA9ICdjb250ZW50JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gc3VwcG9ydHNUZW1wbGF0ZVxuICA/IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuICA6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIGRpdi5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtZW50O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXNjYXBlSFRNTCAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICAucmVwbGFjZSgvJi9nLCAnJicpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpXG4gICAgLnJlcGxhY2UoLzwvZywgJzwnKVxuICAgIC5yZXBsYWNlKC8+L2csICc+Jyk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaWxsVGVtcGxhdGUgKHsgdG1wbCwgZGF0YSB9KSB7XG4gIGlmICghdG1wbCB8fCAhZGF0YSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiB0bXBsLnJlcGxhY2UoL3soW15cIl17MSx9KX0vZywgKG1hdGNoLCBzdHIpID0+IHtcbiAgICBpZiAoZGF0YVtzdHJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBkYXRhW3N0cl07XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXREYXRlIChzdHIpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHN0cikudG9EYXRlU3RyaW5nKCk7XG4gIGNvbnN0IGRhdGFQYXJ0cyA9IGRhdGUuc3BsaXQoJyAnKTtcbiAgY29uc3QgbW9udGggPSBkYXRhUGFydHNbMV07XG4gIGNvbnN0IGRheSA9IGRhdGFQYXJ0c1syXTtcbiAgY29uc3QgeWVhciA9IGRhdGFQYXJ0c1szXTtcblxuICByZXR1cm4gYCR7bW9udGh9ICR7ZGF5fSwgJHt5ZWFyfWA7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRUb3RhbCAobnVtKSB7XG4gIGxldCBmb3JtYXR0ZWQgPSBudW07XG4gIGlmIChudW0gPj0gMTAwMCkge1xuICAgIGNvbnN0IHRhaWwgPSBudW0gJSAxMDAwO1xuICAgIGZvcm1hdHRlZCA9IGAkeyhudW0gLSB0YWlsKSAvIDEwMDB9LCR7dGFpbH1gO1xuICB9XG5cbiAgcmV0dXJuIGAkJHtmb3JtYXR0ZWR9YDtcbn1cbiIsIi8vIERpcnR5IHdheSB0byBnZXQgd2Vla2RheXMgaW4gY3VycmVudCBsYW5nXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXZWVrRGF5cyAodGFnKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgxOTcwLCAwLCA1KTtcbiAgbGV0IHdlZWtkYXlzU3RyID0gJyc7XG4gIGxldCBjb3VudGVyID0gMDtcblxuICB3aGlsZSAoY291bnRlciA8IDcpIHtcbiAgICBjb25zdCBkYXluYW1lID0gZGF0ZS50b0xvY2FsZVN0cmluZygnZGVmYXVsdCcsIHsgd2Vla2RheTogJ25hcnJvdycgfSk7XG4gICAgd2Vla2RheXNTdHIgKz0gYDwke3RhZ30+JHtkYXluYW1lfTwvJHt0YWd9PmA7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgY291bnRlcisrO1xuICB9XG5cbiAgcmV0dXJuIHdlZWtkYXlzU3RyO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyb3R0bGUgKGZ1bmMsIGNvbnRleHQsIHRpbWVvdXQpIHtcbiAgbGV0IGFyZ3M7XG4gIGxldCBpc1dhaXRpbmcgPSBmYWxzZTtcbiAgbGV0IGlzRmlyc3RDYWxsID0gdHJ1ZTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICBpZiAoaXNGaXJzdENhbGwpIHtcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgLi4uYXJncyk7XG4gICAgICBpc0ZpcnN0Q2FsbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNXYWl0aW5nKSB7XG4gICAgICBpc1dhaXRpbmcgPSB0cnVlO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCAuLi5hcmdzKTtcbiAgICAgICAgaXNXYWl0aW5nID0gZmFsc2U7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5jb25zdCBjbHMgPSB7XG4gIGVsZW06ICdub3RpZmljYXRpb24nLFxuICB3YXJuaW5nOiAnbm90aWZpY2F0aW9uLS13YXJuaW5nJyxcbiAgZXJyb3I6ICdub3RpZmljYXRpb24tLWVycm9yJ1xufTtcblxuY29uc3Qgc2Vjb25kID0gMTAwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgY29uc3RydWN0b3IgKHsgbWVzc2FnZSwgY29udGFpbmVyLCB0eXBlIH0pIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMuZ2V0RHVyYXRpb24oKTtcbiAgICB0aGlzLmNsYXNzTmFtZXMgPSB0aGlzLmdldENsYXNzZXMoKTtcbiAgICB0aGlzLmFkZEVsZW0oKTtcbiAgICB0aGlzLmlzRmluaXNoZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGFkZEVsZW0gKCkge1xuICAgIHRoaXMuZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKC4uLnRoaXMuY2xhc3NOYW1lcyk7XG4gICAgdGhpcy5lbGVtLmRhdGFzZXQuc3RhdGUgPSAnc2hvd24nO1xuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB0aGlzLm1lc3NhZ2U7XG4gICAgdGhpcy5jb250YWluZXIucHJlcGVuZCh0aGlzLmVsZW0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuaGlkZUVsZW0oKTsgfSwgdGhpcy5kdXJhdGlvbik7XG4gIH1cblxuICBhc3luYyBoaWRlRWxlbSAocGFyYW1zID0ge30pIHtcbiAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xuICAgIHRoaXMuZWxlbS5kYXRhc2V0LnN0YXRlID0gJ2hpZGRlbic7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbGVtLnJlbW92ZSgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldER1cmF0aW9uICgpIHtcbiAgICBpZiAodGhpcy50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICByZXR1cm4gNSAqIHNlY29uZDtcbiAgICB9XG5cbiAgICByZXR1cm4gMyAqIHNlY29uZDtcbiAgfVxuXG4gIGdldENsYXNzZXMgKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbY2xzLmVsZW1dO1xuXG4gICAgaWYgKHRoaXMudHlwZSAmJiBjbHNbdGhpcy50eXBlXSkge1xuICAgICAgY2xhc3Nlcy5wdXNoKGNsc1t0aGlzLnR5cGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NlcztcbiAgfVxufVxuIiwiaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL05vdGlmaWNhdGlvbi9pbmRleC5qcyc7XG5cbmNvbnN0IG5vdGlmQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5ub3RpZkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb25zJyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZChub3RpZkNvbnRhaW5lcik7XG5cbmxldCBub3RpZmljYXRpb25zID0gW107XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeSAobWVzc2FnZSwgdHlwZSkge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKHtcbiAgICBtZXNzYWdlLFxuICAgIGNvbnRhaW5lcjogbm90aWZDb250YWluZXIsXG4gICAgdHlwZVxuICB9KTtcblxuICBub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcblxuICBpZiAobm90aWZpY2F0aW9uLmVsZW0ub2Zmc2V0VG9wIDwgMCkge1xuICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmZpbHRlcihub3RpZmljYXRpb24gPT4ge1xuICAgICAgcmV0dXJuICFub3RpZmljYXRpb24uaXNGaW5pc2hlZDtcbiAgICB9KTtcbiAgICBub3RpZmljYXRpb25zLnNoaWZ0KCkuaGlkZUVsZW0oKTtcbiAgfVxufVxuIiwiLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vaWxpYWthbi9kZDZhZDBkYWRiNjYzMDU0NGQxMTg3YzRjOTRjY2Y0MFxuaW1wb3J0IG5vdGlmaWVyIGZyb20gJy4uL2xpYi9ub3RpZmllci5qcyc7XG5cbi8vIGNvbnNvbGUuY2xlYXIoKTtcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGZldGNoSlNPTiAodXJsLCBwYXJhbXMpIHtcbiAgbGV0IHJlc3BvbnNlO1xuXG4gIC8vIEVycm9yIHdoaWxlIGxvYWRpbmcgKGJhZCB1cmwgb3IgY29ubmVjdGlvbilcbiAgdHJ5IHtcbiAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgcGFyYW1zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRmV0Y2hFcnJvcihyZXNwb25zZSwgbnVsbCwgYE5ldHdvcmsgZXJyb3IgZm9yIHVybCAke3VybH1gKTtcbiAgfVxuXG4gIC8vIEJhZCByZXNwb25zZSBmcm9tIHNlcnZlclxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgbGV0IGJvZHk7XG4gICAgY29uc3Qgc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cbiAgICB0cnkge1xuICAgICAgYm9keSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIC8vIGNhbid0IHJlcHJvZHVjZSBnZXR0aW5nIGJvZHkgd2l0aCBub3Qgb2sgc3RhdHVzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgbGV0IG1lc3NhZ2UgPSBgRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9IGZvciB1cmwgJHt1cmx9YDtcblxuICAgIGlmIChzdGF0dXNUZXh0KSB7XG4gICAgICBtZXNzYWdlICs9IGA6ICR7c3RhdHVzVGV4dH1gO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBGZXRjaEVycm9yKHJlc3BvbnNlLCBib2R5LCBtZXNzYWdlKTtcbiAgfVxuXG4gIC8vIFJlc3BvbnNlIGlzIGNvcnJlY3QsIHRyeSB0byBnZXQgZGF0YVxuICB0cnkge1xuICAgIHJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBGZXRjaEVycm9yKHJlc3BvbnNlLCBudWxsLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuY2xhc3MgRmV0Y2hFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IgKHJlc3BvbnNlLCBib2R5LCBtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ0ZldGNoRXJyb3InO1xuXG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gIH1cbn1cblxuLy8gaGFuZGxlIHVuY2F1Z2h0IGZhaWxlZCBmZXRjaCB0aHJvdWdoXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5oYW5kbGVkcmVqZWN0aW9uJywgZXZlbnQgPT4ge1xuICBpZiAoZXZlbnQucmVhc29uIGluc3RhbmNlb2YgRmV0Y2hFcnJvcikge1xuICAgIG5vdGlmaWVyKGV2ZW50LnJlYXNvbi5tZXNzYWdlLCAnZXJyb3InKTtcbiAgfVxufSk7XG4iLCJpbXBvcnQgY3JlYXRlRWxlbWVudCBmcm9tICcuL2NyZWF0ZUVsZW1lbnQuanMnO1xuaW1wb3J0IGVzY2FwZUhUTUwgZnJvbSAnLi9lc2NhcGVIVE1MLmpzJztcbmltcG9ydCBmaWxsVGVtcGxhdGUgZnJvbSAnLi9maWxsVGVtcGxhdGUuanMnO1xuaW1wb3J0IGZvcm1hdERhdGUgZnJvbSAnLi9mb3JtYXREYXRlLmpzJztcbmltcG9ydCBmb3JtYXRUb3RhbCBmcm9tICcuL2Zvcm1hdFRvdGFsLmpzJztcbmltcG9ydCBnZXREYXRlRnJvbVN0cmluZyBmcm9tICcuL2dldERhdGVGcm9tU3RyaW5nLmpzJztcbmltcG9ydCBnZXRXZWVrRGF5cyBmcm9tICcuL2dldFdlZWtEYXlzLmpzJztcbmltcG9ydCB0aHJvdHRsZSBmcm9tICcuL3Rocm90dGxlLmpzJztcbmltcG9ydCBmZXRjaEpzb24gZnJvbSAnLi9mZXRjaEpzb24uanMnO1xuXG5leHBvcnQge1xuICBjcmVhdGVFbGVtZW50LFxuICBlc2NhcGVIVE1MLFxuICBmaWxsVGVtcGxhdGUsXG4gIGZvcm1hdERhdGUsXG4gIGZvcm1hdFRvdGFsLFxuICBnZXREYXRlRnJvbVN0cmluZyxcbiAgZ2V0V2Vla0RheXMsXG4gIHRocm90dGxlLFxuICBmZXRjaEpzb25cbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGZvcm06ICdwcm9kdWN0LWZvcm0nLFxuICBsaXN0OiAncHJvZHVjdC1mb3JtX19saXN0JyxcbiAgaXRlbTogJ3Byb2R1Y3QtZm9ybV9faXRlbScsXG4gIGl0ZW1UaW55OiAncHJvZHVjdC1mb3JtX19pdGVtLS10aW55JyxcbiAgaXRlbUZvbGxvdzogJ3Byb2R1Y3QtZm9ybV9faXRlbS0tZm9sbG93JyxcbiAgaXRlbUZ1bGw6ICdwcm9kdWN0LWZvcm1fX2l0ZW0tLWZ1bGwnLFxuICBsYWJlbDogJ3Byb2R1Y3QtZm9ybV9fbGFiZWwnLFxuICBpbnB1dDogJ3Byb2R1Y3QtZm9ybV9faW5wdXQnLFxuICBpbnB1dFVwbG9hZDogJ3Byb2R1Y3QtZm9ybV9fdXBsb2FkJyxcbiAgaW5wdXRVcGxvYWRMb2FkaW5nOiAncHJvZHVjdC1mb3JtX191cGxvYWQtLWxvYWRpbmcnLFxuICBpbnB1dFRleHQ6ICdwcm9kdWN0LWZvcm1fX2lucHV0LS10ZXh0JyxcbiAgaW5wdXROdW1iZXI6ICdwcm9kdWN0LWZvcm1fX2lucHV0LS1udW1iZXInLFxuICBpbnB1dFNlbGVjdDogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLXNlbGVjdCcsXG4gIGlucHV0VGV4dGFyZWE6ICdwcm9kdWN0LWZvcm1fX2lucHV0LS10ZXh0YXJlYScsXG4gIGltZ3NMaXN0OiAncHJvZHVjdC1mb3JtX19pbWFnZXMtbGlzdCcsXG4gIGltZ3NJdGVtOiAncHJvZHVjdC1mb3JtX19pbWFnZXMtaXRlbScsXG4gIGltZzogJ3Byb2R1Y3QtZm9ybV9faW1hZ2UnLFxuICBpbWdXcmFwcGVyOiAncHJvZHVjdC1mb3JtX19pbWFnZS13cmFwcGVyJyxcbiAgaW1nU291cmNlOiAncHJvZHVjdC1mb3JtX19pbWFnZS1zb3VyY2UnLFxuICBpbWdSZW1vdmU6ICdwcm9kdWN0LWZvcm1fX2ltYWdlLXJlbW92ZScsXG4gIHByZXZpZXc6ICdwcm9kdWN0LWZvcm1fX3ByZXZpZXcnLFxuICBmb290ZXI6ICdwcm9kdWN0LWZvcm1fX2Zvb3RlcicsXG4gIHN1Ym1pdDogJ3Byb2R1Y3QtZm9ybV9fc3VibWl0J1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ3NvcnRhYmxlLXRhYmxlJyxcbiAgdGFibGU6ICdzb3J0YWJsZS10YWJsZV9fdGFibGUnLFxuICB0aGVhZDogJ3NvcnRhYmxlLXRhYmxlX190aGVhZCcsXG4gIGhlYWRlcjogJ3NvcnRhYmxlLXRhYmxlX19oZWFkZXInLFxuICByb3c6ICdzb3J0YWJsZS10YWJsZV9fcm93JyxcbiAgY2VsbDogJ3NvcnRhYmxlLXRhYmxlX19jZWxsJyxcbiAgY2VsbEVycm9yOiAnc29ydGFibGUtdGFibGVfX2NlbGwtLWVycm9yJyxcbiAgY2VsbFNvcnRlcjogJ3NvcnRhYmxlLXRhYmxlX19jZWxsLS1zb3J0ZXInLFxuICBpbWc6ICdzb3J0YWJsZS10YWJsZV9faW1hZ2UnLFxuICBpbWdXcmFwcGVyOiAnc29ydGFibGUtdGFibGVfX2ltYWdlLXdyYXBwZXInLFxuICBwcmV2aWV3OiAnc29ydGFibGUtdGFibGVfX3ByZXZpZXcnLFxuICBsaW5rOiAnc29ydGFibGUtdGFibGVfX2xpbmsnLFxuICBjYXRlZ29yeTogJ3NvcnRhYmxlLXRhYmxlX19jYXRlZ29yeScsXG4gIHRvb2x0aXBDYXRlZ29yeTogJ3NvcnRhYmxlLXRhYmxlX190b29sdGlwLWNhdGVnb3J5JyxcbiAgdG9vbHRpcFN1YmNhdGVnb3J5OiAnc29ydGFibGUtdGFibGVfX3Rvb2x0aXAtc3ViY2F0ZWdvcnknXG59O1xuIiwiaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG5leHBvcnQgY29uc3QgaGVhZGVyID0gYDxoZWFkZXIgY2xhc3M9XCJwYWdlLWNvbnRlbnRfX2hlYWRlclwiPlxuICA8aDIgY2xhc3M9XCJwYWdlLWNvbnRlbnRfX3RpdGxlXCI+XG4gIDxhIGhyZWY9XCIuL3Byb2R1Y3RzXCI+UHJvZHVjdHM8L2E+XG4gIC9FZGl0IFByb2R1Y3Q8L2gyPlxuPC9oZWFkZXI+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0VGV4dCA9IGA8bGFiZWwgY2xhc3M9XCIke2Nscy5sYWJlbH1cIj5cbiAge2ZpZWxkTmFtZX1cblxuICA8aW5wdXRcbiAgICBjbGFzcz1cIiR7Y2xzLmlucHV0fSAke2Nscy5pbnB1dFRleHR9XCJcbiAgICB0eXBlPVwidGV4dFwiXG4gICAgbmFtZT1cIntpZH1cIlxuICAgIHZhbHVlPVwie3ZhbHVlfVwiLz5cbjwvbGFiZWw+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0TnVtYmVyID0gYDxsYWJlbCBjbGFzcz1cIiR7Y2xzLmxhYmVsfVwiPlxuICB7ZmllbGROYW1lfVxuXG4gIDxpbnB1dFxuICAgIGNsYXNzPVwiJHtjbHMuaW5wdXR9ICR7Y2xzLmlucHV0TnVtYmVyfVwiXG4gICAgdHlwZT1cIm51bWJlclwiXG4gICAgbmFtZT1cIntpZH1cIlxuICAgIHZhbHVlPVwie3ZhbHVlfVwiLz5cbjwvbGFiZWw+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0VGV4dGFyZWEgPSBgPGxhYmVsIGNsYXNzPVwiJHtjbHMubGFiZWx9XCI+XG4gIHtmaWVsZE5hbWV9XG5cbiAgPHRleHRhcmVhXG4gICAgY2xhc3M9XCIke2Nscy5pbnB1dH0gJHtjbHMuaW5wdXRUZXh0YXJlYX1cIlxuICAgIG5hbWU9XCJ7aWR9XCI+e3ZhbHVlfTwvdGV4dGFyZWE+XG48L2xhYmVsPmA7XG5cbmV4cG9ydCBjb25zdCBpbnB1dFNlbGVjdCA9IGA8bGFiZWwgY2xhc3M9XCIke2Nscy5sYWJlbH1cIj5cbiAge2ZpZWxkTmFtZX1cblxuICA8c2VsZWN0XG4gICAgY2xhc3M9XCIke2Nscy5pbnB1dH0gJHtjbHMuaW5wdXRTZWxlY3R9XCJcbiAgICBuYW1lPVwie2lkfVwiPlxuICAgIHtvcHRpb25zfVxuICA8L3NlbGVjdD5cbjwvbGFiZWw+YDtcblxuZXhwb3J0IGNvbnN0IGltZ0xpc3RJdGVtID0gYDxsaSBjbGFzcz1cIiR7Y2xzLmltZ3NJdGVtfVwiPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMuaW1nV3JhcHBlcn1cIj5cbiAgICA8aW1nIHNyYz1cInt1cmx9XCIgY2xhc3M9XCIke2Nscy5pbWd9XCI+XG4gICAgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoe3VybH0pXCIgY2xhc3M9XCIke2Nscy5wcmV2aWV3fVwiPjxzcGFuPlxuICA8L2Rpdj5cbiAgPHNwYW4gY2xhc3M9XCIke2Nscy5pbWdTb3VyY2V9XCI+e3NvdXJjZX08L3NwYW4+XG4gIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtjbHMuaW1nUmVtb3ZlfVwiPlJlbW92ZTwvYnV0dG9uPlxuPC9saT5gO1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBlbGVtOiAnY29sdW1uLWNoYXJ0JyxcbiAgY29udGVudDogJ2NvbHVtbi1jaGFydF9fY29udGVudCcsXG4gIGhlYWRlcjogJ2NvbHVtbi1jaGFydF9faGVhZGVyJyxcbiAgdGl0bGU6ICdjb2x1bW4tY2hhcnRfX3RpdGxlJyxcbiAgdG90YWw6ICdjb2x1bW4tY2hhcnRfX3RvdGFsJyxcbiAgbGlzdDogJ2NvbHVtbi1jaGFydF9fbGlzdCcsXG4gIGl0ZW06ICdjb2x1bW4tY2hhcnRfX2l0ZW0nLFxuICB0b29sdGlwOiAnY29sdW1uLWNoYXJ0X190b29sdGlwJyxcbiAgdG9vbHRpcERhdGU6ICdjb2x1bW4tY2hhcnRfX3Rvb2x0aXAtZGF0ZScsXG4gIHRvb2x0aXBRdWFudGl0eTogJ2NvbHVtbi1jaGFydF9fdG9vbHRpcC1xdWFudGl0eScsXG4gIGVycm9yOiAnY29sdW1uLWNoYXJ0X19lcnJvcidcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGVsZW06ICdjYXRlZ29yaWVzJyxcbiAgbGlzdDogJ2NhdGVnb3JpZXNfX2xpc3QnLFxuICBsaXN0VG9wOiAnY2F0ZWdvcmllc19fbGlzdC0tdG9wY2F0ZWdvcmllcycsXG4gIGxpc3RTdWJjYXRzOiAnY2F0ZWdvcmllc19fbGlzdC0tc3ViY2F0ZWdvcmllcycsXG4gIGl0ZW06ICdjYXRlZ29yaWVzX19pdGVtJyxcbiAgaXRlbVRvcDogJ2NhdGVnb3JpZXNfX2l0ZW0tLXRvcGNhdGVnb3J5JyxcbiAgaXRlbVN1YjogJ2NhdGVnb3JpZXNfX2l0ZW0tLXN1YmNhdGVnb3J5JyxcbiAgaXRlbU9wZW46ICdjYXRlZ29yaWVzX19pdGVtLS1vcGVuJyxcbiAgdG9nZ2xlcjogJ2NhdGVnb3JpZXNfX3RvZ2dsZXInLFxuICBjb3VudGVyOiAnY2F0ZWdvcmllc19fY291bnRlcidcbn07XG4iLCJpbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlTWVzc2FnZSB7XG4gIGNvbnN0cnVjdG9yICh7IHRpdGxlLCB0ZXh0LCBjYWxsYmFjaywgY2FsbGJhY2tUZXh0LCBlcnJvciB9KSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMudGV4dCA9IHRleHQgfHwgJ1NvbWV0aGluZyB3ZW50IHdyb25nJztcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5jYWxsYmFja1RleHQgPSBjYWxsYmFja1RleHQ7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuXG4gICAgaWYgKCF0aGlzLnRpdGxlICYmIHRoaXMuZXJyb3IpIHtcbiAgICAgIHRoaXMudGl0bGUgPSAnRXJyb3InO1xuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlRWxlbWVudCgpO1xuICB9XG5cbiAgY3JlYXRlRWxlbWVudCAoKSB7XG4gICAgdGhpcy5lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3BhZ2UtbWVzc2FnZScpO1xuXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdwYWdlLW1lc3NhZ2UtLWVycm9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50ID0gYDxoMz4ke3RoaXMudGl0bGV9PC9oMz48cD4ke3RoaXMudGV4dH08L3A+YDtcblxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICB0aGlzLmNvbnRlbnQgKz0gYDxkaXYgY2xhc3M9XCJwYWdlLW1lc3NhZ2VfX2Vycm9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYWdlLW1lc3NhZ2VfX2Vycm9yLXRleHRcIj5cbiAgICAgICAgICA8c3Ryb25nPiR7dGhpcy5lcnJvci5uYW1lfTwvc3Ryb25nPjogJHt0aGlzLmVycm9yLm1lc3NhZ2V9PC9kaXY+XG4gICAgICA8L2Rpdj5gO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyQmVnaW4nLCB0aGlzLmNvbnRlbnQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBmb3JtYXRUb3RhbCwgZXNjYXBlSFRNTCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IHN0YXR1c1RleHQgZnJvbSAnLi9zdGF0dXNUZXh0LmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuLy8gSW5mbyAmIHNvcnRpbmcgbWV0aG9kcyBmb3IgdGFibGUgY29sdW1uc1xuZXhwb3J0IGRlZmF1bHQge1xuICBpbWFnZXM6IHtcbiAgICB0aXRsZTogJ0ltYWdlJyxcbiAgICByZW5kZXIgKHsgaW1hZ2VzIH0pIHtcbiAgICAgIGlmICghaW1hZ2VzIHx8ICFpbWFnZXNbMF0udXJsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNyYyA9IGltYWdlc1swXS51cmw7XG4gICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCIke2Nscy5pbWdXcmFwcGVyfVwiPlxuICAgICAgPGltZyBzcmM9XCIke3NyY31cIiBjbGFzcz1cIiR7Y2xzLmltZ31cIj5cbiAgICAgIDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7c3JjfSlcIiBjbGFzcz1cIiR7Y2xzLnByZXZpZXd9XCI+PHNwYW4+XG4gICAgICA8ZGl2PmA7XG4gICAgfSxcbiAgICBjb21wYXJlOiBudWxsXG4gIH0sXG4gIHRpdGxlOiB7XG4gICAgdGl0bGU6ICdOYW1lJyxcbiAgICByZW5kZXIgKHsgdGl0bGUsIGlkIH0pIHtcbiAgICAgIHJldHVybiBgXG4gICAgICAke3RpdGxlfVxuICAgICAgPGEgY2xhc3M9XCIke2Nscy5saW5rfVwiIGhyZWY9XCIuL3Byb2R1Y3RzLyR7aWR9XCI+PC9hPlxuICAgICAgYDtcbiAgICB9LFxuICAgIGNvbXBhcmUgKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnRpdGxlLmxvY2FsZUNvbXBhcmUoYi50aXRsZSk7XG4gICAgfVxuICB9LFxuICBzdWJjYXRlZ29yeToge1xuICAgIHRpdGxlOiAnQ2F0ZWdvcnknLFxuICAgIHJlbmRlciAoeyBzdWJjYXRlZ29yeSB9KSB7XG4gICAgICBjb25zdCBjYXRlZ29yeSA9IHN1YmNhdGVnb3J5LmNhdGVnb3J5O1xuICAgICAgY29uc3QgdG9vdGlwQ29udGVudCA9IGA8c3BhbiBjbGFzcz1cIiR7Y2xzLnRvb2x0aXBDYXRlZ29yeX1cIj4ke2NhdGVnb3J5LnRpdGxlfTwvc3Bhbj4vPHNwYW4gY2xhc3M9XCIke2Nscy50b29sdGlwU3ViY2F0ZWdvcnl9XCI+JHtzdWJjYXRlZ29yeS50aXRsZX08L3NwYW4+YDtcbiAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke2Nscy5jYXRlZ29yeX1cIiBkYXRhLXRvb2x0aXAtY29udGVudD1cIiR7ZXNjYXBlSFRNTCh0b290aXBDb250ZW50KX1cIj4ke3N1YmNhdGVnb3J5LnRpdGxlfTwvc3Bhbj5gO1xuICAgIH0sXG4gICAgY29tcGFyZSAoYSwgYikge1xuICAgICAgLy8gU29ydGluZyBieSBydXNzaWFuIHRpdGxlc1xuICAgICAgY29uc3QgYUNhdE5hbWUgPSBhLnN1YmNhdGVnb3J5LnRpdGxlO1xuICAgICAgY29uc3QgYkNhdE5hbWUgPSBiLnN1YmNhdGVnb3J5LnRpdGxlO1xuICAgICAgcmV0dXJuIGFDYXROYW1lLmxvY2FsZUNvbXBhcmUoYkNhdE5hbWUpO1xuICAgIH1cbiAgfSxcbiAgcXVhbnRpdHk6IHtcbiAgICB0aXRsZTogJ1F1YW50aXR5JyxcbiAgICByZW5kZXIgKHsgcXVhbnRpdHkgfSkge1xuICAgICAgcmV0dXJuIHF1YW50aXR5O1xuICAgIH0sXG4gICAgY29tcGFyZSAoYSwgYikge1xuICAgICAgcmV0dXJuIGEucXVhbnRpdHkgLSBiLnF1YW50aXR5O1xuICAgIH1cbiAgfSxcbiAgcHJpY2U6IHtcbiAgICB0aXRsZTogJ1ByaWNlJyxcbiAgICByZW5kZXIgKHsgcHJpY2UgfSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFRvdGFsKHByaWNlKTtcbiAgICB9LFxuICAgIGNvbXBhcmUgKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnByaWNlIC0gYi5wcmljZTtcbiAgICB9XG4gIH0sXG4gIHN0YXR1czoge1xuICAgIHRpdGxlOiAnU3RhdHVzJyxcbiAgICByZW5kZXIgKHsgc3RhdHVzIH0pIHtcbiAgICAgIHJldHVybiBzdGF0dXNUZXh0W3N0YXR1c107XG4gICAgfSxcbiAgICBjb21wYXJlIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5zdGF0dXMgLSBiLnN0YXR1cztcbiAgICB9XG4gIH1cbn07XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAwOiAnRGlzYWJsZWQnLFxuICAxOiAnRW5hYmxlZCdcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGVsZW06ICd0b29sdGlwcy1jb250YWluZXInLFxuICBkaW1tZWQ6ICd0b29sdGlwcy1jb250YWluZXItLWRpbW1lZCcsXG4gIHRvb2x0aXA6ICd0b29sdGlwJ1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2x0aXBzIHtcbiAgY29uc3RydWN0b3IgKHsgZWxlbSwgZGltU2libGluZ3MgfSkge1xuICAgIHRoaXMuZWxlbSA9IGVsZW07XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW0pO1xuICAgIHRoaXMuZGltU2libGluZ3MgPSBkaW1TaWJsaW5ncztcblxuICAgIHRoaXMudG9vbHRpcCA9IGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCIke2Nscy50b29sdGlwfVwiPjwvZGl2PmApO1xuICAgIHRoaXMuZWxlbS5hcHBlbmQodGhpcy50b29sdGlwKTtcblxuICAgIHRoaXMubGlzdE1vdXNlTW92ZSA9IHRoaXMubGlzdE1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMubGlzdE1vdXNlT3V0ID0gdGhpcy5saXN0TW91c2VPdXQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmxpc3RNb3VzZU1vdmUpO1xuICAgIHRoaXMuZWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5saXN0TW91c2VPdXQpO1xuICB9XG5cbiAgbGlzdE1vdXNlTW92ZSAoKSB7XG4gICAgaWYgKCFldmVudC50YXJnZXQuZGF0YXNldC50b29sdGlwQ29udGVudCkge1xuICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgdG9vbHRpcENvbnRlbnQgfSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0O1xuICAgIHRoaXMudG9vbHRpcC5pbm5lckhUTUwgPSB0b29sdGlwQ29udGVudDtcbiAgICB0aGlzLnRvb2x0aXAuZGF0YXNldC52aXNpYmxlID0gMTtcblxuICAgIC8vIFBhcmVudCBjb250YWluZXIgY29vcmRzXG4gICAgdGhpcy5lbGVtQ29vcmRzID0gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFggLSB0aGlzLmVsZW1Db29yZHMueCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFkgLSB0aGlzLmVsZW1Db29yZHMueVxuICAgIH07XG5cbiAgICB0aGlzLnRvb2x0aXAuc3R5bGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtjb29yZHMueH1weCwgJHtjb29yZHMueX1weClgO1xuXG4gICAgLy8gRml4IGN1dHRpbmcgYnkgd2luZG93XG4gICAgdGhpcy50b29sdGlwQ29vcmRzID0gdGhpcy50b29sdGlwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGhpZGRlbkJ5V2luZG93ID0gdGhpcy50b29sdGlwQ29vcmRzLnJpZ2h0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuXG4gICAgaWYgKGhpZGRlbkJ5V2luZG93ID4gMCkge1xuICAgICAgY29vcmRzLnggLT0gaGlkZGVuQnlXaW5kb3c7XG4gICAgICB0aGlzLnRvb2x0aXAuc3R5bGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtjb29yZHMueH1weCwgJHtjb29yZHMueX1weClgO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRpbVNpYmxpbmdzKSB7XG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZChjbHMuZGltbWVkKTtcbiAgICB9XG4gIH1cblxuICBsaXN0TW91c2VPdXQgKCkge1xuICAgIGlmICghZXZlbnQudGFyZ2V0LmRhdGFzZXQudG9vbHRpcENvbnRlbnQpIHtcbiAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcbiAgICB9XG4gIH1cblxuICBoaWRlVG9vbHRpcCAoKSB7XG4gICAgdGhpcy50b29sdGlwLmRhdGFzZXQudmlzaWJsZSA9IDA7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xzLmRpbW1lZCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgMDogJ2Rlc2MnLFxuICAxOiAnYXNjJ1xufTtcbiIsImltcG9ydCBkaXJlY3Rpb25zIGZyb20gJy4vZGlyZWN0aW9ucy5qcyc7XG5cbmV4cG9ydCBjb25zdCBnZXREaXJlY3Rpb25UZXh0ID0gaXNBc2MgPT4ge1xuICByZXR1cm4gZGlyZWN0aW9uc1sraXNBc2NdO1xufTtcbiIsImltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGNvbnN0IGhlYWRlciA9IGA8aGVhZGVyIGNsYXNzPVwiJHtjbHMuaGVhZGVyfVwiPlxuICA8aDMgY2xhc3M9XCIke2Nscy50aXRsZX1cIj57dGl0bGV9PC9oMz5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLnRvdGFsfVwiPnt0b3RhbH08L2Rpdj5cbjwvaGVhZGVyPmA7XG5cbmV4cG9ydCBjb25zdCBjaGFydEl0ZW0gPSBgPGxpXG4gIGNsYXNzPVwiJHtjbHMuaXRlbX1cIlxuICBkYXRhLXRvb2x0aXAtY29udGVudD1cInt0b290aXBDb250ZW50fVwiXG4gIHN0eWxlPVwiaGVpZ2h0OiB7aGVpZ2h0fVwiPjwvbGk+YDtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBoZWFkZXIsXG4gIGNoYXJ0SXRlbVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgMDogJ0Rpc2FibGVkJyxcbiAgMTogJ0VuYWJsZWQnXG59O1xuIiwiaW1wb3J0IHsgZmlsbFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgeyBpbWdMaXN0SXRlbSB9IGZyb20gJy4vdGVtcGxhdGVzLmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhdGVnb3JpZXNUb0ZsYXRMaXN0IChjYXRlZ29yaWVzKSB7XG4gIGNvbnN0IGZsYXRMaXN0ID0gW107XG5cbiAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XG4gICAgZm9yIChjb25zdCBzdWJjYXRlZ29yeSBvZiBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzKSB7XG4gICAgICBmbGF0TGlzdC5wdXNoKHtcbiAgICAgICAgdmFsdWU6IHN1YmNhdGVnb3J5LmlkLFxuICAgICAgICB0ZXh0OiBgJHtjYXRlZ29yeS50aXRsZX0gPiAke3N1YmNhdGVnb3J5LnRpdGxlfWBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmbGF0TGlzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGlvbnMgKGxpc3QsIHNlbGVjdGVkKSB7XG4gIHJldHVybiBsaXN0XG4gICAgLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gaXRlbS52YWx1ZSB8fCBpbmRleDtcbiAgICAgIGNvbnN0IHRleHQgPSBpdGVtLnRleHQgfHwgaXRlbTtcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB2YWx1ZSA9PT0gc2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJyc7XG5cbiAgICAgIHJldHVybiBgPG9wdGlvbiB2YWx1ZT1cIiR7dmFsdWV9XCIgJHtpc1NlbGVjdGVkfT4ke3RleHR9PC9vcHRpb24+YDtcbiAgICB9KVxuICAgIC5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEltZ3NMaXN0TWFya3VwIChpbWFnZXMpIHtcbiAgY29uc3QgaW1hZ2VzSXRlbXMgPSBpbWFnZXNcbiAgICAubWFwKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGltZ0xpc3RJdGVtLFxuICAgICAgICBkYXRhOiBpdGVtXG4gICAgICB9KTtcbiAgICB9KTtcblxuICByZXR1cm4gYFxuICAgIDx1bCBjbGFzcz1cIiR7Y2xzLmltZ3NMaXN0fVwiIGlzPVwiZHJhZ2dhYmxlLWxpc3RcIj4ke2ltYWdlc0l0ZW1zLmpvaW4oJyAnKX08L3VsPlxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtjbHMuaW5wdXRVcGxvYWR9XCI+VXBsb2FkPC9idXR0b24+XG4gIGA7XG59XG4iLCJpbXBvcnQgeyBpbnB1dFRleHQsIGlucHV0TnVtYmVyLCBpbnB1dFRleHRhcmVhLCBpbnB1dFNlbGVjdCB9IGZyb20gJy4vdGVtcGxhdGVzLmpzJztcbmltcG9ydCBzdGF0dXNUZXh0IGZyb20gJy4vc3RhdHVzVGV4dC5qcyc7XG5pbXBvcnQgeyBmaWxsVGVtcGxhdGUgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCB7IGNhdGVnb3JpZXNUb0ZsYXRMaXN0LCBnZXRPcHRpb25zLCBnZXRJbWdzTGlzdE1hcmt1cCB9IGZyb20gJy4vaGVscGVycyc7XG5cbi8vIFJlbmRlcmluZyBtZXRob2RzIGZvciBwcm9kdWN0IGlucHV0c1xuZXhwb3J0IGRlZmF1bHQge1xuICBpbWFnZXM6IHtcbiAgICByZW5kZXIgKHsgaW1hZ2VzIH0pIHtcbiAgICAgIGlmICghaW1hZ2VzKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEltZ3NMaXN0TWFya3VwKGltYWdlcyk7XG4gICAgfSxcbiAgICBjb21wYXJlOiBudWxsXG4gIH0sXG4gIHRpdGxlOiB7XG4gICAgcmVuZGVyICh7IHRpdGxlIH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZE5hbWU6ICdOYW1lJyxcbiAgICAgICAgdmFsdWU6IHRpdGxlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0VGV4dCxcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIHJlbmRlciAoeyBkZXNjcmlwdGlvbiB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgICAgZmllbGROYW1lOiAnRGVzY3JpcHRpb24nLFxuICAgICAgICB2YWx1ZTogZGVzY3JpcHRpb25cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dFRleHRhcmVhLFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHN1YmNhdGVnb3J5OiB7XG4gICAgcmVuZGVyICh7IGNhdGVnb3JpZXMsIHN1YmNhdGVnb3J5IH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAnc3ViY2F0ZWdvcnknLFxuICAgICAgICBmaWVsZE5hbWU6ICdDYXRlZ29yeScsXG4gICAgICAgIG9wdGlvbnM6IGdldE9wdGlvbnMoY2F0ZWdvcmllc1RvRmxhdExpc3QoY2F0ZWdvcmllcyksIHN1YmNhdGVnb3J5KVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0U2VsZWN0LFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHF1YW50aXR5OiB7XG4gICAgcmVuZGVyICh7IHF1YW50aXR5IH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAncXVhbnRpdHknLFxuICAgICAgICBmaWVsZE5hbWU6ICdRdWFudGl0eScsXG4gICAgICAgIHZhbHVlOiBxdWFudGl0eVxuICAgICAgfTtcbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dE51bWJlcixcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBwcmljZToge1xuICAgIHJlbmRlciAoeyBwcmljZSB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ3ByaWNlJyxcbiAgICAgICAgZmllbGROYW1lOiAnUHJpY2UnLFxuICAgICAgICB2YWx1ZTogcHJpY2VcbiAgICAgIH07XG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXROdW1iZXIsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZGlzY291bnQ6IHtcbiAgICByZW5kZXIgKHsgZGlzY291bnQgfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICdkaXNjb3VudCcsXG4gICAgICAgIGZpZWxkTmFtZTogJ0Rpc2NvdW50JyxcbiAgICAgICAgdmFsdWU6IGRpc2NvdW50XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0TnVtYmVyLFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHN0YXR1czoge1xuICAgIHJlbmRlciAoeyBzdGF0dXMgfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICdzdGF0dXMnLFxuICAgICAgICBmaWVsZE5hbWU6ICdTdGF0dXMnLFxuICAgICAgICB2YWx1ZTogc3RhdHVzLFxuICAgICAgICBvcHRpb25zOiBnZXRPcHRpb25zKE9iamVjdC52YWx1ZXMoc3RhdHVzVGV4dCksIHN0YXR1cylcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dFNlbGVjdCxcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IFRvb2x0aXBzIGZyb20gJy4uL1Rvb2x0aXBzL2luZGV4LmpzJztcbmltcG9ydCB7XG4gIGZpbGxUZW1wbGF0ZSxcbiAgZm9ybWF0RGF0ZSxcbiAgZXNjYXBlSFRNTCxcbiAgZm9ybWF0VG90YWwsXG4gIGZldGNoSnNvblxufSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcbmltcG9ydCB0ZW1wbGF0ZXMgZnJvbSAnLi90ZW1wbGF0ZXMuanMnO1xuXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW5DaGFydCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmFwaVVybCA9IHByb2Nlc3MuZW52LkFQSV9VUkwgfHwgJ2h0dHBzOi8vY291cnNlLWpzLmphdmFzY3JpcHQucnUnO1xuXG4gICAgdGhpcy5jaGFuZ2VEYXRlID0gdGhpcy5jaGFuZ2VEYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgY29uc3QgeyB0eXBlLCBpc01vbmV5LCBmcm9tLCB0byB9ID0gdGhpcy5kYXRhc2V0O1xuXG4gICAgdGhpcy5kYXRlcyA9IHtcbiAgICAgIGZyb206IG5ldyBEYXRlKGZyb20pLFxuICAgICAgdG86IG5ldyBEYXRlKHRvKVxuICAgIH07XG5cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZm9ybWF0VG90YWwgPSBpc01vbmV5ID8gZm9ybWF0VG90YWwgOiBudWxsO1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZChjbHMuZWxlbSwgYCR7Y2xzLmVsZW19LS0ke3R5cGV9YCk7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoY2xzLmNvbnRlbnQpO1xuICAgIHRoaXMudGl0bGUgPSBgVG90YWwgJHt0eXBlfWA7XG4gICAgdGhpcy51cmwgPSB0aGlzLmdldFVybCgpO1xuXG4gICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICB0aGlzLmFwcGVuZCh0aGlzLmVsZW0pO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlRGF0ZScsIHRoaXMuY2hhbmdlRGF0ZSk7XG4gIH1cblxuICBnZXRVcmwgKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmFwaVVybH0vYXBpL2Rhc2hib2FyZC8ke3RoaXMudHlwZX0/ZnJvbT0ke3RoaXMuZGF0ZXMuZnJvbX0mdG89JHt0aGlzLmRhdGVzLnRvfWA7XG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoSnNvbih0aGlzLnVybCk7XG4gICAgICByZXR1cm4geyBkYXRhIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldERhdGEoKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aGlzLmVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBgPGRpdiBjbGFzcz1cIiR7Y2xzLmVycm9yfVwiPiR7ZXJyb3J9PC9kaXY+YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMuZGF0YSk7XG5cbiAgICBpZiAodGhpcy52YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnZhbHVlcy5wdXNoKCdObyBkYXRhJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVyU3RyID0gdGhpcy5nZXRIZWFkZXJTdHIoKTtcblxuICAgIGNvbnN0IGxpc3RTdHIgPSB0aGlzLmdldExpc3RTdHIoKTtcbiAgICB0aGlzLmVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgJ2JlZm9yZUVuZCcsXG4gICAgICBoZWFkZXJTdHIgKyBsaXN0U3RyXG4gICAgKTtcblxuICAgIHRoaXMuYWRkQWN0aW9ucygpO1xuICB9XG5cbiAgZ2V0SGVhZGVyU3RyICgpIHtcbiAgICB0aGlzLnRvdGFsID0gdGhpcy52YWx1ZXMucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PiBwcmV2ICsgY3VycmVudCwgMCk7XG5cbiAgICBpZiAodGhpcy5mb3JtYXRUb3RhbCkge1xuICAgICAgdGhpcy50b3RhbCA9IHRoaXMuZm9ybWF0VG90YWwodGhpcy50b3RhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICB0bXBsOiB0ZW1wbGF0ZXMuaGVhZGVyLFxuICAgICAgZGF0YTogdGhpc1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0TGlzdFN0ciAoKSB7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4udGhpcy52YWx1ZXMpO1xuICAgIGxldCBjaGFydFN0ciA9ICcnO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5kYXRhKSB7XG4gICAgICBjb25zdCBkYXRlID0gZm9ybWF0RGF0ZShrZXkpO1xuICAgICAgbGV0IHZhbHVlID0gdGhpcy5kYXRhW2tleV07XG4gICAgICBjb25zdCBoZWlnaHRWYWx1ZSA9ICgodmFsdWUgLyBtYXgpICogMTAwKS50b0ZpeGVkKDIpO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gYCR7aGVpZ2h0VmFsdWV9JWA7XG5cbiAgICAgIGlmICh0aGlzLmZvcm1hdFRvdGFsKSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5mb3JtYXRUb3RhbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvb3RpcENvbnRlbnQgPSBgPHNtYWxsIGNsYXNzPVwiJHtjbHMudG9vbHRpcERhdGV9XCI+JHtkYXRlfTwvc21hbGw+PGRpdiBjbGFzcz1cIiR7Y2xzLnRvb2x0aXBRdWFudGl0eX1cIj4ke3ZhbHVlfTwvZGl2PmA7XG5cbiAgICAgIGNoYXJ0U3RyICs9IGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IHRlbXBsYXRlcy5jaGFydEl0ZW0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB0b290aXBDb250ZW50OiBlc2NhcGVIVE1MKHRvb3RpcENvbnRlbnQpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBgPHVsIGNsYXNzPVwiJHtjbHMubGlzdH1cIj4ke2NoYXJ0U3RyfTwvdWw+YDtcbiAgfVxuXG4gIGFkZEFjdGlvbnMgKCkge1xuICAgIHRoaXMudG9vbHRpcHMgPSBuZXcgVG9vbHRpcHMoe1xuICAgICAgZWxlbTogdGhpcy5lbGVtLFxuICAgICAgZGltU2libGluZ3M6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNoYW5nZURhdGUgKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5kZXRhaWwgfHwgIWV2ZW50LmRldGFpbC5kYXRlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IGV2ZW50LmRldGFpbC5kYXRlcztcbiAgICB0aGlzLmRhdGVzID0ge1xuICAgICAgZnJvbTogZnJvbSxcbiAgICAgIHRvOiB0b1xuICAgIH07XG5cbiAgICB0aGlzLnVybCA9IHRoaXMuZ2V0VXJsKCk7XG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9ICcnO1xuICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5lbGVtKTtcbiAgfVxufVxuIiwiaW1wb3J0IFRvb2x0aXBzIGZyb20gJy4uL1Rvb2x0aXBzL2luZGV4LmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcbmltcG9ydCBzdGF0dXNUZXh0IGZyb20gJy4vc3RhdHVzVGV4dC5qcyc7XG5pbXBvcnQgZmllbGRzIGZyb20gJy4vZmllbGRzLmpzJztcbmltcG9ydCB7IGZldGNoSnNvbiwgdGhyb3R0bGUgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCB7IGdldERpcmVjdGlvblRleHQgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuaW1wb3J0IFBhZ2VNZXNzYWdlIGZyb20gJy4uL1BhZ2VNZXNzYWdlL2luZGV4LmpzJztcblxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29ydGFibGVUYWJsZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zb3J0aW5nID0ge1xuICAgICAgY3VycmVudDogbnVsbCxcbiAgICAgIGlzQXNjOiB0cnVlXG4gICAgfTtcblxuICAgIHRoaXMucGFnZSA9IHtcbiAgICAgIGl0ZW1zOiAyMCxcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICBpc0RhdGFFbmRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgdGhpcy5hcGlVcmwgPSBwcm9jZXNzLmVudi5BUElfVVJMIHx8ICdodHRwczovL2NvdXJzZS1qcy5qYXZhc2NyaXB0LnJ1JztcblxuICAgIHRoaXMuY2hhbmdlRGF0ZSA9IHRoaXMuY2hhbmdlRGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2sgKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHVybCxcbiAgICAgIGZpZWxkc0xpc3QsXG4gICAgICBvcmRlckZpZWxkLFxuICAgICAgb3JkZXJEaXJlY3Rpb24sXG4gICAgICBpc0R5bmFtaWMsXG4gICAgICBmcm9tLFxuICAgICAgdG9cbiAgICB9ID0gdGhpcy5kYXRhc2V0O1xuXG4gICAgdGhpcy5kYXRlcyA9IHtcbiAgICAgIGZyb20sXG4gICAgICB0b1xuICAgIH07XG5cbiAgICB0aGlzLnVybCA9IHRoaXMuYXBpVXJsICsgdXJsO1xuICAgIHRoaXMuZmllbGRzTGlzdCA9IEpTT04ucGFyc2UoZmllbGRzTGlzdC5yZXBsYWNlKC8nL2csICdcIicpKTtcbiAgICB0aGlzLmlzRHluYW1pYyA9ICtpc0R5bmFtaWM7XG4gICAgdGhpcy5vcmRlciA9IHtcbiAgICAgIGZpZWxkOiBvcmRlckZpZWxkLFxuICAgICAgZGlyZWN0aW9uOiBvcmRlckRpcmVjdGlvblxuICAgIH07XG4gICAgdGhpcy5pbml0VGFibGUgPSB0aGlzLmluaXRUYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5vcmRlciAmJiB0aGlzLm9yZGVyLmRpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNvcnRpbmcuaXNBc2MgPSB0aGlzLm9yZGVyLmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICB0aGlzLmZldGNoVXJsID0gdGhpcy5nZXRGZXRjaFVybCgpO1xuICAgIC8vIFRyeSB0byB0aHJvdHRsZSBsb2FkaW5nIG9uIHNjcm9sbFxuICAgIHRoaXMub25Cb2R5U2Nyb2xsVGhyb3R0bGUgPSB0aHJvdHRsZSh0aGlzLm9uQm9keVNjcm9sbCwgdGhpcywgNTAwKTtcblxuICAgIHRoaXMuaW5pdFRhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VEYXRlJywgdGhpcy5jaGFuZ2VEYXRlKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWREYXRhICgpIHtcbiAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy50YWJsZS5kYXRhc2V0LmxvYWRpbmcgPSAxO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhYmxlRGF0YSA9IGF3YWl0IGZldGNoSnNvbih0aGlzLmZldGNoVXJsKTtcblxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudGFibGUuZGF0YXNldC5sb2FkaW5nID0gMDtcblxuICAgICAgcmV0dXJuIHRhYmxlRGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU2hvdyBlcnJvciBtZXNzYWdlIHRvIHVzZXJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUGFnZU1lc3NhZ2UoeyBlcnJvciB9KTtcbiAgICAgIHRoaXMudGFibGUuZGF0YXNldC5sb2FkaW5nID0gMDtcblxuICAgICAgdGhpcy50Qm9keS5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICdiZWZvcmVFbmQnLFxuICAgICAgICBgPHRyIGNsYXNzPVwiJHtjbHMucm93fVwiPjx0ZCBjbGFzcz1cIiR7Y2xzLmNlbGxFcnJvcn1cIj4ke21lc3NhZ2UuZWxlbS5vdXRlckhUTUx9PC90cj5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGluaXRUYWJsZSAoKSB7XG4gICAgdGhpcy5jcmVhdGVMYXlvdXQoKTtcbiAgICB0aGlzLmFkZEVsZW1IZWFkZXIoKTtcbiAgICB0aGlzLmFkZFRhYmxlRXZlbnRzKCk7XG5cbiAgICB0aGlzLmZpbGxUQm9keSgpO1xuICB9XG5cbiAgYXN5bmMgZmlsbFRCb2R5ICgpIHtcbiAgICBpZiAodGhpcy5wYWdlLmlzRGF0YUVuZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50YWJsZVJvd3MgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XG5cbiAgICAvLyBMYXN0IHBhZ2VcbiAgICBpZiAodGhpcy50YWJsZVJvd3MubGVuZ3RoIDwgdGhpcy5wYWdlLml0ZW1zKSB7XG4gICAgICB0aGlzLnBhZ2UuaXNEYXRhRW5kZWQgPSB0cnVlO1xuXG4gICAgICBpZiAodGhpcy50YWJsZVJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNEeW5hbWljICYmIHRoaXMub3JkZXIgJiYgdGhpcy5vcmRlci5maWVsZCkge1xuICAgICAgdGhpcy5zb3J0Um93cyh0aGlzLm9yZGVyLmZpZWxkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlclRCb2R5KCk7XG4gIH1cblxuICBnZXRGZXRjaFVybCAoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgc3RhcnQ6IHRoaXMucGFnZS5jdXJyZW50ICogdGhpcy5wYWdlLml0ZW1zLFxuICAgICAgZW5kOiAodGhpcy5wYWdlLmN1cnJlbnQgKyAxKSAqIHRoaXMucGFnZS5pdGVtcyxcbiAgICAgIHNvcnQ6IHRoaXMub3JkZXIuZmllbGQsXG4gICAgICBvcmRlcjogZ2V0RGlyZWN0aW9uVGV4dCh0aGlzLnNvcnRpbmcuaXNBc2MpXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmRhdGVzICYmIHRoaXMuZGF0ZXMuZnJvbSkge1xuICAgICAgcGFyYW1zLmZyb20gPSB0aGlzLmRhdGVzLmZyb207XG4gICAgICBwYXJhbXMudG8gPSB0aGlzLmRhdGVzLnRvO1xuICAgIH1cblxuICAgIGxldCBwYXJhbXNTdHIgPSAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJhbXMpIHtcbiAgICAgIGxldCBwcmVmaXggPSAnXyc7XG4gICAgICBpZiAoa2V5ID09PSAnZnJvbScgfHwga2V5ID09PSAndG8nKSB7XG4gICAgICAgIHByZWZpeCA9ICcnO1xuICAgICAgfVxuXG4gICAgICBwYXJhbXNTdHIgKz0gYCYke3ByZWZpeH0ke2tleX09JHtwYXJhbXNba2V5XX1gO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51cmwgKyBwYXJhbXNTdHI7XG4gIH1cblxuICBjcmVhdGVMYXlvdXQgKCkge1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZChjbHMuZWxlbSk7XG4gICAgdGhpcy50YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgdGhpcy50YWJsZS5jbGFzc0xpc3QuYWRkKGNscy50YWJsZSk7XG4gICAgdGhpcy50Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gICAgdGhpcy50YWJsZS5hcHBlbmQodGhpcy50Qm9keSk7XG4gICAgdGhpcy50YWJsZS5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAnYmVmb3JlRW5kJyxcbiAgICAgIGA8dGZvb3Q+PHRyPjx0ZCBjb2xzcGFuPVwiJHt0aGlzLmZpZWxkc0xpc3QubGVuZ3RofVwiPjxkaXYgY2xhc3M9XCJzcGlubmVyXCI+PC9kaXY+PC90ZD48L3RyPjwvdGZvb3Q+YFxuICAgICk7XG5cbiAgICB0aGlzLmFwcGVuZCh0aGlzLnRhYmxlKTtcbiAgfVxuXG4gIC8vIEZpbGwgdGFibGUgaGVhZGVyIHdpdGggY29udGVudFxuICBhZGRFbGVtSGVhZGVyICgpIHtcbiAgICBsZXQgaGVhZGVyQ29udGVudCA9ICcnO1xuXG4gICAgdGhpcy5maWVsZHNMaXN0LmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgbGV0IHRoQ2xhc3MgPSBjbHMuY2VsbDtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIHNvcnRlcjogJycsXG4gICAgICAgIHNvcnREaXJlY3Rpb246ICcnXG4gICAgICB9O1xuICAgICAgaWYgKGZpZWxkc1tmaWVsZF0uY29tcGFyZSkge1xuICAgICAgICB0aENsYXNzICs9IGAgJHtjbHMuY2VsbFNvcnRlcn1gO1xuICAgICAgICBkYXRhLnNvcnRlciA9ICdkYXRhLXNvcnRlcj1cIjFcIic7XG4gICAgICB9XG4gICAgICBpZiAoZmllbGQgPT09IHRoaXMub3JkZXIuZmllbGQpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uVGV4dCh0aGlzLnNvcnRpbmcuaXNBc2MpO1xuICAgICAgICBkYXRhLnNvcnREaXJlY3Rpb24gPSBgZGF0YS1zb3J0LWRpcmVjdGlvbj1cIiR7ZGlyZWN0aW9ufVwiYDtcbiAgICAgIH1cbiAgICAgIGhlYWRlckNvbnRlbnQgKz0gYDx0aCBjbGFzcz1cIiR7dGhDbGFzc31cIlxuICAgICAgICBkYXRhLW5hbWU9XCIke2ZpZWxkfVwiXG4gICAgICAgICR7ZGF0YS5zb3J0ZXJ9XG4gICAgICAgICR7ZGF0YS5zb3J0RGlyZWN0aW9ufVxuICAgICAgICA+JHtmaWVsZHNbZmllbGRdLnRpdGxlfTwvdGg+YDtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRoZWFkU3RyID0gYDx0aGVhZCBjbGFzcz1cIiR7Y2xzLnRoZWFkfVwiPjx0ciBjbGFzcz1cIiR7Y2xzLmhlYWRlcn0gJHtjbHMucm93fVwiPlxuICAgICAgJHtoZWFkZXJDb250ZW50fVxuICAgIDwvdHI+PC90aGVhZD5gO1xuXG4gICAgdGhpcy50YWJsZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyQmVnaW4nLCB0aGVhZFN0cik7XG5cbiAgICB0aGlzLnNvcnRpbmcuY3VycmVudCA9IHRoaXMudGFibGUucXVlcnlTZWxlY3RvcignW2RhdGEtc29ydC1kaXJlY3Rpb25dJyk7XG4gIH1cblxuICAvLyBTb3J0ZXJcbiAgc29ydGVyT25DbGljayAodGgpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IHRoLmRhdGFzZXQ7XG5cbiAgICBpZiAodGguZGF0YXNldC5zb3J0RGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLnNvcnRpbmcuaXNBc2MgPSAhdGhpcy5zb3J0aW5nLmlzQXNjO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5zb3J0aW5nLmN1cnJlbnQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc29ydGluZy5jdXJyZW50LmRhdGFzZXQuc29ydERpcmVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29ydGluZy5pc0FzYyA9IHRydWU7XG4gICAgICB0aGlzLnNvcnRpbmcuY3VycmVudCA9IHRoO1xuICAgIH1cblxuICAgIHRoLmRhdGFzZXQuc29ydERpcmVjdGlvbiA9IGdldERpcmVjdGlvblRleHQodGhpcy5zb3J0aW5nLmlzQXNjKTtcblxuICAgIGlmICh0aGlzLmlzRHluYW1pYykge1xuICAgICAgdGhpcy5zb3J0Um93c0R5bmFtaWMobmFtZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zb3J0Um93cyhuYW1lKTtcbiAgfVxuXG4gIC8vIFNvcnRpbmdcbiAgc29ydFJvd3MgKGZpZWxkKSB7XG4gICAgdGhpcy50YWJsZVJvd3Muc29ydChmaWVsZHNbZmllbGRdLmNvbXBhcmUpO1xuXG4gICAgaWYgKCF0aGlzLnNvcnRpbmcuaXNBc2MpIHtcbiAgICAgIHRoaXMudGFibGVSb3dzLnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICB0aGlzLnRCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMucmVuZGVyVEJvZHkoKTtcbiAgfVxuXG4gIC8vIFNvcnRpbmdcbiAgc29ydFJvd3NEeW5hbWljIChmaWVsZCkge1xuICAgIHRoaXMub3JkZXIuZmllbGQgPSBmaWVsZDtcbiAgICB0aGlzLnBhZ2UuY3VycmVudCA9IDA7XG4gICAgdGhpcy5wYWdlLmlzRGF0YUVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5mZXRjaFVybCA9IHRoaXMuZ2V0RmV0Y2hVcmwoKTtcbiAgICB0aGlzLnRCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZmlsbFRCb2R5KCk7XG4gIH1cblxuICAvLyBBZGRpbmcgZGVsZWdhdGVkIGV2ZW50cyB0byB0YWJsZVxuICBhZGRUYWJsZUV2ZW50cyAoKSB7XG4gICAgdGhpcy50YWJsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uQm9keVNjcm9sbFRocm90dGxlKTtcbiAgICB0aGlzLnRvb2x0aXBzID0gbmV3IFRvb2x0aXBzKHsgZWxlbTogdGhpcyB9KTtcbiAgfVxuXG4gIC8vIEhhbmRsZXMgYWxsIGV2ZW50cyBmb3IgdGFibGVcbiAgaGFuZGxlRXZlbnQgKCkge1xuICAgIC8vIFNvcnRpbmcgZXZlbnRzXG4gICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0LnNvcnRlcikge1xuICAgICAgdGhpcy5zb3J0ZXJPbkNsaWNrKGV2ZW50LnRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgb25Cb2R5U2Nyb2xsICgpIHtcbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBodG1sQ29vcmRzID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjcm9sbERlbHRhID0gaHRtbENvb3Jkcy5ib3R0b20gLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBpZiAoc2Nyb2xsRGVsdGEgPCAxMDApIHtcbiAgICAgIHRoaXMucGFnZS5jdXJyZW50Kys7XG4gICAgICB0aGlzLmZldGNoVXJsID0gdGhpcy5nZXRGZXRjaFVybCgpO1xuICAgICAgdGhpcy5maWxsVEJvZHkoKTtcbiAgICB9XG4gIH1cblxuICAvLyBGaWxsIHRhYmxlIGJvZHkgY2VsbHMgd2l0aCBjb250ZW50XG4gIHJlbmRlclRCb2R5ICgpIHtcbiAgICB0aGlzLnBhZ2VZT2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgdGhpcy50YWJsZVJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgbGV0IHJvd0NvbnRlbnQgPSAnJztcbiAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByb3c7XG5cbiAgICAgIHRoaXMuZmllbGRzTGlzdC5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgICAgY29uc3QgdGRDbGFzc2VzID0gW1xuICAgICAgICAgIGNscy5jZWxsLFxuICAgICAgICAgIGAke2Nscy5jZWxsfS0tJHtmaWVsZH1gLFxuICAgICAgICAgIGAke2Nscy5jZWxsfS0tJHtzdGF0dXNUZXh0W3N0YXR1c10udG9Mb3dlckNhc2UoKX1gXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHJlbmRlckZpZWxkID0gZmllbGRzW2ZpZWxkXS5yZW5kZXI7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkQ29udGVudCA9IHJlbmRlckZpZWxkKHJvdyk7XG5cbiAgICAgICAgaWYgKHJlbmRlcmVkQ29udGVudCkge1xuICAgICAgICAgIHJvd0NvbnRlbnQgKz0gYDx0ZCBjbGFzcz1cIiR7dGRDbGFzc2VzLmpvaW4oXG4gICAgICAgICAgICAnICdcbiAgICAgICAgICApfVwiPiR7cmVuZGVyZWRDb250ZW50fTwvdGQ+YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudEJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAnYmVmb3JlRW5kJyxcbiAgICAgICAgYDx0ciBjbGFzcz1cIiR7Y2xzLnJvd31cIj4ke3Jvd0NvbnRlbnR9PC90cj5gXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucGFnZVlPZmZzZXQpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLnBhZ2VZT2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjaGFuZ2VEYXRlIChldmVudCkge1xuICAgIGlmICghZXZlbnQuZGV0YWlsIHx8ICFldmVudC5kZXRhaWwuZGF0ZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGVzID0gZXZlbnQuZGV0YWlsLmRhdGVzO1xuICAgIHRoaXMuZmV0Y2hVcmwgPSB0aGlzLmdldEZldGNoVXJsKCk7XG4gICAgdGhpcy50Qm9keS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmZpbGxUQm9keSgpO1xuICB9XG59XG4iLCJpbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAge1xuICAgIG5hbWU6ICd0aXRsZSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdkZXNjcmlwdGlvbicsXG4gICAgbW9kczogW2Nscy5pdGVtRnVsbF1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdpbWFnZXMnLFxuICAgIG1vZHM6IFtjbHMuaXRlbUZ1bGxdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnc3ViY2F0ZWdvcnknXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAncHJpY2UnLFxuICAgIG1vZHM6IFtjbHMuaXRlbVRpbnldXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnZGlzY291bnQnLFxuICAgIG1vZHM6IFtjbHMuaXRlbVRpbnksIGNscy5pdGVtRm9sbG93XVxuICB9LFxuICB7XG4gICAgbmFtZTogJ3F1YW50aXR5JyxcbiAgICBtb2RzOiBbY2xzLml0ZW1UaW55XVxuICB9LFxuICB7XG4gICAgbmFtZTogJ3N0YXR1cycsXG4gICAgbW9kczogW2Nscy5pdGVtVGlueV1cbiAgfVxuXTtcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9jYXRlZ29yaWVzL2luZGV4LmpzXCI6IDI2LFxuXHRcIi4vZGFzaGJvYXJkL2luZGV4LmpzXCI6IDI4LFxuXHRcIi4vZXJyb3I0MDQvaW5kZXguanNcIjogMjksXG5cdFwiLi9wcm9kdWN0cy9lZGl0L2luZGV4LmpzXCI6IDMwLFxuXHRcIi4vcHJvZHVjdHMvaW5kZXguanNcIjogMzNcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dChyZXEpIHtcblx0cmV0dXJuIHdlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlKHJlcSkudGhlbihfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHQvLyBIZXJlIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKSBpcyB1c2VkIGluc3RlYWQgb2YgbmV3IFByb21pc2UoKSB0byBwcmV2ZW50XG5cdC8vIHVuY2F1Z2h0IGV4Y2VwdGlvbiBwb3BwaW5nIHVwIGluIGRldnRvb2xzXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRyZXR1cm4gbWFwW3JlcV07XG5cdH0pO1xufVxud2VicGFja0FzeW5jQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tBc3luY0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlO1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IDI1O1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQXN5bmNDb250ZXh0OyIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGZldGNoSnNvbiB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IFBhZ2VNZXNzYWdlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUGFnZU1lc3NhZ2UvaW5kZXguanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5hcGlVcmwgPSBwcm9jZXNzLmVudi5BUElfVVJMIHx8ICdodHRwczovL2NvdXJzZS1qcy5qYXZhc2NyaXB0LnJ1JztcbiAgICB0aGlzLmZldGNoVXJsID0gYCR7dGhpcy5hcGlVcmx9L2FwaS9yZXN0L2NhdGVnb3JpZXM/X3NvcnQ9d2VpZ2h0Jl9yZWZzPXN1YmNhdGVnb3J5YDtcblxuICAgIHRoaXMubGlzdENsaWNrID0gdGhpcy5saXN0Q2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFzeW5jIHJlbmRlciAoKSB7XG4gICAgY29uc3QgeyBjYXRlZ29yaWVzLCBtZXNzYWdlIH0gPSBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XG5cbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJwYWdlLXNlY3Rpb24gY2F0ZWdvcmllc1wiPlxuICAgICAgICAgIDxoMiBjbGFzcz1cInBhZ2Utc2VjdGlvbl9fdGl0bGVcIj5DYXRlZ29yaWVzPC9oMj5cblxuICAgICAgICAgICR7bWVzc2FnZS5lbGVtLm91dGVySFRNTH1cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9kaXY+XG4gICAgICBgKTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ID0gdGhpcy5jcmVhdGVMaXN0KGNhdGVnb3JpZXMpO1xuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uIGNhdGVnb3JpZXNcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwicGFnZS1zZWN0aW9uX190aXRsZVwiPkNhdGVnb3JpZXM8L2gyPlxuXG4gICAgICAgICR7bGlzdH1cbiAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5gKTtcblxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5lbGVtO1xuICB9XG5cbiAgYXN5bmMgbG9hZERhdGEgKCkge1xuICAgIC8vIFRPRE86INC40L3QtNC40LrQsNGC0L7RgCDQt9Cw0LPRgNGD0LfQutC4XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBmZXRjaEpzb24odGhpcy5mZXRjaFVybCk7XG5cbiAgICAgIHJldHVybiB7IGNhdGVnb3JpZXMgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU2hvdyBlcnJvciBtZXNzYWdlIHRvIHVzZXJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUGFnZU1lc3NhZ2UoeyBlcnJvciB9KTtcblxuICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUxpc3QgKGl0ZW1zLCBpc1N1YmNhdCA9IGZhbHNlKSB7XG4gICAgbGV0IGl0ZW1zU3RyID0gJyc7XG4gICAgbGV0IGxpc3RDbGFzcyA9IGNscy5saXN0VG9wO1xuICAgIGxldCBpdGVtQ2xhc3MgPSBjbHMuaXRlbTtcbiAgICBsZXQgaXNEcmFnZ2FibGVBdHRyID0gJyc7XG5cbiAgICBpZiAoaXNTdWJjYXQpIHtcbiAgICAgIGxpc3RDbGFzcyA9IGNscy5saXN0U3ViY2F0cztcbiAgICAgIGl0ZW1DbGFzcyArPSBgICR7Y2xzLml0ZW1TdWJ9YDtcbiAgICAgIGlzRHJhZ2dhYmxlQXR0ciA9ICdpcz1cImRyYWdnYWJsZS1saXN0XCInO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtQ2xhc3MgKz0gYCAke2Nscy5pdGVtVG9wfWA7XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgbGV0IHN1YkNhdHNMaXN0ID0gJyc7XG4gICAgICBsZXQgdGl0bGUgPSBpdGVtLnRpdGxlO1xuICAgICAgY29uc3Qgc3ViQ2F0cyA9IGl0ZW0uc3ViY2F0ZWdvcmllcztcbiAgICAgIGxldCBjb3VudGVyID0gJyc7XG5cbiAgICAgIGlmIChpc1N1YmNhdCkge1xuICAgICAgICBjb25zdCBjb3VudGVyVGV4dCA9IHRoaXMuZ2V0UGx1cmFsKGl0ZW0uY291bnQsIFsncHJvZHVjdCcsICdwcm9kdWN0cyddKTtcbiAgICAgICAgY291bnRlciA9IGA8c3BhbiBjbGFzcz1cIiR7Y2xzLmNvdW50ZXJ9XCI+JHtjb3VudGVyVGV4dH08L3NwYW4+YDtcbiAgICAgIH1cblxuICAgICAgLy8gY29uc29sZS5sb2coaXRlbSlcblxuICAgICAgaWYgKHN1YkNhdHMpIHtcbiAgICAgICAgdGl0bGUgPSBgIDxidXR0b24gY2xhc3M9XCIke2Nscy50b2dnbGVyfVwiPiR7aXRlbS50aXRsZX08L2J1dHRvbj5gO1xuICAgICAgICBzdWJDYXRzTGlzdCA9IHRoaXMuY3JlYXRlTGlzdChzdWJDYXRzLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaXRlbXNTdHIgKz0gYDxsaSBjbGFzcz1cIiR7aXRlbUNsYXNzfVwiPlxuICAgICAgICAke3RpdGxlfVxuICAgICAgICAke2NvdW50ZXJ9XG4gICAgICAgICR7c3ViQ2F0c0xpc3R9XG4gICAgICA8L2xpPmA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGA8dWxcbiAgICAgIGNsYXNzPVwiJHtjbHMubGlzdH0gJHtsaXN0Q2xhc3N9XCIgJHtpc0RyYWdnYWJsZUF0dHJ9XG4gICAgICA+XG4gICAgICAke2l0ZW1zU3RyfVxuICAgIDwvdWw+YDtcbiAgfVxuXG4gIGFkZEV2ZW50cyAoKSB7XG4gICAgY29uc3QgbGlzdCA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuJHtjbHMubGlzdFRvcH1gKTtcbiAgICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5saXN0Q2xpY2spO1xuICB9XG5cbiAgbGlzdENsaWNrICgpIHtcbiAgICBjb25zdCBjb250cm9sID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoYC4ke2Nscy50b2dnbGVyfWApO1xuICAgIGlmICghY29udHJvbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGl0ZW1Ub3AgPSBldmVudC50YXJnZXQuY2xvc2VzdChgLiR7Y2xzLml0ZW1Ub3B9YCk7XG4gICAgaXRlbVRvcC5jbGFzc0xpc3QudG9nZ2xlKGNscy5pdGVtT3Blbik7XG4gIH1cblxuICBnZXRQbHVyYWwgKG51bSwgdmFyaWFudHMpIHtcbiAgICBsZXQgdmFyaWFudCA9IHZhcmlhbnRzWzBdO1xuICAgIGlmIChudW0gIT09IDEpIHtcbiAgICAgIHZhcmlhbnQgPSB2YXJpYW50c1sxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7bnVtfSAke3ZhcmlhbnR9YDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuXG5jb25zdCBmcm9tID0gbmV3IERhdGUoKTtcbmZyb20uc2V0TW9udGgoZnJvbS5nZXRNb250aCgpIC0gMSk7XG5jb25zdCB0byA9IG5ldyBEYXRlKCk7XG5cbmNvbnN0IGRhdGVzID0ge1xuICBmcm9tOiBmcm9tLnRvSVNPU3RyaW5nKCksXG4gIHRvOiB0by50b0lTT1N0cmluZygpXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGFzeW5jIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3M9XCJwYWdlLWNvbnRlbnRfX2hlYWRlclwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLWNvbnRlbnRfX3RpdGxlXCI+RGFzaGJvYXJkPC9oMj5cblxuICAgICAgICA8cmFuZ2UtcGlja2VyXG4gICAgICAgICAgZGF0YS1mcm9tPVwiJHtkYXRlcy5mcm9tfVwiXG4gICAgICAgICAgZGF0YS10bz1cIiR7ZGF0ZXMudG99XCJcbiAgICAgICAgICA+PC9yYW5nZS1waWNrZXI+XG4gICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uIHBhZ2Utc2VjdGlvbi0tY29sdW1uLWNoYXJ0c1wiPlxuICAgICAgICAgIDxjb2x1bW4tY2hhcnRcbiAgICAgICAgICAgIGRhdGEtdHlwZT1cIm9yZGVyc1wiXG4gICAgICAgICAgICBkYXRhLWZyb209XCIke2RhdGVzLmZyb219XCJcbiAgICAgICAgICAgIGRhdGEtdG89XCIke2RhdGVzLnRvfVwiXG4gICAgICAgICAgPjwvY29sdW1uLWNoYXJ0PlxuXG4gICAgICAgICAgPGNvbHVtbi1jaGFydFxuICAgICAgICAgICAgZGF0YS10eXBlPVwic2FsZXNcIlxuICAgICAgICAgICAgZGF0YS1pcy1tb25leT1cInRydWVcIlxuICAgICAgICAgICAgZGF0YS1mcm9tPVwiJHtkYXRlcy5mcm9tfVwiXG4gICAgICAgICAgICBkYXRhLXRvPVwiJHtkYXRlcy50b31cIlxuICAgICAgICAgID48L2NvbHVtbi1jaGFydD5cblxuICAgICAgICAgIDxjb2x1bW4tY2hhcnRcbiAgICAgICAgICAgIGRhdGEtdHlwZT1cImN1c3RvbWVyc1wiXG4gICAgICAgICAgICBkYXRhLWZyb209XCIke2RhdGVzLmZyb219XCJcbiAgICAgICAgICAgIGRhdGEtdG89XCIke2RhdGVzLnRvfVwiXG4gICAgICAgICAgPjwvY29sdW1uLWNoYXJ0PlxuICAgICAgICA8L3NlY3Rpb24+XG5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJwYWdlLXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDMgY2xhc3M9XCJwYWdlLXNlY3Rpb25fX3RpdGxlXCI+QmVzdHNlbGxlcnM8L2gzPlxuXG4gICAgICAgIDxzb3J0YWJsZS10YWJsZVxuICAgICAgICAgIGRhdGEtdXJsPVwiL2FwaS9kYXNoYm9hcmQvYmVzdHNlbGxlcnM/X2VtYmVkPXN1YmNhdGVnb3J5LmNhdGVnb3J5XCIsXG4gICAgICAgICAgZGF0YS1pcy1keW5hbWljPVwiMFwiXG4gICAgICAgICAgZGF0YS1maWVsZHMtbGlzdD1cIlsnaW1hZ2VzJywgJ3RpdGxlJywgJ3N1YmNhdGVnb3J5JywgJ3F1YW50aXR5JywgJ3ByaWNlJywgJ3N0YXR1cyddXCJcbiAgICAgICAgICBkYXRhLW9yZGVyLWZpZWxkPSd0aXRsZScsXG4gICAgICAgICAgZGF0YS1vcmRlci1kaXJlY3Rpb249XCIxXCJcbiAgICAgICAgICBkYXRhLWZyb209XCIke2RhdGVzLmZyb219XCJcbiAgICAgICAgICBkYXRhLXRvPVwiJHtkYXRlcy50b31cIlxuICAgICAgICAgID48L3NvcnRhYmxlLXRhYmxlPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Rpdj5gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGFzeW5jIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJwYWdlLXNlY3Rpb24gcGFnZS1zZWN0aW9uLS00MDRcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLXNlY3Rpb25fX3RpdGxlXCI+UGFnZSBub3QgZm91bmQ8L2gyPlxuICAgICAgICAgIDxwPk5vIHN1Y2ggcGFnZTwvcD5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9kaXY+YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGZldGNoSnNvbiwgZmlsbFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgUGFnZU1lc3NhZ2UgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9QYWdlTWVzc2FnZS9pbmRleC5qcyc7XG5pbXBvcnQgZmllbGRzIGZyb20gJy4vZmllbGRzLmpzJztcbmltcG9ydCBmaWVsZHNPcmRlciBmcm9tICcuL2ZpZWxkc09yZGVyLmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcbmltcG9ydCB7IGhlYWRlciwgaW1nTGlzdEl0ZW0gfSBmcm9tICcuL3RlbXBsYXRlcyc7XG5cbmltcG9ydCAnLi9pY29uLXRyYXNoLnN2Zyc7XG5pbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XG5cbmNvbnN0IENMSUVOVF9JRCA9ICdlMmI1YzM2NmIyZDIzZmInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yIChtYXRjaCkge1xuICAgIHRoaXMuaWQgPSBtYXRjaFswXS5yZXBsYWNlKCdwcm9kdWN0cy8nLCAnJyk7XG5cbiAgICBpZiAoIW1hdGNoWzBdKSB7XG4gICAgICB0aGlzLmlkID0gJzNkLW9jaGtpLW9wdG9tYS16ZDMwMic7XG4gICAgfVxuXG4gICAgdGhpcy5hcGlVcmwgPSBwcm9jZXNzLmVudi5BUElfVVJMIHx8ICdodHRwczovL2NvdXJzZS1qcy5qYXZhc2NyaXB0LnJ1JztcbiAgICB0aGlzLmZldGNoUHJvZHVjdFVybCA9IHRoaXMuYXBpVXJsICsgYC9hcGkvcmVzdC9wcm9kdWN0cz9pZD0ke3RoaXMuaWR9YDtcbiAgICB0aGlzLmZldGNoQ2F0ZWdvcmllc1VybCA9IHRoaXMuYXBpVXJsICsgJy9hcGkvcmVzdC9jYXRlZ29yaWVzP19zb3J0PXdlaWdodCZfcmVmcz1zdWJjYXRlZ29yeSc7XG5cbiAgICB0aGlzLnVwbG9hZEltYWdlID0gdGhpcy51cGxvYWRJbWFnZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IHByb2R1Y3REYXRhLCBjYXRlZ29yaWVzLCBlcnJvck1lc3NhZ2UgfSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcblxuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICAgICR7aGVhZGVyfVxuXG4gICAgICAgICR7ZXJyb3JNZXNzYWdlLm91dGVySFRNTH1cbiAgICAgIDwvZGl2PlxuICAgICAgYCk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3REYXRhWzBdO1xuICAgIGNvbnN0IGlucHV0cyA9IHRoaXMuZ2V0SW5wdXRzTGlzdCh7IHByb2R1Y3QsIGNhdGVnb3JpZXMgfSk7XG5cbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICAke2hlYWRlcn1cblxuICAgICAgPGZvcm0gYWN0aW9uPVwiXCIgY2xhc3M9XCIke2Nscy5mb3JtfX1cIj5cbiAgICAgICAgPHVsIGNsYXNzPVwiJHtjbHMubGlzdH1cIj5cbiAgICAgICAgICAke2lucHV0cy5qb2luKCdcXG4nKX1cbiAgICAgICAgPC91bD5cblxuICAgICAgICA8Zm9vdGVyIGNsYXNzPVwiJHtjbHMuZm9vdGVyfVwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCIke2Nscy5zdWJtaXR9XCI+U2F2ZTwvYnV0dG9uPlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5gKTtcblxuICAgIHRoaXMuaW1nVXBsb2FkQnV0dG9uID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5pbnB1dFVwbG9hZH1gKTtcbiAgICB0aGlzLmltZ0xpc3QgPSB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcihgLiR7Y2xzLmltZ3NMaXN0fWApO1xuXG4gICAgdGhpcy5hZGRFdmVudHMoKTtcblxuICAgIHJldHVybiB0aGlzLmVsZW07XG4gIH1cblxuICBnZXRJbnB1dHNMaXN0ICh7IHByb2R1Y3QsIGNhdGVnb3JpZXMgfSkge1xuICAgIGNvbnN0IGlucHV0cyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCB7IG5hbWUsIG1vZHMgfSBvZiBmaWVsZHNPcmRlcikge1xuICAgICAgaWYgKGZpZWxkc1tuYW1lXSkge1xuICAgICAgICBsZXQgcGFyYW1zID0gcHJvZHVjdDtcblxuICAgICAgICBpZiAobmFtZSA9PT0gJ3N1YmNhdGVnb3J5Jykge1xuICAgICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgIGNhdGVnb3JpZXNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSBmaWVsZHNbbmFtZV0ucmVuZGVyKHBhcmFtcyk7XG4gICAgICAgIGxldCBjbGFzc2VzID0gW2Nscy5pdGVtXTtcblxuICAgICAgICBpZiAobW9kcykge1xuICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdChtb2RzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0cy5wdXNoKGA8bGkgY2xhc3M9XCIke2NsYXNzZXMuam9pbignICcpfVwiPiR7aW5wdXR9PC9saT5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5wdXRzO1xuICB9XG5cbiAgYWRkRXZlbnRzICgpIHtcbiAgICB0aGlzLmltZ1VwbG9hZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBsb2FkSW1hZ2UpO1xuICB9XG5cbiAgYXN5bmMgdXBsb2FkSW1hZ2UgKCkge1xuICAgIHRoaXMuZmlsZUlucHV0ID0gdGhpcy5maWxlSW5wdXRDcmVhdGUoKTtcbiAgICB0aGlzLmZpbGVJbnB1dC5jbGljaygpO1xuICAgIGxldCBpbWFnZURhdGE7XG5cbiAgICBjb25zdCBydW5VcGxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmltZ1VwbG9hZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNscy5pbnB1dFVwbG9hZExvYWRpbmcpO1xuICAgICAgdGhpcy5pbWdVcGxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlSW5wdXQuZmlsZXNbMF07XG5cbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgZmlsZSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoSnNvbignaHR0cHM6Ly9hcGkuaW1ndXIuY29tLzMvaW1hZ2UnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYENsaWVudC1JRCAke0NMSUVOVF9JRH1gXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBmb3JtRGF0YVxuICAgICAgICB9KTtcblxuICAgICAgICBpbWFnZURhdGEgPSByZXN1bHQuZGF0YTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMuaW1nVXBsb2FkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoY2xzLmlucHV0VXBsb2FkTG9hZGluZyk7XG4gICAgICAgIHRoaXMuaW1nVXBsb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmlsZUlucHV0LnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZEltYWdlSXRlbShpbWFnZURhdGEpO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBydW5VcGxvYWQpO1xuICB9XG5cbiAgZmlsZUlucHV0Q3JlYXRlICgpIHtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgIGZpbGVJbnB1dC5hY2NlcHQgPSAnaW1hZ2UvKic7XG4gICAgLy8gbXVzdCBiZSBpbiBib2R5IGZvciBJRVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKGZpbGVJbnB1dCk7XG4gICAgZmlsZUlucHV0LmhpZGRlbiA9IHRydWU7XG5cbiAgICByZXR1cm4gZmlsZUlucHV0O1xuICB9XG5cbiAgYWRkSW1hZ2VJdGVtICh7IGlkLCBsaW5rLCB0eXBlIH0pIHtcbiAgICBjb25zdCBleHQgPSB0eXBlLnNwbGl0KCcvJylbMV07XG4gICAgY29uc3QgaXRlbSA9IGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGltZ0xpc3RJdGVtLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXJsOiBsaW5rLFxuICAgICAgICAgIHNvdXJjZTogYCR7aWR9LiR7ZXh0fWBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgdGhpcy5pbWdMaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgaXRlbSk7XG4gIH1cblxuICBhc3luYyBsb2FkRGF0YSAoKSB7XG4gICAgLy8gVE9ETzogYWRkIGxvYWRpbmcgaW5kaWNhdG9yXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoSnNvbih0aGlzLmZldGNoUHJvZHVjdFVybCksXG4gICAgICAgIGZldGNoSnNvbih0aGlzLmZldGNoQ2F0ZWdvcmllc1VybClcbiAgICAgIF0pO1xuXG4gICAgICByZXR1cm4geyBwcm9kdWN0RGF0YTogZGF0YVswXSwgY2F0ZWdvcmllczogZGF0YVsxXSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IFBhZ2VNZXNzYWdlKHsgZXJyb3IgfSk7XG4gICAgICByZXR1cm4geyBlcnJvck1lc3NhZ2U6IG1lc3NhZ2UuZWxlbSB9O1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjkyNjc5MTU0YWZkZTA4MTVjNjIyMmM3YzA0MDFmNDQyLnN2Z1wiOyIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBhc3luYyByZW5kZXIgKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICA8c2VjdGlvbiBjbGFzcz1cInBhZ2Utc2VjdGlvblwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLXNlY3Rpb25fX3RpdGxlXCI+UHJvZHVjdHM8L2gyPlxuXG4gICAgICAgIDxzb3J0YWJsZS10YWJsZVxuICAgICAgICAgIGRhdGEtdXJsPVwiL2FwaS9yZXN0L3Byb2R1Y3RzP19lbWJlZD1zdWJjYXRlZ29yeS5jYXRlZ29yeVwiLFxuICAgICAgICAgIGRhdGEtaXMtZHluYW1pYz1cIjFcIlxuICAgICAgICAgIGRhdGEtZmllbGRzLWxpc3Q9XCJbJ2ltYWdlcycsICd0aXRsZScsICdzdWJjYXRlZ29yeScsICdxdWFudGl0eScsICdwcmljZScsICdzdGF0dXMnXVwiXG4gICAgICAgICAgZGF0YS1vcmRlci1maWVsZD0ndGl0bGUnLFxuICAgICAgICAgIGRhdGEtb3JkZXItZGlyZWN0aW9uPVwiMVwiXG4gICAgICAgICAgPjwvc29ydGFibGUtdGFibGU+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgPC9kaXY+YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheW91dCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29ubmVjdGVkQ2FsbGJhY2sgKCkge1xuICAgIHRoaXMuYXBwZW5kKHRoaXMucmVuZGVyKCkpO1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgncGFnZScpO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cInBhZ2UtY29udGFpbmVyXCI+XG4gICAgICA8YXNpZGUgY2xhc3M9XCJwYWdlLWFzaWRlXCI+XG4gICAgICAgIDxoMSBjbGFzcz1cInBhZ2UtYXNpZGVfX3RpdGxlXCI+XG4gICAgICAgICAgPGEgaHJlZj1cIi4vXCI+U2hvcCBhZG1pbjwvYT5cbiAgICAgICAgPC9oMT5cblxuICAgICAgICA8bmF2IGNsYXNzPVwicGFnZS1hc2lkZV9fbmF2XCI+XG4gICAgICAgICAgPHVsIGNsYXNzPVwicGFnZS1hc2lkZV9fbGlzdFwiPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1hc2lkZV9faXRlbVwiPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGNsYXNzPVwicGFnZS1hc2lkZV9fbGluayBwYWdlLWFzaWRlX19saW5rLS1kYXNoYm9hcmRcIlxuICAgICAgICAgICAgICAgIGhyZWY9XCIuL1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGFnZS1hc2lkZV9fbGluay10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICBEYXNoYm9hcmRcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwYWdlLWFzaWRlX19pdGVtXCI+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rIHBhZ2UtYXNpZGVfX2xpbmstLXByb2R1Y3RzXCJcbiAgICAgICAgICAgICAgICBocmVmPVwiLi9wcm9kdWN0c1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGFnZS1hc2lkZV9fbGluay10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICBQcm9kdWN0c1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhZ2UtYXNpZGVfX2l0ZW1cIj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBjbGFzcz1cInBhZ2UtYXNpZGVfX2xpbmsgcGFnZS1hc2lkZV9fbGluay0tY2F0ZWdvcmllc1wiXG4gICAgICAgICAgICAgICAgaHJlZj1cIi4vY2F0ZWdvcmllc1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGFnZS1hc2lkZV9fbGluay10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICBDYXRlZ29yaWVzXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvbmF2PlxuICAgICAgPC9hc2lkZT5cblxuICAgICAgPG1haW4gY2xhc3M9XCJwYWdlLW1haW5cIiBpZD1cImNvbnRlbnRcIj5cbiAgICAgICAgPCEtLSBtYWluIGNvbnRlbnQgd2lsbCBiZSBoZXJlIC0tPlxuICAgICAgPC9tYWluPlxuICAgIDwvZGl2PmApO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGVsZW06ICdyYW5nZXBpY2tlcicsXG4gIGVsZW1PcGVuOiAncmFuZ2VwaWNrZXItLW9wZW4nLFxuICBpbnB1dDogJ3JhbmdlcGlja2VyX19pbnB1dCcsXG4gIGZyb206ICdyYW5nZXBpY2tlcl9fZnJvbScsXG4gIHRvOiAncmFuZ2VwaWNrZXJfX3RvJyxcbiAgc2VsZWN0b3I6ICdyYW5nZXBpY2tlcl9fc2VsZWN0b3InLFxuICBzZWxlY3RvckFycm93OiAncmFuZ2VwaWNrZXJfX3NlbGVjdG9yLWFycm93JyxcbiAgc2VsZWN0b3JDb250cm9sOiAncmFuZ2VwaWNrZXJfX3NlbGVjdG9yLWNvbnRyb2wnLFxuICBjYWxlbmRhcnM6ICdyYW5nZXBpY2tlcl9fY2FsZW5kYXJzJyxcbiAgY2FsZW5kYXI6ICdyYW5nZXBpY2tlcl9fY2FsZW5kYXInLFxuICBjZWxsOiAncmFuZ2VwaWNrZXJfX2NlbGwnLFxuICBzZWxlY3RlZEZyb206ICdyYW5nZXBpY2tlcl9fc2VsZWN0ZWQtZnJvbScsXG4gIHNlbGVjdGVkQmV0d2VlbjogJ3JhbmdlcGlja2VyX19zZWxlY3RlZC1iZXR3ZWVuJyxcbiAgc2VsZWN0ZWRUbzogJ3JhbmdlcGlja2VyX19zZWxlY3RlZC10bycsXG4gIG1vbnRoSW5kaWNhdG9yOiAncmFuZ2VwaWNrZXJfX21vbnRoLWluZGljYXRvcicsXG4gIGRheU9mV2VlazogJ3JhbmdlcGlja2VyX19kYXktb2Ytd2VlaycsXG4gIGRhdGVHcmlkOiAncmFuZ2VwaWNrZXJfX2RhdGUtZ3JpZCdcbn07XG4iLCJpbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5cbmV4cG9ydCBjb25zdCBpbnB1dCA9IGA8YnV0dG9uIGNsYXNzPVwiJHtjbHMuaW5wdXR9XCIgZGF0YS1lbGVtPVwiaW5wdXRcIiB0eXBlPVwiYnV0dG9uXCI+XG4gIDxzcGFuXG4gICAgY2xhc3M9XCIke2Nscy5mcm9tfVwiXG4gICAgZGF0YS1lbGVtPVwiZnJvbVwiPntmcm9tfTwvc3Bhbj4gLVxuICA8c3BhblxuICAgIGNsYXNzPVwiJHtjbHMudG99XCJcbiAgICBkYXRhLWVsZW09XCJ0b1wiXG4gICAgPnt0b308L3NwYW4+XG48L2J1dHRvbj5gO1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3IgPSBgXG48ZGl2IGNsYXNzPVwiJHtjbHMuc2VsZWN0b3J9XCIgZGF0YS1lbGVtPVwic2VsZWN0b3JcIj5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLnNlbGVjdG9yQXJyb3d9XCI+PC9kaXY+XG4gIDxidXR0b25cbiAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICBjbGFzcz1cIiR7Y2xzLnNlbGVjdG9yQ29udHJvbH0gJHtjbHMuc2VsZWN0b3JDb250cm9sfS0tbGVmdFwiXG4gICAgZGF0YS1kaXJlY3Rpb249XCJwcmV2XCJcbiAgPjwvYnV0dG9uPlxuICA8YnV0dG9uXG4gICAgdHlwZT1cImJ1dHRvblwiXG4gICAgY2xhc3M9XCIke2Nscy5zZWxlY3RvckNvbnRyb2x9ICR7Y2xzLnNlbGVjdG9yQ29udHJvbH0tLXJpZ2h0XCJcbiAgICBkYXRhLWRpcmVjdGlvbj1cIm5leHRcIlxuICA+PC9idXR0b24+XG4gIDxkaXYgY2xhc3M9XCIke2Nscy5jYWxlbmRhcnN9XCI+PC9kaXY+XG48L2Rpdj5cbmA7XG5cbmV4cG9ydCBjb25zdCBjYWxlbmRhciA9IGBcbjxkaXYgY2xhc3M9XCIke2Nscy5jYWxlbmRhcn1cIj5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLm1vbnRoSW5kaWNhdG9yfVwiPlxuICAgIDx0aW1lIGRhdGV0aW1lPVwie21vbnRofVwiPnttb250aH08L3RpbWU+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMuZGF5T2ZXZWVrfVwiPlxuICAgIHt3ZWVrZGF5c31cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCIke2Nscy5kYXRlR3JpZH1cIj5cbiAgICB7ZGF5c31cbiAgPC9kaXY+XG48L2Rpdj5cbmA7XG5cbmV4cG9ydCBjb25zdCBkYXkgPSBgXG48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIiR7Y2xzLmNlbGx9IHttb2R9XCIgZGF0YS12YWx1ZT1cIntkYXRlVGltZX1cIiBzdHlsZT1cIntzdHlsZX1cIj57ZGF0ZU51bX08L2J1dHRvbj5cbmA7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5wdXQsXG4gIHNlbGVjdG9yLFxuICBjYWxlbmRhcixcbiAgZGF5XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZiMTEyYjU1MDI3NmQ3NTJkMGIzZTEwN2FkZThkNjE3LnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI2ODJkZWRhYWZiMDQ0ZTdiOWVhMzUyYTcwYmFhZjU2OS5zdmdcIjsiLCJpbXBvcnQge1xuICBmaWxsVGVtcGxhdGUsXG4gIGdldFdlZWtEYXlzXG59IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IHRlbXBsYXRlcyBmcm9tICcuL3RlbXBsYXRlcy5qcyc7XG5pbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5cbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5pbXBvcnQgJy4vYXJyb3ctaWNvbi5zdmcnO1xuaW1wb3J0ICcuL2NhbGVuZGFyLWljb24uc3ZnJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZ2VQaWNrZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudG9nZ2xlUGlja2VyID0gdGhpcy50b2dnbGVQaWNrZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNlbGVjdG9yT25DbGljayA9IHRoaXMuc2VsZWN0b3JPbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5ib2R5T25DbGljayA9IHRoaXMuYm9keU9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZVJhbmdlID0gdGhpcy51cGRhdGVSYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5pc09wZW5lZCA9IGZhbHNlO1xuICAgIHRoaXMuZWxlbSA9IHRoaXM7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3JhbmdlcGlja2VyJyk7XG4gIH1cblxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdGhpcy5kYXRhc2V0O1xuXG4gICAgdGhpcy5kYXRlcyA9IHtcbiAgICAgIGZyb206IG5ldyBEYXRlKGZyb20pLFxuICAgICAgdG86IG5ldyBEYXRlKHRvKVxuICAgIH07XG5cbiAgICB0aGlzLm1vbnRoZXMgPSB0aGlzLmdldERpc3BsYXllZE1vbnRoZXMoKTtcbiAgICB0aGlzLm5ld0RhdGVzID0gW107XG5cbiAgICB0aGlzLmFkZElucHV0KCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlRGF0ZScsIHRoaXMudXBkYXRlUmFuZ2UpO1xuICB9XG5cbiAgZ2V0RGlzcGxheWVkTW9udGhlcyAoKSB7XG4gICAgY29uc3QgY3VycmVudE1vbnRoID0gbmV3IERhdGUodGhpcy5kYXRlcy5mcm9tKTtcbiAgICBsZXQgbW9udGggPSBjdXJyZW50TW9udGguZ2V0TW9udGgoKTtcbiAgICBjb25zdCBjdXJyZW50RGF5ID0gMTtcbiAgICBjdXJyZW50TW9udGguc2V0RGF0ZShjdXJyZW50RGF5KTtcblxuICAgIGNvbnN0IG5leHRNb250aCA9IG5ldyBEYXRlKGN1cnJlbnRNb250aCk7XG4gICAgbmV4dE1vbnRoLnNldE1vbnRoKCsrbW9udGgpO1xuXG4gICAgcmV0dXJuIFtjdXJyZW50TW9udGgsIG5leHRNb250aF07XG4gIH1cblxuICBhZGRJbnB1dCAoKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGZyb206IHRoaXMuZGF0ZXMuZnJvbS50b0xvY2FsZURhdGVTdHJpbmcoKSxcbiAgICAgIHRvOiB0aGlzLmRhdGVzLnRvLnRvTG9jYWxlRGF0ZVN0cmluZygpXG4gICAgfTtcbiAgICBjb25zdCB0bXBsID0gdGVtcGxhdGVzLmlucHV0O1xuICAgIGNvbnN0IGlucHV0U3RyID0gZmlsbFRlbXBsYXRlKHtcbiAgICAgIHRtcGwsXG4gICAgICBkYXRhXG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywgaW5wdXRTdHIpO1xuICAgIHRoaXMuaW5wdXQgPSB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcihgLiR7Y2xzLmlucHV0fWApO1xuICAgIHRoaXMuaW5wdXRGcm9tID0gdGhpcy5pbnB1dC5xdWVyeVNlbGVjdG9yKGAuJHtjbHMuZnJvbX1gKTtcbiAgICB0aGlzLmlucHV0VG8gPSB0aGlzLmlucHV0LnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy50b31gKTtcblxuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLnRvZ2dsZVBpY2tlcik7XG4gICAgLy8gY2FwdHVyZTogdHJ1ZSByZXZlcnNlcyBvcmRlciBvZiBldmVudHNcbiAgICAvLyBjbGljayBvbiBib2R5IGZpcmVzIGZpcnN0XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuYm9keU9uQ2xpY2ssIHtcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGJvZHlPbkNsaWNrICgpIHtcbiAgICBjb25zdCBwYXJlbnRSYW5nZVBpY2tlciA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KGAuJHtjbHMuZWxlbX1gKTtcblxuICAgIGlmICghcGFyZW50UmFuZ2VQaWNrZXIgJiYgdGhpcy5pc09wZW5lZCkge1xuICAgICAgdGhpcy5oaWRlUGlja2VyKCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlSW5wdXQgKCkge1xuICAgIHRoaXMuaW5wdXRGcm9tLmlubmVySFRNTCA9IHRoaXMuZGF0ZXMuZnJvbS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB0aGlzLmlucHV0VG8uaW5uZXJIVE1MID0gdGhpcy5kYXRlcy50by50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgfVxuXG4gIHVwZGF0ZVJhbmdlICgpIHtcbiAgICB0aGlzLm1vbnRoZXMgPSB0aGlzLmdldERpc3BsYXllZE1vbnRoZXMoKTtcbiAgICB0aGlzLm5ld0RhdGVzID0gW107XG4gICAgdGhpcy51cGRhdGVJbnB1dCgpO1xuICAgIHRoaXMuaGlkZVBpY2tlcigpO1xuICB9XG5cbiAgdG9nZ2xlUGlja2VyICgpIHtcbiAgICBpZiAodGhpcy5pc09wZW5lZCkge1xuICAgICAgdGhpcy5oaWRlUGlja2VyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaG93UGlja2VyKCk7XG4gICAgdGhpcy5pc09wZW5lZCA9IHRydWU7XG4gIH1cblxuICBzaG93UGlja2VyICgpIHtcbiAgICBpZiAoIXRoaXMuc2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuYWRkU2VsZWN0b3IoKTtcblxuICAgICAgdGhpcy5zZWxlY3RvciA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuJHtjbHMuc2VsZWN0b3J9YCk7XG4gICAgICB0aGlzLmNhbGVuZGFycyA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuJHtjbHMuY2FsZW5kYXJzfWApO1xuXG4gICAgICB0aGlzLnNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zZWxlY3Rvck9uQ2xpY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbGVuZGFycy5pbm5lckhUTUwgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLmFkZENhbGVuZGFycygpO1xuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKGNscy5lbGVtT3Blbik7XG4gIH1cblxuICBoaWRlUGlja2VyICgpIHtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbHMuZWxlbU9wZW4pO1xuICAgIHRoaXMuaXNPcGVuZWQgPSBmYWxzZTtcbiAgICB0aGlzLm5ld0RhdGVzID0gW107XG4gIH1cblxuICBhZGRTZWxlY3RvciAoKSB7XG4gICAgY29uc3Qgc2VsZWN0b3JTdHIgPSB0ZW1wbGF0ZXMuc2VsZWN0b3I7XG4gICAgdGhpcy5lbGVtLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgc2VsZWN0b3JTdHIpO1xuICB9XG5cbiAgc2VsZWN0b3JPbkNsaWNrICgpIHtcbiAgICBjb25zdCB7IGRhdGFzZXQgfSA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAoZGF0YXNldC52YWx1ZSkge1xuICAgICAgdGhpcy5zZXREYXkoZXZlbnQudGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKGRhdGFzZXQuZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLm1vdmVNb250aChkYXRhc2V0LmRpcmVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgc2V0RGF5IChlbGVtKSB7XG4gICAgY29uc3QgZGF0ZSA9IGVsZW0uZGF0YXNldC52YWx1ZTtcblxuICAgIGlmICh0aGlzLm5ld0RhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5uZXdEYXRlcy5wdXNoKG5ldyBEYXRlKGRhdGUpKTtcbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWQoZWxlbSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5uZXdEYXRlcy5wdXNoKG5ldyBEYXRlKGRhdGUpKTtcblxuICAgIHRoaXMubmV3RGF0ZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIH0pO1xuICAgIHRoaXMuZGF0ZXMgPSB7XG4gICAgICBmcm9tOiB0aGlzLm5ld0RhdGVzWzBdLFxuICAgICAgdG86IHRoaXMubmV3RGF0ZXNbMV1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudCgnY2hhbmdlRGF0ZScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgZGF0ZXM6IHtcbiAgICAgICAgICAgIGZyb206IHRoaXMuZGF0ZXMuZnJvbS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdG86IHRoaXMuZGF0ZXMudG8udG9JU09TdHJpbmcoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgbW92ZU1vbnRoIChkaXJlY3Rpb24pIHtcbiAgICBsZXQgc3RlcCA9IDE7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICBzdGVwID0gLTE7XG4gICAgfVxuXG4gICAgdGhpcy5tb250aGVzLmZvckVhY2goZGF0ZSA9PiB7XG4gICAgICBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIHN0ZXApO1xuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVDYWxlbmRhcnMoKTtcbiAgfVxuXG4gIGFkZENhbGVuZGFycyAoKSB7XG4gICAgdGhpcy5tb250aGVzLmZvckVhY2goZGF0ZSA9PiB7XG4gICAgICB0aGlzLmNhbGVuZGFycy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIHRoaXMuZ2V0Q2FsZW5kYXIoZGF0ZSkpO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQ2FsZW5kYXJzICgpIHtcbiAgICB0aGlzLmNhbGVuZGFycy5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmFkZENhbGVuZGFycygpO1xuICB9XG5cbiAgdXBkYXRlU2VsZWN0ZWQgKGVsZW0pIHtcbiAgICBjb25zdCBjZWxscyA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjbHMuY2VsbH1gKTtcbiAgICBjb25zdCBjbGFzc2VzID0gW2Nscy5zZWxlY3RlZEJldHdlZW4sIGNscy5zZWxlY3RlZEZyb20sIGNscy5zZWxlY3RlZFRvXTtcblxuICAgIGNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlcyk7XG4gICAgfSk7XG5cbiAgICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xzLnNlbGVjdGVkRnJvbSk7XG4gIH1cblxuICBnZXRDYWxlbmRhciAoZGF0ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBtb250aDogZGF0ZS50b0xvY2FsZVN0cmluZygnZGVmYXVsdCcsIHsgbW9udGg6ICdsb25nJyB9KSxcbiAgICAgIHdlZWtkYXlzOiBnZXRXZWVrRGF5cygnZGl2JyksXG4gICAgICBkYXlzOiB0aGlzLmdldENlbGxzKGRhdGUpXG4gICAgfTtcblxuICAgIGNvbnN0IHRtcGwgPSB0ZW1wbGF0ZXMuY2FsZW5kYXI7XG4gICAgY29uc3QgY2FsZW5kYXJTdHIgPSBmaWxsVGVtcGxhdGUoe1xuICAgICAgdG1wbCxcbiAgICAgIGRhdGFcbiAgICB9KTtcblxuICAgIHJldHVybiBjYWxlbmRhclN0cjtcbiAgfVxuXG4gIGdldENlbGxzIChkYXRlKSB7XG4gICAgY29uc3QgdG1wbCA9IHRlbXBsYXRlcy5kYXk7XG4gICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICBjb25zdCBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCk7XG4gICAgbGV0IGN1cnJlbnREYXkgPSAxO1xuICAgIGxldCBkYXlzU3RyID0gJyc7XG5cbiAgICB3aGlsZSAoY3VycmVudERhdGUuZ2V0TW9udGgoKSA9PT0gbW9udGgpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nZXRDZWxsU3RhcnRTdHlsZShjdXJyZW50RGF0ZSk7XG4gICAgICBjb25zdCBtb2QgPSB0aGlzLmdldENlbGxNb2QoY3VycmVudERhdGUpO1xuXG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBkYXRlVGltZTogY3VycmVudERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgZGF0ZU51bTogY3VycmVudERhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgbW9kXG4gICAgICB9O1xuICAgICAgZGF5c1N0ciArPSBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsLFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcblxuICAgICAgY3VycmVudERhdGUuc2V0RGF0ZSgrK2N1cnJlbnREYXkpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXlzU3RyO1xuICB9XG5cbiAgZ2V0Q2VsbFN0YXJ0U3R5bGUgKGRhdGUpIHtcbiAgICBsZXQgc3R5bGUgPSAnJztcbiAgICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKTtcblxuICAgIGlmIChkYXkgPiAxKSB7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgbGV0IHdlZWtkYXlOdW0gPSBkYXRlLmdldERheSgpO1xuICAgIGlmICh3ZWVrZGF5TnVtID09PSAwKSB7XG4gICAgICB3ZWVrZGF5TnVtID0gNztcbiAgICB9XG5cbiAgICBzdHlsZSA9IGBncmlkLWNvbHVtbi1zdGFydDogJHt3ZWVrZGF5TnVtfWA7XG5cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBnZXRDZWxsTW9kIChkYXRlKSB7XG4gICAgbGV0IG1vZCA9ICcnO1xuXG4gICAgaWYgKHRoaXMubmV3RGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIG1vZDtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRlTXMgPSBkYXRlLnZhbHVlT2YoKTtcbiAgICBjb25zdCBkYXRlRnJvbU1zID0gdGhpcy5kYXRlcy5mcm9tLnZhbHVlT2YoKTtcbiAgICBjb25zdCBkYXRlVG9NcyA9IHRoaXMuZGF0ZXMudG8udmFsdWVPZigpO1xuXG4gICAgaWYgKGRhdGVNcyA+IGRhdGVGcm9tTXMgJiYgZGF0ZU1zIDwgZGF0ZVRvTXMpIHtcbiAgICAgIG1vZCA9IGNscy5zZWxlY3RlZEJldHdlZW47XG4gICAgfSBlbHNlIGlmIChkYXRlTXMgPT09IGRhdGVGcm9tTXMpIHtcbiAgICAgIG1vZCA9IGNscy5zZWxlY3RlZEZyb207XG4gICAgfSBlbHNlIGlmIChkYXRlTXMgPT09IGRhdGVUb01zKSB7XG4gICAgICBtb2QgPSBjbHMuc2VsZWN0ZWRUbztcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiODNjNzU0MjBkMDM2MGVkMjI1MTFjMDkyZTU3ZDFkNTQuc3ZnXCI7IiwiaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCAnLi9ncmFiLWljb24uc3ZnJztcblxuY29uc3QgY2xzID0ge1xuICBlbGVtOiAnZHJhZ2dhYmxlLWxpc3QnLFxuICBpdGVtczogJ2RyYWdnYWJsZS1saXN0X19pdGVtcycsXG4gIGl0ZW06ICdkcmFnZ2FibGUtbGlzdF9faXRlbScsXG4gIGRyYWdnZWQ6ICdkcmFnZ2FibGUtbGlzdF9faXRlbS0tZHJhZ2dlZCcsXG4gIHBsYWNlaG9sZGVyOiAnZHJhZ2dhYmxlLWxpc3RfX2l0ZW0tLXBsYWNlaG9sZGVyJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhZ2dhYmxlTGlzdCBleHRlbmRzIEhUTUxVTGlzdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuY3VycmVudCA9IHt9O1xuXG4gICAgdGhpcy5zdGFydERyYWcgPSB0aGlzLnN0YXJ0RHJhZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RvcERyYWcgPSB0aGlzLnN0b3BEcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlckhlaWdodCA9IHRoaXMuc2V0UGxhY2Vob2xkZXJIZWlnaHQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW0pO1xuICAgIHRoaXMuaXRlbXMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG4gICAgdGhpcy5wbGFjZWhvbGRlciA9IHRoaXMuY3JlYXRlUGxhY2Vob2xkZXIoKTtcblxuICAgIHRoaXMuYWRkQ2xhc3NUb0l0ZW1zKCk7XG4gICAgdGhpcy5kaXNhYmxlRGVmYXVsdERyYWdzdGFydCgpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLnN0YXJ0RHJhZyk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuc2V0UGxhY2Vob2xkZXJIZWlnaHQsIHsgb25jZTogdHJ1ZSB9KTtcblxuICAgIHRoaXMuYWRkTXV0YXRpb25PYnNlcnZlcigpO1xuICB9XG5cbiAgc3RhcnREcmFnIChldmVudCkge1xuICAgIHRoaXMuY3VycmVudC5lbGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5kcmFnZ2FibGUtbGlzdF9faXRlbScpO1xuICAgIGlmICghdGhpcy5jdXJyZW50LmVsZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdGhpcy5jdXJyZW50LmhlaWdodCA9IHRoaXMuY3VycmVudC5lbGVtLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmN1cnJlbnQuaGFsZiA9IHRoaXMuY3VycmVudC5oZWlnaHQgLyAyO1xuICAgIHRoaXMuY3VycmVudC5vZmZzZXQgPSB0aGlzLmdldEN1cnJlbnRPZmZzZXQoZXZlbnQpO1xuICAgIHRoaXMuY3VycmVudC5zY3JvbGxTdGVwcyA9IDA7XG4gICAgdGhpcy5jb29yZHMgPSB0aGlzLmdldExpc3RDb29yZHMoKTtcbiAgICB0aGlzLnNldEN1cnJlbnRJdGVtVG9wKGV2ZW50KTtcblxuICAgIHRoaXMuY3VycmVudC5lbGVtLnJlcGxhY2VXaXRoKHRoaXMucGxhY2Vob2xkZXIpO1xuICAgIHRoaXMuY3VycmVudC5lbGVtLmNsYXNzTGlzdC5hZGQoY2xzLmRyYWdnZWQpO1xuICAgIHRoaXMuYXBwZW5kKHRoaXMuY3VycmVudC5lbGVtKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm1vdmUpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5zdG9wRHJhZyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5zdG9wRHJhZyk7XG4gIH1cblxuICBnZXRDdXJyZW50T2Zmc2V0IChldmVudCkge1xuICAgIGNvbnN0IHsgdG9wIH0gPSB0aGlzLmN1cnJlbnQuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gZXZlbnQuY2xpZW50WSAtIHRvcDtcbiAgfVxuXG4gIGdldExpc3RDb29yZHMgKCkge1xuICAgIHJldHVybiB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9XG5cbiAgbW92ZSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0Q3VycmVudEl0ZW1Ub3AoZXZlbnQpO1xuXG4gICAgdGhpcy5zY3JvbGxPbk1vdmUoZXZlbnQpO1xuXG4gICAgY29uc3QgZWxlbVRvcCA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLmNvb3Jkcy50b3AgLSB0aGlzLmN1cnJlbnQuaGFsZjtcbiAgICBjb25zdCBjaGVja0xpbmUgPSBlbGVtVG9wICsgdGhpcy5jdXJyZW50LmhhbGY7XG5cbiAgICAvLyBDaGVjayBpbnRlcnNlY3Rpb25cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5pdGVtcykge1xuICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKGNscy5kcmFnZ2VkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9wID0gaXRlbS5vZmZzZXRUb3A7XG4gICAgICBjb25zdCBib3R0b20gPSB0b3AgKyBpdGVtLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IG1pZGRsZSA9IHRvcCArIGl0ZW0ub2Zmc2V0SGVpZ2h0IC8gMjtcblxuICAgICAgaWYgKGNoZWNrTGluZSA+IHRvcCAmJiBjaGVja0xpbmUgPCBib3R0b20pIHtcbiAgICAgICAgaWYgKGNoZWNrTGluZSA8PSBtaWRkbGUpIHtcbiAgICAgICAgICBpdGVtLmFmdGVyKHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uYmVmb3JlKHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEN1cnJlbnRJdGVtVG9wIChldmVudCkge1xuICAgIHRoaXMuY29vcmRzID0gdGhpcy5nZXRMaXN0Q29vcmRzKCk7XG4gICAgbGV0IGVsZW1Ub3AgPSBldmVudC5jbGllbnRZIC0gdGhpcy5jb29yZHMudG9wIC0gdGhpcy5jdXJyZW50Lm9mZnNldDtcbiAgICBjb25zdCBtaW4gPSAtdGhpcy5jdXJyZW50LmhhbGY7XG4gICAgY29uc3QgbWF4ID0gdGhpcy5jb29yZHMuaGVpZ2h0IC0gdGhpcy5jdXJyZW50LmhhbGY7XG5cbiAgICBpZiAoZWxlbVRvcCA8IG1pbikge1xuICAgICAgZWxlbVRvcCA9IG1pbjtcbiAgICB9IGVsc2UgaWYgKGVsZW1Ub3AgPiBtYXgpIHtcbiAgICAgIGVsZW1Ub3AgPSBtYXg7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudC5lbGVtLnN0eWxlLnRvcCA9IGAke2VsZW1Ub3B9cHhgO1xuICB9XG5cbiAgc2Nyb2xsT25Nb3ZlIChldmVudCkge1xuICAgIGNvbnN0IHsgdG9wLCBib3R0b20gfSA9IHRoaXMuY3VycmVudC5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRvY3VtZW50T3ZlcmZsb3cgPSB7XG4gICAgICBib3R0b206IGJvdHRvbSAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICB0b3A6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AgLSB0b3BcbiAgICB9O1xuXG4gICAgbGV0IHNjcm9sbFNpemUgPSAwO1xuICAgIGlmIChkb2N1bWVudE92ZXJmbG93LmJvdHRvbSA+IDApIHtcbiAgICAgIHNjcm9sbFNpemUgPSB0aGlzLmN1cnJlbnQuaGFsZjtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50T3ZlcmZsb3cudG9wID4gMCkge1xuICAgICAgc2Nyb2xsU2l6ZSA9IC10aGlzLmN1cnJlbnQuaGFsZjtcbiAgICB9XG5cbiAgICBpZiAoIXNjcm9sbFNpemUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgc2Nyb2xsU2l6ZSk7XG4gICAgdGhpcy5zZXRDdXJyZW50SXRlbVRvcChldmVudCk7XG4gICAgdGhpcy5jdXJyZW50Lm9mZnNldCA9IHRoaXMuZ2V0Q3VycmVudE9mZnNldChldmVudCk7XG4gIH1cblxuICBzdG9wRHJhZyAoKSB7XG4gICAgdGhpcy5wbGFjZWhvbGRlci5yZXBsYWNlV2l0aCh0aGlzLmN1cnJlbnQuZWxlbSk7XG4gICAgdGhpcy5jdXJyZW50LmVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbHMuZHJhZ2dlZCk7XG4gICAgdGhpcy5jdXJyZW50LmVsZW0uc3R5bGUudG9wID0gJyc7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMubW92ZSk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLnN0b3BEcmFnKTtcbiAgfVxuXG4gIGNyZWF0ZVBsYWNlaG9sZGVyICgpIHtcbiAgICBjb25zdCBmaXJzdEl0ZW0gPSB0aGlzLml0ZW1zWzBdO1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gZmlyc3RJdGVtLmNsb25lTm9kZSh0cnVlKTtcbiAgICBwbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKGNscy5wbGFjZWhvbGRlciwgY2xzLml0ZW0pO1xuICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9ICcnO1xuXG4gICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICB9XG5cbiAgc2V0UGxhY2Vob2xkZXJIZWlnaHQgKCkge1xuICAgIGNvbnN0IGZpcnN0SXRlbSA9IHRoaXMuaXRlbXNbMF07XG4gICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5taW5IZWlnaHQgPSBgJHtmaXJzdEl0ZW0ub2Zmc2V0SGVpZ2h0fXB4YDtcbiAgfVxuXG4gIGFkZENsYXNzVG9JdGVtcyAoKSB7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QuYWRkKGNscy5pdGVtKSk7XG4gIH1cblxuICBhZGRNdXRhdGlvbk9ic2VydmVyICgpIHtcbiAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgbXV0YXRpb25zLmZvckVhY2goKHt0eXBlfSkgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdsaScpO1xuICAgICAgICAgIHRoaXMuYWRkQ2xhc3NUb0l0ZW1zKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgZGlzYWJsZURlZmF1bHREcmFnc3RhcnQgKCkge1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGl0ZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanMtdGFza3MtcnUvY291cnNlLWpzLWZyb250ZW5kL2Jsb2IvbWFzdGVyL2xpYi9yb3V0ZXIuanNcblxuaW1wb3J0IHJlbmRlclBhZ2UgZnJvbSAnLi9yZW5kZXJQYWdlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucm91dGVzID0gW107XG5cbiAgICB0aGlzLmRvY3VtZW50Q2xpY2sgPSB0aGlzLmRvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kb2N1bWVudENsaWNrKTtcbiAgfVxuXG4gIHN0YXRpYyBpbnN0YW5jZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgUm91dGVyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIGFkZFJvdXRlIChwYXR0ZXJuLCBwYXRoKSB7XG4gICAgdGhpcy5yb3V0ZXMucHVzaCh7IHBhdHRlcm4sIHBhdGggfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXROb3RGb3VuZFBhZ2UgKHBhdGgpIHtcbiAgICB0aGlzLm5vdEZvdW5kUGFnZVBhdGggPSBwYXRoO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbmF2aWdhdGUgKGhyZWYpIHtcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBocmVmKTtcbiAgICB0aGlzLnJvdXRlKCk7XG4gIH1cblxuICBhc3luYyByb3V0ZSAoKSB7XG4gICAgY29uc3Qgc3RyaXBwZWRQYXRoID0gY2xlYW5QYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgbGV0IG1hdGNoO1xuXG4gICAgZm9yIChjb25zdCByb3V0ZSBvZiB0aGlzLnJvdXRlcykge1xuICAgICAgbWF0Y2ggPSBzdHJpcHBlZFBhdGgubWF0Y2gocm91dGUucGF0dGVybik7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gYXdhaXQgdGhpcy5jaGFuZ2VQYWdlKHJvdXRlLnBhdGgsIG1hdGNoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgdGhpcy5wYWdlID0gYXdhaXQgdGhpcy5jaGFuZ2VQYWdlKHRoaXMubm90Rm91bmRQYWdlUGF0aCk7XG4gICAgfVxuXG4gICAgLy8gY3VzdG9tIGV2ZW50IGhlcmVcbiAgfVxuXG4gIGFzeW5jIGNoYW5nZVBhZ2UgKHBhdGgsIG1hdGNoKSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UuZGVzdHJveSkge1xuICAgICAgdGhpcy5wYWdlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhZ2UgPSBhd2FpdCByZW5kZXJQYWdlKHBhdGgsIG1hdGNoKTtcbiAgfVxuXG4gIGFkZExpc3RlbmVyICgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiB0aGlzLnJvdXRlKCkpO1xuICAgIHRoaXMucm91dGUoKTtcbiAgfVxuXG4gIGRvY3VtZW50Q2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3QgbGluayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdhJyk7XG5cbiAgICBpZiAoIWxpbmspIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgIGlmIChocmVmICYmIChocmVmLnN0YXJ0c1dpdGgoJy8nKSB8fCBocmVmLnN0YXJ0c1dpdGgoJy4vJykpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5uYXZpZ2F0ZShocmVmKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYW5QYXRoIChwYXRoKSB7XG4gIHJldHVybiBkZWNvZGVVUkkocGF0aClcbiAgICAucmVwbGFjZSgvXlxcL3Nob3AtYWRtaW4tcGFnZS8sICcnKSAvLyBkaXJ0eSBoYWNrIGZvciBnaC1wYWdlc1xuICAgIC5yZXBsYWNlKC9eXFwvfFxcLyQvLCAnJylcbiAgICAucmVwbGFjZSgvXFw/LiokLywgJycpXG4gICAgLnJlcGxhY2UoLyMuKiQvLCAnJyk7XG59XG4iLCIvLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy10YXNrcy1ydS9jb3Vyc2UtanMtZnJvbnRlbmQvYmxvYi9tYXN0ZXIvbGliL3JlbmRlci1wYWdlLmpzXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHJlbmRlclBhZ2UgKHBhdGgsIG1hdGNoKSB7XG4gIGNvbnN0IHsgZGVmYXVsdDogUGFnZSB9ID0gYXdhaXQgaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gYC4uL3BhZ2VzLyR7cGF0aH0vaW5kZXguanNgKTtcbiAgY29uc3QgcGFnZSA9IG5ldyBQYWdlKG1hdGNoKTtcbiAgY29uc3QgcmVuZGVyZWRQYWdlID0gYXdhaXQgcGFnZS5yZW5kZXIoKTtcblxuICBjb25zdCBjb250ZW50RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7XG4gIGNvbnRlbnRFbGVtLmlubmVySFRNTCA9ICcnO1xuICBjb250ZW50RWxlbS5hcHBlbmQocmVuZGVyZWRQYWdlKTtcbn1cbiIsImltcG9ydCBMYXlvdXQgZnJvbSAnLi9jb21wb25lbnRzL0xheW91dC9pbmRleC5qcyc7XG5pbXBvcnQgQ29sdW1uQ2hhcnQgZnJvbSAnLi9jb21wb25lbnRzL0NvbHVtbkNoYXJ0L2luZGV4LmpzJztcbmltcG9ydCBSYW5nZVBpY2tlciBmcm9tICcuL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvaW5kZXguanMnO1xuaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnLi9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvaW5kZXguanMnO1xuaW1wb3J0IERyYWdnYWJsZUxpc3QgZnJvbSAnLi9jb21wb25lbnRzL0RyYWdnYWJsZUxpc3QvaW5kZXguanMnO1xuaW1wb3J0IFJvdXRlciBmcm9tICcuL2xpYi9Sb3V0ZXIuanMnO1xuXG5pbXBvcnQgJy4vYXNzZXRzL3Njc3Mvc3R5bGVzLnNjc3MnO1xuXG4vLyBSb3V0aW5nXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIuaW5zdGFuY2UoKTtcblxucm91dGVyXG4gIC8vIC5hZGRSb3V0ZSgvXiQvLCAnZGFzaGJvYXJkJylcbiAgLmFkZFJvdXRlKC9eJC8sICdwcm9kdWN0cy9lZGl0JylcbiAgLmFkZFJvdXRlKC9eY2F0ZWdvcmllcyQvLCAnY2F0ZWdvcmllcycpXG4gIC5hZGRSb3V0ZSgvXnByb2R1Y3RzXFwvKFtcXFMoKS1dKykvZywgJ3Byb2R1Y3RzL2VkaXQnKVxuICAuYWRkUm91dGUoL15wcm9kdWN0c1xcL2FkZCQvLCAncHJvZHVjdHMvZWRpdCcpXG4gIC5hZGRSb3V0ZSgvXnByb2R1Y3RzJC8sICdwcm9kdWN0cycpXG4gIC5zZXROb3RGb3VuZFBhZ2UoJ2Vycm9yNDA0JylcbiAgLmFkZExpc3RlbmVyKCk7XG5cbi8vIEluaXQgY3VzdG9tIGVsZW1lbnRzXG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdwYWdlLWxheW91dCcsIExheW91dCk7XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjb2x1bW4tY2hhcnQnLCBDb2x1bW5DaGFydCk7XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdyYW5nZS1waWNrZXInLCBSYW5nZVBpY2tlcik7XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzb3J0YWJsZS10YWJsZScsIFNvcnRhYmxlVGFibGUpO1xud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZHJhZ2dhYmxlLWxpc3QnLCBEcmFnZ2FibGVMaXN0LCB7IGV4dGVuZHM6ICd1bCcgfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9