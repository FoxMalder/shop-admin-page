!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/shop-admin-page/",s(s.s=35)}([function(t,e,s){"use strict";var i="content"in document.createElement("template")?function(t){const e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild}:function(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild};function n(t){return t.replace(/&/g,"&").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"<").replace(/>/g,">")}function a({tmpl:t,data:e}){if(t&&e)return t.replace(/{([^"]{1,})}/g,(t,s)=>void 0!==e[s]?e[s]:"")}function r(t){const e=new Date(t).toDateString().split(" ");return`${e[1]} ${e[2]}, ${e[3]}`}function o(t){let e=t;if(t>=1e3){const s=t%1e3;e=`${(t-s)/1e3},${s}`}return`$${e}`}function c(t){const e=new Date(1970,0,5);let s="",i=0;for(;i<7;){s+=`<${t}>${e.toLocaleString("default",{weekday:"narrow"})}</${t}>`,e.setDate(e.getDate()+1),i++}return s}function l(t,e,s){let i,n=!1,a=!0;return function(){i=arguments,a&&(t.apply(e,...i),a=!1),n||(n=!0,setTimeout((function(){t.apply(e,...i),n=!1}),s))}}s(17);const d={elem:"notification",warning:"notification--warning",error:"notification--error"};class h{constructor({message:t,container:e,type:s}){this.message=t,this.container=e,this.type=s,this.duration=this.getDuration(),this.classNames=this.getClasses(),this.addElem(),this.isFinished=!1}addElem(){this.elem=document.createElement("div"),this.elem.classList.add(...this.classNames),this.elem.dataset.state="shown",this.elem.innerHTML=this.message,this.container.prepend(this.elem),setTimeout(()=>{this.hideElem()},this.duration)}async hideElem(t={}){return this.isFinished=!0,this.elem.dataset.state="hidden",new Promise((t,e)=>{this.elem.addEventListener("animationend",()=>{this.elem.remove(),t()})})}getDuration(){return"error"===this.type?5e3:3e3}getClasses(){const t=[d.elem];return this.type&&d[this.type]&&t.push(d[this.type]),t}}const u=document.createElement("div");u.classList.add("notifications"),document.body.append(u);let p=[];async function m(t){let e;try{e=await fetch(t)}catch(s){throw new g(e,null,`Network error for url ${t}`)}if(!e.ok){let s;const i=e.statusText;try{s=await e.json()}catch(t){}let n=`Error ${e.status} for url ${t}`;throw i&&(n+=`: ${i}`),new g(e,s,n)}try{e=await e.json()}catch(t){throw new g(e,null,t.message)}return e}class g extends Error{constructor(t,e,s){super(s),this.name="FetchError",this.response=t,this.body=e}}window.addEventListener("unhandledrejection",t=>{t.reason instanceof g&&async function(t,e){const s=new h({message:t,container:u,type:e});p.push(s),s.elem.offsetTop<0&&(p=p.filter(t=>!t.isFinished),p.shift().hideElem())}(t.reason.message,"error")}),s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"f",(function(){return o})),s.d(e,"g",(function(){return c})),s.d(e,"h",(function(){return l})),s.d(e,"c",(function(){return m}))},function(t,e,s){"use strict";e.a={form:"product-form",list:"product-form__list",item:"product-form__item",itemTiny:"product-form__item--tiny",itemFollow:"product-form__item--follow",itemFull:"product-form__item--full",label:"product-form__label",input:"product-form__input",inputText:"product-form__input--text",inputNumber:"product-form__input--number",inputSelect:"product-form__input--select",inputTextarea:"product-form__input--textarea",imgsList:"product-form__images-list",imgsItem:"product-form__images-item",img:"product-form__image",imgWrapper:"product-form__image-wrapper",imgSource:"product-form__image-source",imgRemove:"product-form__image-remove",preview:"product-form__preview",footer:"product-form__footer",submit:"product-form__submit"}},function(t,e,s){"use strict";e.a={elem:"sortable-table",table:"sortable-table__table",thead:"sortable-table__thead",header:"sortable-table__header",row:"sortable-table__row",cell:"sortable-table__cell",cellError:"sortable-table__cell--error",cellSorter:"sortable-table__cell--sorter",img:"sortable-table__image",imgWrapper:"sortable-table__image-wrapper",preview:"sortable-table__preview",link:"sortable-table__link",category:"sortable-table__category",tooltipCategory:"sortable-table__tooltip-category",tooltipSubcategory:"sortable-table__tooltip-subcategory"}},function(t,e,s){"use strict";e.a={elem:"column-chart",content:"column-chart__content",header:"column-chart__header",title:"column-chart__title",total:"column-chart__total",list:"column-chart__list",item:"column-chart__item",tooltip:"column-chart__tooltip",tooltipDate:"column-chart__tooltip-date",tooltipQuantity:"column-chart__tooltip-quantity",error:"column-chart__error"}},function(t,e,s){"use strict";e.a={elem:"categories",list:"categories__list",listTop:"categories__list--topcategories",listSubcats:"categories__list--subcategories",item:"categories__item",itemTop:"categories__item--topcategory",itemSub:"categories__item--subcategory",itemOpen:"categories__item--open",toggler:"categories__toggler",counter:"categories__counter"}},function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"d",(function(){return a})),s.d(e,"b",(function(){return r})),s.d(e,"e",(function(){return o})),s.d(e,"c",(function(){return c}));var i=s(1);const n='<header class="page-content__header">\n  <h2 class="page-content__title">\n  <a href="/products">Products</a>\n  /Edit Product</h2>\n</header>',a=`<label class="${i.a.label}">\n  {fieldName}\n\n  <input\n    class="${i.a.input} ${i.a.inputText}"\n    type="text"\n    name="{id}"\n    value="{value}"/>\n</label>`,r=`<label class="${i.a.label}">\n  {fieldName}\n\n  <input\n    class="${i.a.input} ${i.a.inputNumber}"\n    type="number"\n    name="{id}"\n    value="{value}"/>\n</label>`,o=`<label class="${i.a.label}">\n  {fieldName}\n\n  <textarea\n    class="${i.a.input} ${i.a.inputTextarea}"\n    name="{id}">{value}</textarea>\n</label>`,c=`<label class="${i.a.label}">\n  {fieldName}\n\n  <select\n    class="${i.a.input} ${i.a.inputSelect}"\n    name="{id}">\n    {options}\n  </select>\n</label>`},function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s(22);class i{constructor({title:t,text:e,callback:s,callbackText:i,error:n}){this.title=t,this.text=e||"Something went wrong",this.callback=s,this.callbackText=i,this.error=n,!this.title&&this.error&&(this.title="Error"),this.createElement()}createElement(){this.elem=document.createElement("div"),this.elem.classList.add("page-message"),this.error&&this.elem.classList.add("page-message--error"),this.content=`<h3>${this.title}</h3><p>${this.text}</p>`,this.error&&(this.content+=`<div class="page-message__error">\n        <div class="page-message__error-text">\n          <strong>${this.error.name}</strong>: ${this.error.message}</div>\n      </div>`),this.elem.insertAdjacentHTML("afterBegin",this.content)}}},function(t,e,s){"use strict";var i=s(0),n=s(9),a=s(2);e.a={images:{title:"Image",render({images:t}){if(!t||!t[0].url)return"";const e=t[0].url;return`<div class="${a.a.imgWrapper}">\n      <img src="${e}" class="${a.a.img}">\n      <span style="background-image: url(${e})" class="${a.a.preview}"><span>\n      <div>`},compare:null},title:{title:"Name",render:({title:t,id:e})=>`\n      ${t}\n      <a class="${a.a.link}" href="./products/${e}"></a>\n      `,compare:(t,e)=>t.title.localeCompare(e.title)},subcategory:{title:"Category",render({subcategory:t}){const e=t.category,s=`<span class="${a.a.tooltipCategory}">${e.title}</span>/<span class="${a.a.tooltipSubcategory}">${t.title}</span>`;return`<span class="${a.a.category}" data-tooltip-content="${Object(i.b)(s)}">${t.title}</span>`},compare(t,e){const s=t.subcategory.title,i=e.subcategory.title;return s.localeCompare(i)}},quantity:{title:"Quantity",render:({quantity:t})=>t,compare:(t,e)=>t.quantity-e.quantity},price:{title:"Price",render:({price:t})=>Object(i.f)(t),compare:(t,e)=>t.price-e.price},status:{title:"Status",render:({status:t})=>n.a[t],compare:(t,e)=>t.status-e.status}}},function(t,e){var s,i,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===a||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:a}catch(t){s=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var c,l=[],d=!1,h=-1;function u(){d&&c&&(d=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!d){var t=o(u);d=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];l.push(new m(t,e)),1!==l.length||d||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,s){"use strict";e.a={0:"Disabled",1:"Enabled"}},function(t,e,s){"use strict";var i=s(0),n="tooltips-container",a="tooltips-container--dimmed",r="tooltip";s(19);s.d(e,"a",(function(){return o}));class o{constructor({elem:t,dimSiblings:e}){this.elem=t,this.elem.classList.add(n),this.dimSiblings=e,this.tooltip=Object(i.a)(`<div class="${r}"></div>`),this.elem.append(this.tooltip),this.listMouseMove=this.listMouseMove.bind(this),this.listMouseOut=this.listMouseOut.bind(this),this.elem.addEventListener("mousemove",this.listMouseMove),this.elem.addEventListener("mouseleave",this.listMouseOut)}listMouseMove(){if(!event.target.dataset.tooltipContent)return void this.hideTooltip();const{tooltipContent:t}=event.target.dataset;this.tooltip.innerHTML=t,this.tooltip.dataset.visible=1,this.elemCoords=this.elem.getBoundingClientRect();const e={x:event.clientX-this.elemCoords.x,y:event.clientY-this.elemCoords.y};this.tooltip.style=`transform: translate(${e.x}px, ${e.y}px)`,this.tooltipCoords=this.tooltip.getBoundingClientRect();const s=this.tooltipCoords.right-document.documentElement.clientWidth;s>0&&(e.x-=s,this.tooltip.style=`transform: translate(${e.x}px, ${e.y}px)`),this.dimSiblings&&this.elem.classList.add(a)}listMouseOut(){event.target.dataset.tooltipContent||this.hideTooltip()}hideTooltip(){this.tooltip.dataset.visible=0,this.elem.classList.remove(a)}}},function(t,e,s){"use strict";var i={0:"desc",1:"asc"};s.d(e,"a",(function(){return n}));const n=t=>i[+t]},function(t,e,s){"use strict";var i=s(3);const n=`<header class="${i.a.header}">\n  <h3 class="${i.a.title}">{title}</h3>\n  <div class="${i.a.total}">{total}</div>\n</header>`,a=`<li\n  class="${i.a.item}"\n  data-tooltip-content="{tootipContent}"\n  style="height: {height}"></li>`;e.a={header:n,chartItem:a}},function(t,e,s){"use strict";var i=s(5),n={0:"Disabled",1:"Enabled"},a=s(0),r=s(1);function o(t){const e=[];for(const s of t)for(const t of s.subcategories)e.push({value:t.id,text:`${s.title} > ${t.title}`});return e}function c(t,e){return t.map((t,s)=>{const i=t.value||s,n=t.text||t;return`<option value="${i}" ${i===e?"selected":""}>${n}</option>`}).join("")}e.a={images:{render:({images:t})=>t?function(t){const e=t.map(t=>`<li class="${r.a.imgsItem}">\n        <div class="${r.a.imgWrapper}">\n          <img src="${t.url}" class="${r.a.img}">\n          <span style="background-image: url(${t.url})" class="${r.a.preview}"><span>\n        </div>\n        <span class="${r.a.imgSource}">${t.source}</span>\n        <button type="button" class="${r.a.imgRemove}">Remove</button>\n      </li>`);return` + upload\n    <ul class="${r.a.imgsList}" is="draggable-list">${e.join(" ")}</ul>`}(t):"",compare:null},title:{render({title:t}){const e={id:"title",fieldName:"Name",value:t};return Object(a.d)({tmpl:i.d,data:e})}},description:{render({description:t}){const e={id:"description",fieldName:"Description",value:t};return Object(a.d)({tmpl:i.e,data:e})}},subcategory:{render({categories:t,subcategory:e}){const s={id:"subcategory",fieldName:"Category",options:c(o(t),e)};return Object(a.d)({tmpl:i.c,data:s})}},quantity:{render({quantity:t}){const e={id:"quantity",fieldName:"Quantity",value:t};return Object(a.d)({tmpl:i.b,data:e})}},price:{render({price:t}){const e={id:"price",fieldName:"Price",value:t};return Object(a.d)({tmpl:i.b,data:e})}},discount:{render({discount:t}){const e={id:"discount",fieldName:"Discount",value:t};return Object(a.d)({tmpl:i.b,data:e})}},status:{render({status:t}){const e={id:"status",fieldName:"Status",value:t,options:c(Object.values(n),t)};return Object(a.d)({tmpl:i.c,data:e})}}}},function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return o}));var i=s(10),n=s(0),a=s(3),r=s(12);s(20);class o extends HTMLElement{constructor(){super(),this.elem=document.createElement("div"),this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.changeDate=this.changeDate.bind(this)}async connectedCallback(){const{type:t,isMoney:e,from:s,to:i}=this.dataset;this.dates={from:new Date(s),to:new Date(i)},this.type=t,this.formatTotal=e?n.f:null,this.classList.add(a.a.elem,`${a.a.elem}--${t}`),this.elem.classList.add(a.a.content),this.title=`Total ${t}`,this.url=this.getUrl(),await this.render(),this.append(this.elem),document.addEventListener("changeDate",this.changeDate)}getUrl(){return`${this.apiUrl}/api/dashboard/${this.type}?from=${this.dates.from}&to=${this.dates.to}`}async getData(){try{return{data:await Object(n.c)(this.url)}}catch(t){return{error:t}}}async render(){const{data:t,error:e}=await this.getData();if(this.data=t,e)return void this.elem.insertAdjacentHTML("beforeEnd",`<div class="${a.a.error}">${e}</div>`);this.values=Object.values(this.data),0===this.values.length&&this.values.push("No data");const s=this.getHeaderStr(),i=this.getListStr();this.elem.insertAdjacentHTML("beforeEnd",s+i),this.addActions()}getHeaderStr(){return this.total=this.values.reduce((t,e)=>t+e,0),this.formatTotal&&(this.total=this.formatTotal(this.total)),Object(n.d)({tmpl:r.a.header,data:this})}getListStr(){const t=Math.max(...this.values);let e="";for(const s in this.data){const i=Object(n.e)(s);let o=this.data[s];const c=`${(o/t*100).toFixed(2)}%`;this.formatTotal&&(o=this.formatTotal(o));const l=`<small class="${a.a.tooltipDate}">${i}</small><div class="${a.a.tooltipQuantity}">${o}</div>`;e+=Object(n.d)({tmpl:r.a.chartItem,data:{...this,height:c,tootipContent:Object(n.b)(l)}})}return`<ul class="${a.a.list}">${e}</ul>`}addActions(){this.tooltips=new i.a({elem:this.elem,dimSiblings:!0})}async changeDate(t){if(!t.detail||!t.detail.dates)return;const{from:e,to:s}=t.detail.dates;this.dates={from:e,to:s},this.url=this.getUrl(),this.elem.innerHTML="",await this.render(),this.append(this.elem)}}}).call(this,s(8))},function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return d}));var i=s(10),n=s(2),a=s(9),r=s(7),o=s(0),c=s(11),l=s(6);s(23);class d extends HTMLElement{constructor(){super(),this.sorting={current:null,isAsc:!0},this.page={items:20,current:0,isDataEnded:!1},this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.changeDate=this.changeDate.bind(this)}async connectedCallback(){const{url:t,fieldsList:e,orderField:s,orderDirection:i,isDynamic:n,from:a,to:r}=this.dataset;this.dates={from:a,to:r},this.url=this.apiUrl+t,this.fieldsList=JSON.parse(e.replace(/'/g,'"')),this.isDynamic=+n,this.order={field:s,direction:i},this.initTable=this.initTable.bind(this),this.isLoading=!1,this.order&&void 0!==this.order.direction&&(this.sorting.isAsc=this.order.direction),this.fetchUrl=this.getFetchUrl(),this.onBodyScrollThrottle=Object(o.h)(this.onBodyScroll,this,500),this.initTable(),document.addEventListener("changeDate",this.changeDate)}async loadData(){this.isLoading=!0,this.table.dataset.loading=1;try{const t=await Object(o.c)(this.fetchUrl);return this.isLoading=!1,this.table.dataset.loading=0,t}catch(t){const e=new l.a({error:t});this.table.dataset.loading=0,this.tBody.insertAdjacentHTML("beforeEnd",`<tr class="${n.a.row}"><td class="${n.a.cellError}">${e.elem.outerHTML}</tr>`)}}initTable(){this.createLayout(),this.addElemHeader(),this.addTableEvents(),this.fillTBody()}async fillTBody(){this.page.isDataEnded||(this.tableRows=await this.loadData(),this.tableRows.length<this.page.items&&(this.page.isDataEnded=!0,0===this.tableRows.length)||(!this.isDynamic&&this.order&&this.order.field?this.sortRows(this.order.field):this.renderTBody()))}getFetchUrl(){const t={start:this.page.current*this.page.items,end:(this.page.current+1)*this.page.items,sort:this.order.field,order:Object(c.a)(this.sorting.isAsc)};this.dates&&this.dates.from&&(t.from=this.dates.from,t.to=this.dates.to);let e="";for(const s in t){let i="_";"from"!==s&&"to"!==s||(i=""),e+=`&${i}${s}=${t[s]}`}return this.url+e}createLayout(){this.classList.add(n.a.elem),this.table=document.createElement("table"),this.table.classList.add(n.a.table),this.tBody=document.createElement("tbody"),this.table.append(this.tBody),this.table.insertAdjacentHTML("beforeEnd",`<tfoot><tr><td colspan="${this.fieldsList.length}"><div class="spinner"></div></td></tr></tfoot>`),this.append(this.table)}addElemHeader(){let t="";this.fieldsList.forEach(e=>{let s=n.a.cell;const i={sorter:"",sortDirection:""};if(r.a[e].compare&&(s+=` ${n.a.cellSorter}`,i.sorter='data-sorter="1"'),e===this.order.field){const t=Object(c.a)(this.sorting.isAsc);i.sortDirection=`data-sort-direction="${t}"`}t+=`<th class="${s}"\n        data-name="${e}"\n        ${i.sorter}\n        ${i.sortDirection}\n        >${r.a[e].title}</th>`});const e=`<thead class="${n.a.thead}"><tr class="${n.a.header} ${n.a.row}">\n      ${t}\n    </tr></thead>`;this.table.insertAdjacentHTML("afterBegin",e),this.sorting.current=this.table.querySelector("[data-sort-direction]")}sorterOnClick(t){const{name:e}=t.dataset;t.dataset.sortDirection?this.sorting.isAsc=!this.sorting.isAsc:(this.sorting.current&&delete this.sorting.current.dataset.sortDirection,this.sorting.isAsc=!0,this.sorting.current=t),t.dataset.sortDirection=Object(c.a)(this.sorting.isAsc),this.isDynamic?this.sortRowsDynamic(e):this.sortRows(e)}sortRows(t){this.tableRows.sort(r.a[t].compare),this.sorting.isAsc||this.tableRows.reverse(),this.tBody.innerHTML="",this.renderTBody()}sortRowsDynamic(t){this.order.field=t,this.page.current=0,this.page.isDataEnded=!1,this.fetchUrl=this.getFetchUrl(),this.tBody.innerHTML="",this.fillTBody()}addTableEvents(){this.table.addEventListener("click",this),window.addEventListener("scroll",this.onBodyScrollThrottle),this.tooltips=new i.a({elem:this})}handleEvent(){event.target.dataset.sorter&&this.sorterOnClick(event.target)}onBodyScroll(){if(this.isLoading)return;document.documentElement.getBoundingClientRect().bottom-window.innerHeight<100&&(this.page.current++,this.fetchUrl=this.getFetchUrl(),this.fillTBody())}renderTBody(){this.pageYOffset=window.pageYOffset,this.tableRows.forEach(t=>{let e="";const{status:s}=t;this.fieldsList.forEach(i=>{const o=[n.a.cell,`${n.a.cell}--${i}`,`${n.a.cell}--${a.a[s].toLowerCase()}`],c=(0,r.a[i].render)(t);c&&(e+=`<td class="${o.join(" ")}">${c}</td>`)}),this.tBody.insertAdjacentHTML("beforeEnd",`<tr class="${n.a.row}">${e}</tr>`)}),this.pageYOffset&&window.scrollTo(0,this.pageYOffset)}async changeDate(t){t.detail&&t.detail.dates&&(this.dates=t.detail.dates,this.fetchUrl=this.getFetchUrl(),this.tBody.innerHTML="",this.fillTBody())}}}).call(this,s(8))},function(t,e,s){"use strict";var i=s(1);e.a=[{name:"title"},{name:"description",mods:[i.a.itemFull]},{name:"images",mods:[i.a.itemFull]},{name:"subcategory"},{name:"price",mods:[i.a.itemTiny]},{name:"discount",mods:[i.a.itemTiny,i.a.itemFollow]},{name:"quantity",mods:[i.a.itemTiny]},{name:"status",mods:[i.a.itemTiny]}]},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){var i={"./categories/index.js":26,"./dashboard/index.js":28,"./error404/index.js":29,"./products/edit/index.js":30,"./products/index.js":33};function n(t){return a(t).then(s)}function a(t){return Promise.resolve().then((function(){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}))}n.keys=function(){return Object.keys(i)},n.resolve=a,n.id=25,t.exports=n},function(t,e,s){"use strict";s.r(e),function(t){var i=s(0),n=s(6),a=s(4);s(27);e.default=class{constructor(){this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.fetchUrl=`${this.apiUrl}/api/rest/categories?_sort=weight&_refs=subcategory`,this.listClick=this.listClick.bind(this)}async render(){const{categories:t,message:e}=await this.loadData();if(e)return Object(i.a)(`<div class="page-content">\n        <section class="page-section categories">\n          <h2 class="page-section__title">Categories</h2>\n\n          ${e.elem.outerHTML}\n        </section>\n      </div>\n      `);const s=this.createList(t);return this.elem=Object(i.a)(`<div class="page-content">\n      <section class="page-section categories">\n        <h2 class="page-section__title">Categories</h2>\n\n        ${s}\n      </section>\n    </div>`),this.addEvents(),this.elem}async loadData(){try{return{categories:await Object(i.c)(this.fetchUrl)}}catch(t){return{message:new n.a({error:t})}}}createList(t,e=!1){let s="",i=a.a.listTop,n=a.a.item,r="";if(e?(i=a.a.listSubcats,n+=` ${a.a.itemSub}`,r='is="draggable-list"'):n+=` ${a.a.itemTop}`,0===t.length)return"";for(const i of t){let t="",r=i.title;const o=i.subcategories;let c="";if(e){const t=this.getPlural(i.count,["product","products"]);c=`<span class="${a.a.counter}">${t}</span>`}o&&(r=` <button class="${a.a.toggler}">${i.title}</button>`,t=this.createList(o,!0)),s+=`<li class="${n}">\n        ${r}\n        ${c}\n        ${t}\n      </li>`}return`<ul\n      class="${a.a.list} ${i}" ${r}\n      >\n      ${s}\n    </ul>`}addEvents(){this.elem.querySelector(`.${a.a.listTop}`).addEventListener("click",this.listClick)}listClick(){event.target.closest(`.${a.a.toggler}`)&&event.target.closest(`.${a.a.itemTop}`).classList.toggle(a.a.itemOpen)}getPlural(t,e){let s=e[0];return 1!==t&&(s=e[1]),`${t} ${s}`}}}.call(this,s(8))},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);const n=new Date;n.setMonth(n.getMonth()-1);const a=new Date,r=n.toISOString(),o=a.toISOString();e.default=class{async render(){return Object(i.a)(`<div class="page-content">\n      <header class="page-content__header">\n        <h2 class="page-content__title">Dashboard</h2>\n\n        <range-picker\n          data-from="${r}"\n          data-to="${o}"\n          ></range-picker>\n        </header>\n\n        <section class="page-section page-section--column-charts">\n          <column-chart\n            data-type="orders"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n\n          <column-chart\n            data-type="sales"\n            data-is-money="true"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n\n          <column-chart\n            data-type="customers"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n        </section>\n\n        <section class="page-section">\n          <h3 class="page-section__title">Bestsellers</h3>\n\n        <sortable-table\n          data-url="/api/dashboard/bestsellers?_embed=subcategory.category",\n          data-is-dynamic="0"\n          data-fields-list="['images', 'title', 'subcategory', 'quantity', 'price', 'status']"\n          data-order-field='title',\n          data-order-direction="1"\n          data-from="${r}"\n          data-to="${o}"\n          ></sortable-table>\n        </section>\n      </div>`)}}},function(t,e,s){"use strict";s.r(e);var i=s(0);e.default=class{async render(){return Object(i.a)('<div class="page-content">\n        <section class="page-section page-section--404">\n          <h2 class="page-section__title">Page not found</h2>\n          <p>No such page</p>\n        </section>\n      </div>')}}},function(t,e,s){"use strict";s.r(e),function(t){var i=s(0),n=s(6),a=s(13),r=s(16),o=s(1),c=s(5);s(31),s(32);e.default=class{constructor(e){this.id=e[0].replace("products/",""),e[0]||(this.id="3d-ochki-optoma-zd302"),this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.fetchProductUrl=this.apiUrl+`/api/rest/products?id=${this.id}`,this.fetchCategoriesUrl=this.apiUrl+"/api/rest/categories?_sort=weight&_refs=subcategory"}async render(){const{productData:t,categories:e,errorMessage:s}=await this.loadData();if(s)return Object(i.a)(`<div class="page-content">\n        ${c.a}\n\n        ${s.outerHTML}\n      </div>\n      `);const n=t[0],l=[];for(const{name:t,mods:s}of r.a)if(a.a[t]){let i=n;"subcategory"===t&&(i={...i,categories:e});const r=a.a[t].render(i);let c=[o.a.item];s&&(c=c.concat(s)),l.push(`<li class="${c.join(" ")}">${r}</li>`)}return Object(i.a)(`<div class="page-content">\n      ${c.a}\n\n      <form action="" class="${o.a.form}}">\n        <ul class="${o.a.list}">\n          ${l.join("\n")}\n        </ul>\n\n        <footer class="${o.a.footer}">\n          <button class="${o.a.submit}">Save</button>\n        </footer>\n      </form>\n    </div>`)}async loadData(){try{return{productData:await Object(i.c)(this.fetchProductUrl),categories:await Object(i.c)(this.fetchCategoriesUrl)}}catch(t){return{errorMessage:new n.a({error:t}).elem}}}}}.call(this,s(8))},function(t,e,s){"use strict";s.p},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);e.default=class{async render(){return Object(i.a)("<div class=\"page-content\">\n      <section class=\"page-section\">\n        <h2 class=\"page-section__title\">Products</h2>\n\n        <sortable-table\n          data-url=\"/api/rest/products?_embed=subcategory.category\",\n          data-is-dynamic=\"1\"\n          data-fields-list=\"['images', 'title', 'subcategory', 'quantity', 'price', 'status']\"\n          data-order-field='title',\n          data-order-direction=\"1\"\n          ></sortable-table>\n      </section>\n    </div>")}}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);s(18);class n extends HTMLElement{connectedCallback(){this.append(this.render()),this.classList.add("page")}render(){return Object(i.a)('<div class="page-container">\n      <aside class="page-aside">\n        <h1 class="page-aside__title">\n          <a href="./">Shop admin</a>\n        </h1>\n\n        <nav class="page-aside__nav">\n          <ul class="page-aside__list">\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--dashboard"\n                href="./">\n                <span class="page-aside__link-text">\n                  Dashboard\n                </span>\n              </a>\n            </li>\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--products"\n                href="./products">\n                <span class="page-aside__link-text">\n                  Products\n                </span>\n              </a>\n            </li>\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--categories"\n                href="./categories">\n                <span class="page-aside__link-text">\n                  Categories\n                </span>\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </aside>\n\n      <main class="page-main" id="content">\n        \x3c!-- main content will be here --\x3e\n      </main>\n    </div>')}}var a=s(14),r="rangepicker",o="rangepicker--open",c="rangepicker__input",l="rangepicker__from",d="rangepicker__to",h="rangepicker__selector",u="rangepicker__selector-control",p="rangepicker__calendars",m="rangepicker__cell",g="rangepicker__selected-from",f="rangepicker__selected-between",b="rangepicker__selected-to";var v={input:`<button class="${c}" data-elem="input" type="button">\n  <span\n    class="${l}"\n    data-elem="from">{from}</span> -\n  <span\n    class="${d}"\n    data-elem="to"\n    >{to}</span>\n</button>`,selector:`\n<div class="${h}" data-elem="selector">\n  <div class="${"rangepicker__selector-arrow"}"></div>\n  <button\n    type="button"\n    class="${u} ${u}--left"\n    data-direction="prev"\n  ></button>\n  <button\n    type="button"\n    class="${u} ${u}--right"\n    data-direction="next"\n  ></button>\n  <div class="${p}"></div>\n</div>\n`,calendar:`\n<div class="${"rangepicker__calendar"}">\n  <div class="${"rangepicker__month-indicator"}">\n    <time datetime="{month}">{month}</time>\n  </div>\n  <div class="${"rangepicker__day-of-week"}">\n    {weekdays}\n  </div>\n  <div class="${"rangepicker__date-grid"}">\n    {days}\n  </div>\n</div>\n`,day:`\n<button type="button" class="${m} {mod}" data-value="{dateTime}" style="{style}">{dateNum}</button>\n`};s(21),s.p,s.p;class _ extends HTMLElement{constructor(){super(),this.togglePicker=this.togglePicker.bind(this),this.selectorOnClick=this.selectorOnClick.bind(this),this.bodyOnClick=this.bodyOnClick.bind(this),this.updateRange=this.updateRange.bind(this),this.isOpened=!1,this.elem=this,this.elem.classList.add("rangepicker")}async connectedCallback(){const{from:t,to:e}=this.dataset;this.dates={from:new Date(t),to:new Date(e)},this.monthes=this.getDisplayedMonthes(),this.newDates=[],this.addInput(),document.addEventListener("changeDate",this.updateRange)}getDisplayedMonthes(){const t=new Date(this.dates.from);let e=t.getMonth();t.setDate(1);const s=new Date(t);return s.setMonth(++e),[t,s]}addInput(){const t={from:this.dates.from.toLocaleDateString(),to:this.dates.to.toLocaleDateString()},e=v.input,s=Object(i.d)({tmpl:e,data:t});this.elem.insertAdjacentHTML("afterBegin",s),this.input=this.elem.querySelector(`.${c}`),this.inputFrom=this.input.querySelector(`.${l}`),this.inputTo=this.input.querySelector(`.${d}`),this.input.addEventListener("pointerdown",this.togglePicker),document.body.addEventListener("pointerdown",this.bodyOnClick,{capture:!0})}bodyOnClick(){!event.target.closest(`.${r}`)&&this.isOpened&&this.hidePicker()}updateInput(){this.inputFrom.innerHTML=this.dates.from.toLocaleDateString(),this.inputTo.innerHTML=this.dates.to.toLocaleDateString()}updateRange(){this.monthes=this.getDisplayedMonthes(),this.newDates=[],this.updateInput(),this.hidePicker()}togglePicker(){this.isOpened?this.hidePicker():(this.showPicker(),this.isOpened=!0)}showPicker(){this.selector?this.calendars.innerHTML="":(this.addSelector(),this.selector=this.elem.querySelector(`.${h}`),this.calendars=this.elem.querySelector(`.${p}`),this.selector.addEventListener("click",this.selectorOnClick)),this.addCalendars(),this.elem.classList.add(o)}hidePicker(){this.elem.classList.remove(o),this.isOpened=!1,this.newDates=[]}addSelector(){const t=v.selector;this.elem.insertAdjacentHTML("beforeEnd",t)}selectorOnClick(){const{dataset:t}=event.target;t.value?this.setDay(event.target):t.direction&&this.moveMonth(t.direction)}setDay(t){const e=t.dataset.value;if(0===this.newDates.length)return this.newDates.push(new Date(e)),void this.updateSelected(t);this.newDates.push(new Date(e)),this.newDates.sort((t,e)=>t-e),this.dates={from:this.newDates[0],to:this.newDates[1]},document.dispatchEvent(new CustomEvent("changeDate",{detail:{dates:{from:this.dates.from.toISOString(),to:this.dates.to.toISOString()}}}))}moveMonth(t){let e=1;"prev"===t&&(e=-1),this.monthes.forEach(t=>{t.setMonth(t.getMonth()+e)}),this.updateCalendars()}addCalendars(){this.monthes.forEach(t=>{this.calendars.insertAdjacentHTML("beforeEnd",this.getCalendar(t))})}updateCalendars(){this.calendars.innerHTML="",this.addCalendars()}updateSelected(t){const e=this.elem.querySelectorAll(`.${m}`),s=[f,g,b];e.forEach(t=>{t.classList.remove(...s)}),t.classList.add(g)}getCalendar(t){const e={month:t.toLocaleString("default",{month:"long"}),weekdays:Object(i.g)("div"),days:this.getCells(t)},s=v.calendar;return Object(i.d)({tmpl:s,data:e})}getCells(t){const e=v.day,s=new Date(t),n=s.getMonth();let a=1,r="";for(;s.getMonth()===n;){const t=this.getCellStartStyle(s),n=this.getCellMod(s),o={dateTime:s.toISOString(),dateNum:s.getDate(),style:t,mod:n};r+=Object(i.d)({tmpl:e,data:o}),s.setDate(++a)}return r}getCellStartStyle(t){let e="";if(t.getDate()>1)return e;let s=t.getDay();return 0===s&&(s=7),e=`grid-column-start: ${s}`,e}getCellMod(t){let e="";if(this.newDates.length>0)return e;const s=t.valueOf(),i=this.dates.from.valueOf(),n=this.dates.to.valueOf();return s>i&&s<n?e=f:s===i?e=g:s===n&&(e=b),e}}var y=s(15);s(24),s.p;const $="draggable-list",w="draggable-list__item",L="draggable-list__item--dragged",T="draggable-list__item--placeholder";class E extends HTMLUListElement{constructor(){super(),this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.move=this.move.bind(this),this.setPlaceholderHeight=this.setPlaceholderHeight.bind(this)}async connectedCallback(){this.classList.add($),this.items=this.querySelectorAll("li"),this.placeholder=this.createPlaceholder(),this.addClassToItems(),this.addEventListener("pointerdown",this.startDrag),this.addEventListener("pointerdown",this.setPlaceholderHeight,{once:!0})}startDrag(t){if(this.currentElem=t.target.closest(".draggable-list__item"),!this.currentElem)return;this.currentElem.replaceWith(this.placeholder),this.currentElem.classList.add(L),this.append(this.currentElem);const{top:e}=this.getBoundingClientRect();this.top=e,this.elemHalf=this.currentElem.offsetHeight/2;const s=t.clientY-this.top-this.elemHalf;this.currentElem.style.top=`${s}px`,this.addEventListener("pointermove",this.move),this.addEventListener("pointerup",this.stopDrag)}move(t){const e=t.clientY-this.top-this.elemHalf;this.currentElem.style.top=`${e}px`;for(const t of this.items){if(t.classList.contains(L))continue;const s=t.offsetTop,i=s+t.offsetHeight,n=s+t.offsetHeight/2,a=e+this.elemHalf;if(a>s&&a<i){a<=n?t.after(this.placeholder):t.before(this.placeholder);break}}}stopDrag(){this.placeholder.replaceWith(this.currentElem),this.currentElem.classList.remove(L),this.currentElem.style.top="",this.removeEventListener("pointermove",this.move),this.removeEventListener("pointerup",this.stopDrag)}createPlaceholder(){const t=this.items[0].cloneNode(!0);return t.classList.add(T,w),t.innerHTML="",t}setPlaceholderHeight(){const t=this.items[0];this.placeholder.style.minHeight=`${t.offsetHeight}px`}addClassToItems(){this.items.forEach(t=>t.classList.add(w))}}class D{constructor(){this.routes=[],this.documentClick=this.documentClick.bind(this),document.addEventListener("click",this.documentClick)}static instance(){return this._instance||(this._instance=new D),this._instance}addRoute(t,e){return this.routes.push({pattern:t,path:e}),this}setNotFoundPage(t){return this.notFoundPagePath=t,this}navigate(t){history.pushState(null,null,t),this.route()}async route(){const t=(e=window.location.pathname,decodeURI(e).replace(/^\/shop-admin-page/,"").replace(/^\/|\/$/,"").replace(/\?.*$/,"").replace(/#.*$/,""));var e;let s;for(const e of this.routes)if(s=t.match(e.pattern),s){this.page=await this.changePage(e.path,s);break}s||(this.page=await this.changePage(this.notFoundPagePath))}async changePage(t,e){this.page&&this.page.destroy&&this.page.destroy(),this.page=await async function(t,e){const{default:i}=await s(25)(`./${t}/index.js`),n=new i(e),a=await n.render(),r=document.getElementById("content");r.innerHTML="",r.append(a)}(t,e)}addListener(){window.addEventListener("popstate",()=>this.route()),this.route()}documentClick(t){const e=t.target.closest("a");if(!e)return;const s=e.getAttribute("href");s&&(s.startsWith("/")||s.startsWith("./"))&&(t.preventDefault(),this.navigate(s))}}s(34);D.instance().addRoute(/^$/,"dashboard").addRoute(/^categories$/,"categories").addRoute(/^products\/([\S()-]+)/g,"products/edit").addRoute(/^products\/add$/,"products/edit").addRoute(/^products$/,"products").setNotFoundPage("error404").addListener(),window.customElements.define("page-layout",n),window.customElements.define("column-chart",a.a),window.customElements.define("range-picker",_),window.customElements.define("sortable-table",y.a),window.customElements.define("draggable-list",E,{extends:"ul"})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvY3JlYXRlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9lc2NhcGVIVE1MLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2ZpbGxUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9mb3JtYXREYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2Zvcm1hdFRvdGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2dldFdlZWtEYXlzLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3Rocm90dGxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL25vdGlmaWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2ZldGNoSnNvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC9jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9jYXRlZ29yaWVzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3Byb2R1Y3RzL2VkaXQvdGVtcGxhdGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BhZ2VNZXNzYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvZmllbGRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9zdGF0dXNUZXh0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1Rvb2x0aXBzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVG9vbHRpcHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9kaXJlY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3Byb2R1Y3RzL2VkaXQvc3RhdHVzVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ZpZWxkcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ZpZWxkc09yZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcyBlYWdlciBeXFwuXFwvLipcXC9pbmRleFxcLmpzJCBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9jYXRlZ29yaWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9kYXNoYm9hcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2Vycm9yNDA0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ljb24tdHJhc2guc3ZnIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MYXlvdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SYW5nZVBpY2tlci90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvYXJyb3ctaWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvY2FsZW5kYXItaWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlTGlzdC9ncmFiLWljb24uc3ZnIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZUxpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9yZW5kZXJQYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJkaXYiLCJlc2NhcGVIVE1MIiwic3RyaW5nIiwicmVwbGFjZSIsImZpbGxUZW1wbGF0ZSIsInRtcGwiLCJkYXRhIiwibWF0Y2giLCJzdHIiLCJ1bmRlZmluZWQiLCJmb3JtYXREYXRlIiwiZGF0YVBhcnRzIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsInNwbGl0IiwiZm9ybWF0VG90YWwiLCJudW0iLCJmb3JtYXR0ZWQiLCJ0YWlsIiwiZ2V0V2Vla0RheXMiLCJ0YWciLCJkYXRlIiwid2Vla2RheXNTdHIiLCJjb3VudGVyIiwidG9Mb2NhbGVTdHJpbmciLCJ3ZWVrZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ0aHJvdHRsZSIsImZ1bmMiLCJjb250ZXh0IiwidGltZW91dCIsImFyZ3MiLCJpc1dhaXRpbmciLCJpc0ZpcnN0Q2FsbCIsImFyZ3VtZW50cyIsImFwcGx5Iiwic2V0VGltZW91dCIsImNscyIsImVsZW0iLCJ3YXJuaW5nIiwiZXJyb3IiLCJOb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiY29udGFpbmVyIiwidHlwZSIsInRoaXMiLCJkdXJhdGlvbiIsImdldER1cmF0aW9uIiwiY2xhc3NOYW1lcyIsImdldENsYXNzZXMiLCJhZGRFbGVtIiwiaXNGaW5pc2hlZCIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJzdGF0ZSIsInByZXBlbmQiLCJoaWRlRWxlbSIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImNsYXNzZXMiLCJwdXNoIiwibm90aWZDb250YWluZXIiLCJib2R5IiwiYXBwZW5kIiwibm90aWZpY2F0aW9ucyIsImFzeW5jIiwiZmV0Y2hKU09OIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIkZldGNoRXJyb3IiLCJvayIsInN0YXR1c1RleHQiLCJqc29uIiwic3RhdHVzIiwiRXJyb3IiLCJzdXBlciIsIndpbmRvdyIsImV2ZW50IiwicmVhc29uIiwibm90aWZpY2F0aW9uIiwib2Zmc2V0VG9wIiwiZmlsdGVyIiwic2hpZnQiLCJmb3JtIiwibGlzdCIsIml0ZW0iLCJpdGVtVGlueSIsIml0ZW1Gb2xsb3ciLCJpdGVtRnVsbCIsImxhYmVsIiwiaW5wdXQiLCJpbnB1dFRleHQiLCJpbnB1dE51bWJlciIsImlucHV0U2VsZWN0IiwiaW5wdXRUZXh0YXJlYSIsImltZ3NMaXN0IiwiaW1nc0l0ZW0iLCJpbWciLCJpbWdXcmFwcGVyIiwiaW1nU291cmNlIiwiaW1nUmVtb3ZlIiwicHJldmlldyIsImZvb3RlciIsInN1Ym1pdCIsInRhYmxlIiwidGhlYWQiLCJoZWFkZXIiLCJyb3ciLCJjZWxsIiwiY2VsbEVycm9yIiwiY2VsbFNvcnRlciIsImxpbmsiLCJjYXRlZ29yeSIsInRvb2x0aXBDYXRlZ29yeSIsInRvb2x0aXBTdWJjYXRlZ29yeSIsInRpdGxlIiwidG90YWwiLCJ0b29sdGlwIiwidG9vbHRpcERhdGUiLCJ0b29sdGlwUXVhbnRpdHkiLCJsaXN0VG9wIiwibGlzdFN1YmNhdHMiLCJpdGVtVG9wIiwiaXRlbVN1YiIsIml0ZW1PcGVuIiwidG9nZ2xlciIsIlBhZ2VNZXNzYWdlIiwidGV4dCIsImNhbGxiYWNrIiwiY2FsbGJhY2tUZXh0IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaW1hZ2VzIiwic3JjIiwiY29tcGFyZSIsInJlbmRlciIsImlkIiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwic3ViY2F0ZWdvcnkiLCJ0b290aXBDb250ZW50IiwiYUNhdE5hbWUiLCJiQ2F0TmFtZSIsInF1YW50aXR5IiwicHJpY2UiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImUiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImxlbmd0aCIsImNvbmNhdCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJBcnJheSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCIwIiwiMSIsImRpbVNpYmxpbmdzIiwibGlzdE1vdXNlTW92ZSIsImxpc3RNb3VzZU91dCIsInRhcmdldCIsInRvb2x0aXBDb250ZW50IiwiaGlkZVRvb2x0aXAiLCJ2aXNpYmxlIiwiZWxlbUNvb3JkcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvb3JkcyIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJzdHlsZSIsInRvb2x0aXBDb29yZHMiLCJoaWRkZW5CeVdpbmRvdyIsInJpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJnZXREaXJlY3Rpb25UZXh0IiwiaXNBc2MiLCJkaXJlY3Rpb25zIiwiY2hhcnRJdGVtIiwiY2F0ZWdvcmllc1RvRmxhdExpc3QiLCJjYXRlZ29yaWVzIiwiZmxhdExpc3QiLCJzdWJjYXRlZ29yaWVzIiwiZ2V0T3B0aW9ucyIsInNlbGVjdGVkIiwibWFwIiwiaW5kZXgiLCJqb2luIiwiaW1hZ2VzSXRlbXMiLCJzb3VyY2UiLCJnZXRJbWdzTGlzdE1hcmt1cCIsImZpZWxkTmFtZSIsImRlc2NyaXB0aW9uIiwib3B0aW9ucyIsImRpc2NvdW50IiwidmFsdWVzIiwiQ29sdW1uQ2hhcnQiLCJIVE1MRWxlbWVudCIsImFwaVVybCIsIkFQSV9VUkwiLCJjaGFuZ2VEYXRlIiwiaXNNb25leSIsImZyb20iLCJ0byIsImRhdGVzIiwiZ2V0VXJsIiwiZ2V0RGF0YSIsImhlYWRlclN0ciIsImdldEhlYWRlclN0ciIsImxpc3RTdHIiLCJnZXRMaXN0U3RyIiwiYWRkQWN0aW9ucyIsInJlZHVjZSIsInByZXYiLCJjdXJyZW50IiwibWF4IiwiTWF0aCIsImNoYXJ0U3RyIiwiaGVpZ2h0IiwidG9GaXhlZCIsInRvb2x0aXBzIiwiZGV0YWlsIiwiU29ydGFibGVUYWJsZSIsInNvcnRpbmciLCJwYWdlIiwiaXRlbXMiLCJpc0RhdGFFbmRlZCIsImZpZWxkc0xpc3QiLCJvcmRlckZpZWxkIiwib3JkZXJEaXJlY3Rpb24iLCJpc0R5bmFtaWMiLCJKU09OIiwicGFyc2UiLCJvcmRlciIsImZpZWxkIiwiZGlyZWN0aW9uIiwiaW5pdFRhYmxlIiwiaXNMb2FkaW5nIiwiZmV0Y2hVcmwiLCJnZXRGZXRjaFVybCIsIm9uQm9keVNjcm9sbFRocm90dGxlIiwib25Cb2R5U2Nyb2xsIiwibG9hZGluZyIsInRhYmxlRGF0YSIsInRCb2R5Iiwib3V0ZXJIVE1MIiwiY3JlYXRlTGF5b3V0IiwiYWRkRWxlbUhlYWRlciIsImFkZFRhYmxlRXZlbnRzIiwiZmlsbFRCb2R5IiwidGFibGVSb3dzIiwibG9hZERhdGEiLCJzb3J0Um93cyIsInJlbmRlclRCb2R5Iiwic3RhcnQiLCJlbmQiLCJzb3J0IiwicGFyYW1zU3RyIiwicHJlZml4IiwiaGVhZGVyQ29udGVudCIsImZvckVhY2giLCJ0aENsYXNzIiwic29ydGVyIiwic29ydERpcmVjdGlvbiIsInRoZWFkU3RyIiwicXVlcnlTZWxlY3RvciIsInRoIiwic29ydFJvd3NEeW5hbWljIiwicmV2ZXJzZSIsInNvcnRlck9uQ2xpY2siLCJib3R0b20iLCJpbm5lckhlaWdodCIsInBhZ2VZT2Zmc2V0Iiwicm93Q29udGVudCIsInRkQ2xhc3NlcyIsInRvTG93ZXJDYXNlIiwicmVuZGVyZWRDb250ZW50IiwicmVuZGVyRmllbGQiLCJzY3JvbGxUbyIsIm1vZHMiLCJ3ZWJwYWNrQXN5bmNDb250ZXh0IiwicmVxIiwid2VicGFja0FzeW5jQ29udGV4dFJlc29sdmUiLCJ0aGVuIiwiY29kZSIsImtleXMiLCJsaXN0Q2xpY2siLCJjcmVhdGVMaXN0IiwiYWRkRXZlbnRzIiwiaXNTdWJjYXQiLCJpdGVtc1N0ciIsImxpc3RDbGFzcyIsIml0ZW1DbGFzcyIsImlzRHJhZ2dhYmxlQXR0ciIsInN1YkNhdHNMaXN0Iiwic3ViQ2F0cyIsImNvdW50ZXJUZXh0IiwiZ2V0UGx1cmFsIiwiY291bnQiLCJjbG9zZXN0IiwidG9nZ2xlIiwidmFyaWFudHMiLCJ2YXJpYW50Iiwic2V0TW9udGgiLCJnZXRNb250aCIsInRvSVNPU3RyaW5nIiwiZmV0Y2hQcm9kdWN0VXJsIiwiZmV0Y2hDYXRlZ29yaWVzVXJsIiwicHJvZHVjdERhdGEiLCJlcnJvck1lc3NhZ2UiLCJwcm9kdWN0IiwiaW5wdXRzIiwic2VsZWN0b3IiLCJjYWxlbmRhciIsImRheSIsInRvZ2dsZVBpY2tlciIsInNlbGVjdG9yT25DbGljayIsImJvZHlPbkNsaWNrIiwidXBkYXRlUmFuZ2UiLCJpc09wZW5lZCIsIm1vbnRoZXMiLCJnZXREaXNwbGF5ZWRNb250aGVzIiwibmV3RGF0ZXMiLCJhZGRJbnB1dCIsImN1cnJlbnRNb250aCIsIm1vbnRoIiwibmV4dE1vbnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidGVtcGxhdGVzIiwiaW5wdXRTdHIiLCJpbnB1dEZyb20iLCJpbnB1dFRvIiwiY2FwdHVyZSIsImhpZGVQaWNrZXIiLCJ1cGRhdGVJbnB1dCIsInNob3dQaWNrZXIiLCJjYWxlbmRhcnMiLCJhZGRTZWxlY3RvciIsImFkZENhbGVuZGFycyIsInNlbGVjdG9yU3RyIiwic2V0RGF5IiwibW92ZU1vbnRoIiwidXBkYXRlU2VsZWN0ZWQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJzdGVwIiwidXBkYXRlQ2FsZW5kYXJzIiwiZ2V0Q2FsZW5kYXIiLCJjZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3ZWVrZGF5cyIsImRheXMiLCJnZXRDZWxscyIsImN1cnJlbnREYXRlIiwiY3VycmVudERheSIsImRheXNTdHIiLCJnZXRDZWxsU3RhcnRTdHlsZSIsIm1vZCIsImdldENlbGxNb2QiLCJkYXRlVGltZSIsImRhdGVOdW0iLCJ3ZWVrZGF5TnVtIiwiZ2V0RGF5IiwiZGF0ZU1zIiwidmFsdWVPZiIsImRhdGVGcm9tTXMiLCJkYXRlVG9NcyIsIkRyYWdnYWJsZUxpc3QiLCJIVE1MVUxpc3RFbGVtZW50Iiwic3RhcnREcmFnIiwic3RvcERyYWciLCJtb3ZlIiwic2V0UGxhY2Vob2xkZXJIZWlnaHQiLCJwbGFjZWhvbGRlciIsImNyZWF0ZVBsYWNlaG9sZGVyIiwiYWRkQ2xhc3NUb0l0ZW1zIiwiY3VycmVudEVsZW0iLCJyZXBsYWNlV2l0aCIsInRvcCIsImVsZW1IYWxmIiwib2Zmc2V0SGVpZ2h0IiwiZWxlbVRvcCIsImNvbnRhaW5zIiwibWlkZGxlIiwiY2hlY2tMaW5lIiwiYWZ0ZXIiLCJiZWZvcmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvbmVOb2RlIiwiZmlyc3RJdGVtIiwibWluSGVpZ2h0Iiwicm91dGVzIiwiZG9jdW1lbnRDbGljayIsIl9pbnN0YW5jZSIsInBhdHRlcm4iLCJwYXRoIiwibm90Rm91bmRQYWdlUGF0aCIsImhyZWYiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwicm91dGUiLCJzdHJpcHBlZFBhdGgiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZGVjb2RlVVJJIiwiY2hhbmdlUGFnZSIsImRlc3Ryb3kiLCJkZWZhdWx0IiwiUGFnZSIsInJlbmRlcmVkUGFnZSIsImNvbnRlbnRFbGVtIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXJQYWdlIiwiZ2V0QXR0cmlidXRlIiwic3RhcnRzV2l0aCIsInByZXZlbnREZWZhdWx0IiwibmF2aWdhdGUiLCJpbnN0YW5jZSIsImFkZFJvdXRlIiwic2V0Tm90Rm91bmRQYWdlIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJleHRlbmRzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLG9CQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksSSwrQkNoRXRDLE1BZFUsWUFBYUMsU0FBU0MsY0FBYyxZQUd6RCxTQUFVQyxHQUNSLE1BQU1DLEVBQVdILFNBQVNDLGNBQWMsWUFFeEMsT0FEQUUsRUFBU0MsVUFBWUYsRUFDZEMsRUFBU0UsUUFBUUMsbUJBRTFCLFNBQVVKLEdBQ1IsTUFBTUssRUFBTVAsU0FBU0MsY0FBYyxPQUVuQyxPQURBTSxFQUFJSCxVQUFZRixFQUNUSyxFQUFJRCxtQkNmRixTQUFTRSxFQUFZQyxHQUNsQyxPQUFPQSxFQUNKQyxRQUFRLEtBQU0sS0FDZEEsUUFBUSxLQUFNLFVBQ2RBLFFBQVEsS0FBTSxTQUNkQSxRQUFRLEtBQU0sS0FDZEEsUUFBUSxLQUFNLEtDTkosU0FBU0MsR0FBYyxLQUFFQyxFQUFJLEtBQUVDLElBQzVDLEdBQUtELEdBQVNDLEVBSWQsT0FBT0QsRUFBS0YsUUFBUSxnQkFBaUIsQ0FBQ0ksRUFBT0MsU0FDekJDLElBQWRILEVBQUtFLEdBQ0FGLEVBQUtFLEdBRVAsSUNUSSxTQUFTRSxFQUFZRixHQUNsQyxNQUNNRyxFQURPLElBQUlDLEtBQUtKLEdBQUtLLGVBQ0pDLE1BQU0sS0FLN0IsTUFBTyxHQUpPSCxFQUFVLE1BQ1pBLEVBQVUsT0FDVEEsRUFBVSxLQ0xWLFNBQVNJLEVBQWFDLEdBQ25DLElBQUlDLEVBQVlELEVBQ2hCLEdBQUlBLEdBQU8sSUFBTSxDQUNmLE1BQU1FLEVBQU9GLEVBQU0sSUFDbkJDLEVBQVksSUFBSUQsRUFBTUUsR0FBUSxPQUFRQSxJQUd4QyxNQUFPLElBQUlELElDTkUsU0FBU0UsRUFBYUMsR0FDbkMsTUFBTUMsRUFBTyxJQUFJVCxLQUFLLEtBQU0sRUFBRyxHQUMvQixJQUFJVSxFQUFjLEdBQ2RDLEVBQVUsRUFFZCxLQUFPQSxFQUFVLEdBQUcsQ0FFbEJELEdBQWUsSUFBSUYsS0FESEMsRUFBS0csZUFBZSxVQUFXLENBQUVDLFFBQVMsZUFDcEJMLEtBQ3RDQyxFQUFLSyxRQUFRTCxFQUFLTSxVQUFZLEdBQzlCSixJQUdGLE9BQU9ELEVDYk0sU0FBU00sRUFBVUMsRUFBTUMsRUFBU0MsR0FDL0MsSUFBSUMsRUFDQUMsR0FBWSxFQUNaQyxHQUFjLEVBRWxCLE9BQU8sV0FDTEYsRUFBT0csVUFFSEQsSUFDRkwsRUFBS08sTUFBTU4sS0FBWUUsR0FDdkJFLEdBQWMsR0FHWEQsSUFDSEEsR0FBWSxFQUVaSSxZQUFXLFdBQ1RSLEVBQUtPLE1BQU1OLEtBQVlFLEdBQ3ZCQyxHQUFZLElBQ1hGLEssTUNqQlQsTUFBTU8sRUFBTSxDQUNWQyxLQUFNLGVBQ05DLFFBQVMsd0JBQ1RDLE1BQU8sdUJBS00sTUFBTUMsRUFDbkIsYUFBYSxRQUFFQyxFQUFPLFVBQUVDLEVBQVMsS0FBRUMsSUFDakNDLEtBQUtILFFBQVVBLEVBQ2ZHLEtBQUtGLFVBQVlBLEVBQ2pCRSxLQUFLRCxLQUFPQSxFQUNaQyxLQUFLQyxTQUFXRCxLQUFLRSxjQUNyQkYsS0FBS0csV0FBYUgsS0FBS0ksYUFDdkJKLEtBQUtLLFVBQ0xMLEtBQUtNLFlBQWEsRUFHcEIsVUFDRU4sS0FBS1AsS0FBTzlDLFNBQVNDLGNBQWMsT0FDbkNvRCxLQUFLUCxLQUFLYyxVQUFVQyxPQUFPUixLQUFLRyxZQUNoQ0gsS0FBS1AsS0FBS2dCLFFBQVFDLE1BQVEsUUFDMUJWLEtBQUtQLEtBQUsxQyxVQUFZaUQsS0FBS0gsUUFDM0JHLEtBQUtGLFVBQVVhLFFBQVFYLEtBQUtQLE1BRTVCRixXQUFXLEtBQVFTLEtBQUtZLFlBQWVaLEtBQUtDLFVBRzlDLGVBQWdCWSxFQUFTLElBSXZCLE9BSEFiLEtBQUtNLFlBQWEsRUFDbEJOLEtBQUtQLEtBQUtnQixRQUFRQyxNQUFRLFNBRW5CLElBQUlJLFFBQVEsQ0FBQ0MsRUFBU0MsS0FDM0JoQixLQUFLUCxLQUFLd0IsaUJBQWlCLGVBQWdCLEtBQ3pDakIsS0FBS1AsS0FBS3lCLFNBQ1ZILFFBS04sY0FDRSxNQUFrQixVQUFkZixLQUFLRCxLQUNBLElBR0YsSUFHVCxhQUNFLE1BQU1vQixFQUFVLENBQUMzQixFQUFJQyxNQU1yQixPQUpJTyxLQUFLRCxNQUFRUCxFQUFJUSxLQUFLRCxPQUN4Qm9CLEVBQVFDLEtBQUs1QixFQUFJUSxLQUFLRCxPQUdqQm9CLEdDeERYLE1BQU1FLEVBQWlCMUUsU0FBU0MsY0FBYyxPQUM5Q3lFLEVBQWVkLFVBQVVDLElBQUksaUJBQzdCN0QsU0FBUzJFLEtBQUtDLE9BQU9GLEdBRXJCLElBQUlHLEVBQWdCLEdDRkxDLGVBQWVDLEVBQVdDLEdBQ3ZDLElBQUlDLEVBR0osSUFDRUEsUUFBaUJDLE1BQU1GLEdBQ3ZCLE1BQU9oQyxHQUNQLE1BQU0sSUFBSW1DLEVBQVdGLEVBQVUsS0FBTSx5QkFBeUJELEtBSWhFLElBQUtDLEVBQVNHLEdBQUksQ0FDaEIsSUFBSVQsRUFDSixNQUFNVSxFQUFhSixFQUFTSSxXQUU1QixJQUNFVixRQUFhTSxFQUFTSyxPQUV0QixNQUFPdEMsSUFHVCxJQUFJRSxFQUFVLFNBQVMrQixFQUFTTSxrQkFBa0JQLElBTWxELE1BSklLLElBQ0ZuQyxHQUFXLEtBQUttQyxLQUdaLElBQUlGLEVBQVdGLEVBQVVOLEVBQU16QixHQUl2QyxJQUNFK0IsUUFBaUJBLEVBQVNLLE9BQzFCLE1BQU90QyxHQUNQLE1BQU0sSUFBSW1DLEVBQVdGLEVBQVUsS0FBTWpDLEVBQU1FLFNBRzdDLE9BQU8rQixFQUdULE1BQU1FLFVBQW1CSyxNQUN2QixZQUFhUCxFQUFVTixFQUFNekIsR0FDM0J1QyxNQUFNdkMsR0FDTkcsS0FBSzlFLEtBQU8sYUFFWjhFLEtBQUs0QixTQUFXQSxFQUNoQjVCLEtBQUtzQixLQUFPQSxHQUtoQmUsT0FBT3BCLGlCQUFpQixxQkFBc0JxQixJQUN4Q0EsRUFBTUMsa0JBQWtCVCxHRGhEZkwsZUFBdUI1QixFQUFTRSxHQUM3QyxNQUFNeUMsRUFBZSxJQUFJNUMsRUFBYSxDQUNwQ0MsVUFDQUMsVUFBV3VCLEVBQ1h0QixTQUdGeUIsRUFBY0osS0FBS29CLEdBRWZBLEVBQWEvQyxLQUFLZ0QsVUFBWSxJQUNoQ2pCLEVBQWdCQSxFQUFja0IsT0FBT0YsSUFDM0JBLEVBQWFsQyxZQUV2QmtCLEVBQWNtQixRQUFRL0IsWUNvQ3RCLENBQVMwQixFQUFNQyxPQUFPMUMsUUFBUyxXQ3pEbkMsaVIsNkJDQWUsS0FDYitDLEtBQU0sZUFDTkMsS0FBTSxxQkFDTkMsS0FBTSxxQkFDTkMsU0FBVSwyQkFDVkMsV0FBWSw2QkFDWkMsU0FBVSwyQkFDVkMsTUFBTyxzQkFDUEMsTUFBTyxzQkFDUEMsVUFBVyw0QkFDWEMsWUFBYSw4QkFDYkMsWUFBYSw4QkFDYkMsY0FBZSxnQ0FDZkMsU0FBVSw0QkFDVkMsU0FBVSw0QkFDVkMsSUFBSyxzQkFDTEMsV0FBWSw4QkFDWkMsVUFBVyw2QkFDWEMsVUFBVyw2QkFDWEMsUUFBUyx3QkFDVEMsT0FBUSx1QkFDUkMsT0FBUSx5Qiw2QkNyQkssS0FDYnZFLEtBQU0saUJBQ053RSxNQUFPLHdCQUNQQyxNQUFPLHdCQUNQQyxPQUFRLHlCQUNSQyxJQUFLLHNCQUNMQyxLQUFNLHVCQUNOQyxVQUFXLDhCQUNYQyxXQUFZLCtCQUNaYixJQUFLLHdCQUNMQyxXQUFZLGdDQUNaRyxRQUFTLDBCQUNUVSxLQUFNLHVCQUNOQyxTQUFVLDJCQUNWQyxnQkFBaUIsbUNBQ2pCQyxtQkFBb0Isd0MsNkJDZlAsS0FDYmxGLEtBQU0sZUFDTnpDLFFBQVMsd0JBQ1RtSCxPQUFRLHVCQUNSUyxNQUFPLHNCQUNQQyxNQUFPLHNCQUNQaEMsS0FBTSxxQkFDTkMsS0FBTSxxQkFDTmdDLFFBQVMsd0JBQ1RDLFlBQWEsNkJBQ2JDLGdCQUFpQixpQ0FDakJyRixNQUFPLHdCLDZCQ1hNLEtBQ2JGLEtBQU0sYUFDTm9ELEtBQU0sbUJBQ05vQyxRQUFTLGtDQUNUQyxZQUFhLGtDQUNicEMsS0FBTSxtQkFDTnFDLFFBQVMsZ0NBQ1RDLFFBQVMsZ0NBQ1RDLFNBQVUseUJBQ1ZDLFFBQVMsc0JBQ1Q3RyxRQUFTLHdCLDZCQ1ZYLHFMQUVPLE1BQU0wRixFQUFTLGlKQU1UZixFQUFZLGlCQUFpQixJQUFJRixrREFJakMsSUFBSUMsU0FBUyxJQUFJQyxnRkFNakJDLEVBQWMsaUJBQWlCLElBQUlILGtEQUluQyxJQUFJQyxTQUFTLElBQUlFLG9GQU1qQkUsRUFBZ0IsaUJBQWlCLElBQUlMLHFEQUlyQyxJQUFJQyxTQUFTLElBQUlJLCtEQUlqQkQsRUFBYyxpQkFBaUIsSUFBSUosbURBSW5DLElBQUlDLFNBQVMsSUFBSUcsd0UsNkJDeEM5Qix3Q0FFZSxNQUFNaUMsRUFDbkIsYUFBYSxNQUFFWCxFQUFLLEtBQUVZLEVBQUksU0FBRUMsRUFBUSxhQUFFQyxFQUFZLE1BQUUvRixJQUNsREssS0FBSzRFLE1BQVFBLEVBQ2I1RSxLQUFLd0YsS0FBT0EsR0FBUSx1QkFDcEJ4RixLQUFLeUYsU0FBV0EsRUFDaEJ6RixLQUFLMEYsYUFBZUEsRUFDcEIxRixLQUFLTCxNQUFRQSxHQUVSSyxLQUFLNEUsT0FBUzVFLEtBQUtMLFFBQ3RCSyxLQUFLNEUsTUFBUSxTQUdmNUUsS0FBS3BELGdCQUdQLGdCQUNFb0QsS0FBS1AsS0FBTzlDLFNBQVNDLGNBQWMsT0FDbkNvRCxLQUFLUCxLQUFLYyxVQUFVQyxJQUFJLGdCQUVwQlIsS0FBS0wsT0FDUEssS0FBS1AsS0FBS2MsVUFBVUMsSUFBSSx1QkFHMUJSLEtBQUtoRCxRQUFVLE9BQU9nRCxLQUFLNEUsZ0JBQWdCNUUsS0FBS3dGLFdBRTVDeEYsS0FBS0wsUUFDUEssS0FBS2hELFNBQVcsd0dBRUZnRCxLQUFLTCxNQUFNekUsa0JBQWtCOEUsS0FBS0wsTUFBTUUsK0JBSXhERyxLQUFLUCxLQUFLa0csbUJBQW1CLGFBQWMzRixLQUFLaEQsWSw2QkNsQ3BELHlCQUtlLEtBQ2I0SSxPQUFRLENBQ05oQixNQUFPLFFBQ1AsUUFBUSxPQUFFZ0IsSUFDUixJQUFLQSxJQUFXQSxFQUFPLEdBQUdqRSxJQUN4QixNQUFPLEdBRVQsTUFBTWtFLEVBQU1ELEVBQU8sR0FBR2pFLElBQ3RCLE1BQU8sZUFBZSxJQUFJZ0MsaUNBQ2RrQyxhQUFlLElBQUluQyxtREFDTW1DLGNBQWdCLElBQUkvQixnQ0FHM0RnQyxRQUFTLE1BRVhsQixNQUFPLENBQ0xBLE1BQU8sT0FDUG1CLE9BQU8sRUFBQyxNQUFFbkIsRUFBSyxHQUFFb0IsS0FDUixXQUNMcEIsc0JBQ1UsSUFBSUosMEJBQTBCd0Isa0JBRzVDRixRQUFRLENBQUNHLEVBQUdDLElBQ0hELEVBQUVyQixNQUFNdUIsY0FBY0QsRUFBRXRCLFFBR25Dd0IsWUFBYSxDQUNYeEIsTUFBTyxXQUNQLFFBQVEsWUFBRXdCLElBQ1IsTUFBTTNCLEVBQVcyQixFQUFZM0IsU0FDdkI0QixFQUFnQixnQkFBZ0IsSUFBSTNCLG9CQUFvQkQsRUFBU0csNkJBQTZCLElBQUlELHVCQUF1QnlCLEVBQVl4QixlQUMzSSxNQUFPLGdCQUFnQixJQUFJSCxtQ0FBbUMsWUFBVzRCLE9BQW1CRCxFQUFZeEIsZ0JBRTFHLFFBQVNxQixFQUFHQyxHQUVWLE1BQU1JLEVBQVdMLEVBQUVHLFlBQVl4QixNQUN6QjJCLEVBQVdMLEVBQUVFLFlBQVl4QixNQUMvQixPQUFPMEIsRUFBU0gsY0FBY0ksS0FHbENDLFNBQVUsQ0FDUjVCLE1BQU8sV0FDUG1CLE9BQU8sRUFBQyxTQUFFUyxLQUNEQSxFQUVUVixRQUFRLENBQUNHLEVBQUdDLElBQ0hELEVBQUVPLFNBQVdOLEVBQUVNLFVBRzFCQyxNQUFPLENBQ0w3QixNQUFPLFFBQ1BtQixPQUFPLEVBQUMsTUFBRVUsS0FDRCxZQUFZQSxHQUVyQlgsUUFBUSxDQUFDRyxFQUFHQyxJQUNIRCxFQUFFUSxNQUFRUCxFQUFFTyxPQUd2QnZFLE9BQVEsQ0FDTjBDLE1BQU8sU0FDUG1CLE9BQU8sRUFBQyxPQUFFN0QsS0FDRCxJQUFXQSxHQUVwQjRELFFBQVEsQ0FBQ0csRUFBR0MsSUFDSEQsRUFBRS9ELE9BQVNnRSxFQUFFaEUsVSxjQ3JFMUIsSUFPSXdFLEVBQ0FDLEVBUkFDLEVBQVVsTSxFQUFPRCxRQUFVLEdBVS9CLFNBQVNvTSxJQUNMLE1BQU0sSUFBSTFFLE1BQU0sbUNBRXBCLFNBQVMyRSxJQUNMLE1BQU0sSUFBSTNFLE1BQU0scUNBc0JwQixTQUFTNEUsRUFBV0MsR0FDaEIsR0FBSU4sSUFBcUJuSCxXQUVyQixPQUFPQSxXQUFXeUgsRUFBSyxHQUczQixJQUFLTixJQUFxQkcsSUFBcUJILElBQXFCbkgsV0FFaEUsT0FEQW1ILEVBQW1CbkgsV0FDWkEsV0FBV3lILEVBQUssR0FFM0IsSUFFSSxPQUFPTixFQUFpQk0sRUFBSyxHQUMvQixNQUFNQyxHQUNKLElBRUksT0FBT1AsRUFBaUI1TCxLQUFLLEtBQU1rTSxFQUFLLEdBQzFDLE1BQU1DLEdBRUosT0FBT1AsRUFBaUI1TCxLQUFLa0YsS0FBTWdILEVBQUssTUF2Q25ELFdBQ0csSUFFUU4sRUFEc0IsbUJBQWZuSCxXQUNZQSxXQUVBc0gsRUFFekIsTUFBT0ksR0FDTFAsRUFBbUJHLEVBRXZCLElBRVFGLEVBRHdCLG1CQUFqQk8sYUFDY0EsYUFFQUosRUFFM0IsTUFBT0csR0FDTE4sRUFBcUJHLEdBakI3QixHQXdFQSxJQUVJSyxFQUZBQyxFQUFRLEdBQ1JDLEdBQVcsRUFFWEMsR0FBYyxFQUVsQixTQUFTQyxJQUNBRixHQUFhRixJQUdsQkUsR0FBVyxFQUNQRixFQUFhSyxPQUNiSixFQUFRRCxFQUFhTSxPQUFPTCxHQUU1QkUsR0FBYyxFQUVkRixFQUFNSSxRQUNORSxLQUlSLFNBQVNBLElBQ0wsSUFBSUwsRUFBSixDQUdBLElBQUlwSSxFQUFVOEgsRUFBV1EsR0FDekJGLEdBQVcsRUFHWCxJQURBLElBQUlNLEVBQU1QLEVBQU1JLE9BQ1ZHLEdBQUssQ0FHUCxJQUZBUixFQUFlQyxFQUNmQSxFQUFRLEtBQ0NFLEVBQWFLLEdBQ2RSLEdBQ0FBLEVBQWFHLEdBQVlNLE1BR2pDTixHQUFjLEVBQ2RLLEVBQU1QLEVBQU1JLE9BRWhCTCxFQUFlLEtBQ2ZFLEdBQVcsRUFuRWYsU0FBeUJRLEdBQ3JCLEdBQUlsQixJQUF1Qk8sYUFFdkIsT0FBT0EsYUFBYVcsR0FHeEIsSUFBS2xCLElBQXVCRyxJQUF3QkgsSUFBdUJPLGFBRXZFLE9BREFQLEVBQXFCTyxhQUNkQSxhQUFhVyxHQUV4QixJQUVXbEIsRUFBbUJrQixHQUM1QixNQUFPWixHQUNMLElBRUksT0FBT04sRUFBbUI3TCxLQUFLLEtBQU0rTSxHQUN2QyxNQUFPWixHQUdMLE9BQU9OLEVBQW1CN0wsS0FBS2tGLEtBQU02SCxLQWdEN0NDLENBQWdCN0ksSUFpQnBCLFNBQVM4SSxFQUFLZixFQUFLZ0IsR0FDZmhJLEtBQUtnSCxJQUFNQSxFQUNYaEgsS0FBS2dJLE1BQVFBLEVBWWpCLFNBQVNDLEtBNUJUckIsRUFBUXNCLFNBQVcsU0FBVWxCLEdBQ3pCLElBQUk5SCxFQUFPLElBQUlpSixNQUFNOUksVUFBVW1JLE9BQVMsR0FDeEMsR0FBSW5JLFVBQVVtSSxPQUFTLEVBQ25CLElBQUssSUFBSTdNLEVBQUksRUFBR0EsRUFBSTBFLFVBQVVtSSxPQUFRN00sSUFDbEN1RSxFQUFLdkUsRUFBSSxHQUFLMEUsVUFBVTFFLEdBR2hDeU0sRUFBTWhHLEtBQUssSUFBSTJHLEVBQUtmLEVBQUs5SCxJQUNKLElBQWpCa0ksRUFBTUksUUFBaUJILEdBQ3ZCTixFQUFXVyxJQVNuQkssRUFBS3hMLFVBQVVxTCxJQUFNLFdBQ2pCNUgsS0FBS2dILElBQUkxSCxNQUFNLEtBQU1VLEtBQUtnSSxRQUU5QnBCLEVBQVFoQyxNQUFRLFVBQ2hCZ0MsRUFBUXdCLFNBQVUsRUFDbEJ4QixFQUFReUIsSUFBTSxHQUNkekIsRUFBUTBCLEtBQU8sR0FDZjFCLEVBQVEyQixRQUFVLEdBQ2xCM0IsRUFBUTRCLFNBQVcsR0FJbkI1QixFQUFRNkIsR0FBS1IsRUFDYnJCLEVBQVE4QixZQUFjVCxFQUN0QnJCLEVBQVErQixLQUFPVixFQUNmckIsRUFBUWdDLElBQU1YLEVBQ2RyQixFQUFRaUMsZUFBaUJaLEVBQ3pCckIsRUFBUWtDLG1CQUFxQmIsRUFDN0JyQixFQUFRbUMsS0FBT2QsRUFDZnJCLEVBQVFvQyxnQkFBa0JmLEVBQzFCckIsRUFBUXFDLG9CQUFzQmhCLEVBRTlCckIsRUFBUXNDLFVBQVksU0FBVWhPLEdBQVEsTUFBTyxJQUU3QzBMLEVBQVF1QyxRQUFVLFNBQVVqTyxHQUN4QixNQUFNLElBQUlpSCxNQUFNLHFDQUdwQnlFLEVBQVF3QyxJQUFNLFdBQWMsTUFBTyxLQUNuQ3hDLEVBQVF5QyxNQUFRLFNBQVVDLEdBQ3RCLE1BQU0sSUFBSW5ILE1BQU0sbUNBRXBCeUUsRUFBUTJDLE1BQVEsV0FBYSxPQUFPLEksNkJDdkxyQixLQUNiQyxFQUFHLFdBQ0hDLEVBQUcsWSx3Q0NGVSxFQUNQLHFCQURPLEVBRUwsNkJBRkssRUFHSixVLE1DSFgsa0NBSWUsTUFBTSxFQUNuQixhQUFhLEtBQUVoSyxFQUFJLFlBQUVpSyxJQUNuQjFKLEtBQUtQLEtBQU9BLEVBQ1pPLEtBQUtQLEtBQUtjLFVBQVVDLElBQUksR0FDeEJSLEtBQUswSixZQUFjQSxFQUVuQjFKLEtBQUs4RSxRQUFVLFlBQWMsZUFBZSxhQUM1QzlFLEtBQUtQLEtBQUs4QixPQUFPdkIsS0FBSzhFLFNBRXRCOUUsS0FBSzJKLGNBQWdCM0osS0FBSzJKLGNBQWN4TixLQUFLNkQsTUFDN0NBLEtBQUs0SixhQUFlNUosS0FBSzRKLGFBQWF6TixLQUFLNkQsTUFFM0NBLEtBQUtQLEtBQUt3QixpQkFBaUIsWUFBYWpCLEtBQUsySixlQUM3QzNKLEtBQUtQLEtBQUt3QixpQkFBaUIsYUFBY2pCLEtBQUs0SixjQUdoRCxnQkFDRSxJQUFLdEgsTUFBTXVILE9BQU9wSixRQUFRcUosZUFFeEIsWUFEQTlKLEtBQUsrSixjQUlQLE1BQU0sZUFBRUQsR0FBbUJ4SCxNQUFNdUgsT0FBT3BKLFFBQ3hDVCxLQUFLOEUsUUFBUS9ILFVBQVkrTSxFQUN6QjlKLEtBQUs4RSxRQUFRckUsUUFBUXVKLFFBQVUsRUFHL0JoSyxLQUFLaUssV0FBYWpLLEtBQUtQLEtBQUt5Syx3QkFDNUIsTUFBTUMsRUFBUyxDQUNiQyxFQUFHOUgsTUFBTStILFFBQVVySyxLQUFLaUssV0FBV0csRUFDbkNFLEVBQUdoSSxNQUFNaUksUUFBVXZLLEtBQUtpSyxXQUFXSyxHQUdyQ3RLLEtBQUs4RSxRQUFRMEYsTUFBUSx3QkFBd0JMLEVBQU9DLFFBQVFELEVBQU9HLE9BR25FdEssS0FBS3lLLGNBQWdCekssS0FBSzhFLFFBQVFvRix3QkFDbEMsTUFBTVEsRUFBaUIxSyxLQUFLeUssY0FBY0UsTUFBUWhPLFNBQVNpTyxnQkFBZ0JDLFlBRXZFSCxFQUFpQixJQUNuQlAsRUFBT0MsR0FBS00sRUFDWjFLLEtBQUs4RSxRQUFRMEYsTUFBUSx3QkFBd0JMLEVBQU9DLFFBQVFELEVBQU9HLFFBR2pFdEssS0FBSzBKLGFBQ1AxSixLQUFLUCxLQUFLYyxVQUFVQyxJQUFJLEdBSTVCLGVBQ084QixNQUFNdUgsT0FBT3BKLFFBQVFxSixnQkFDeEI5SixLQUFLK0osY0FJVCxjQUNFL0osS0FBSzhFLFFBQVFyRSxRQUFRdUosUUFBVSxFQUMvQmhLLEtBQUtQLEtBQUtjLFVBQVVXLE9BQU8sTSw2QkM3RGhCLE9BQ2JzSSxFQUFHLE9BQ0hDLEVBQUcsT0NGTCxrQ0FFTyxNQUFNcUIsRUFBbUJDLEdBQ3ZCQyxHQUFZRCxJLDZCQ0hyQixXQUVPLE1BQU01RyxFQUFTLGtCQUFrQixJQUFJQSwwQkFDN0IsSUFBSVMsc0NBQ0gsSUFBSUMsa0NBR1BvRyxFQUFZLGlCQUNkLElBQUluSSxvRkFJQSxLQUNicUIsU0FDQThHLGMsd0NDZGEsR0FDYnpCLEVBQUcsV0FDSEMsRUFBRyxXLGNDQUUsU0FBU3lCLEVBQXNCQyxHQUNwQyxNQUFNQyxFQUFXLEdBRWpCLElBQUssTUFBTTNHLEtBQVkwRyxFQUNyQixJQUFLLE1BQU0vRSxLQUFlM0IsRUFBUzRHLGNBQ2pDRCxFQUFTaEssS0FBSyxDQUNaeEYsTUFBT3dLLEVBQVlKLEdBQ25CUixLQUFNLEdBQUdmLEVBQVNHLFdBQVd3QixFQUFZeEIsVUFLL0MsT0FBT3dHLEVBR0YsU0FBU0UsRUFBWXpJLEVBQU0wSSxHQUNoQyxPQUFPMUksRUFDSjJJLElBQUksQ0FBQzFJLEVBQU0ySSxLQUNWLE1BQU03UCxFQUFRa0gsRUFBS2xILE9BQVM2UCxFQUN0QmpHLEVBQU8xQyxFQUFLMEMsTUFBUTFDLEVBRzFCLE1BQU8sa0JBQWtCbEgsTUFGTkEsSUFBVTJQLEVBQVcsV0FBYSxNQUVKL0YsZUFFbERrRyxLQUFLLElDcEJLLEtBQ2I5RixPQUFRLENBQ05HLE9BQU8sRUFBQyxPQUFFSCxLQUNIQSxFRG9CSixTQUE0QkEsR0FDakMsTUFBTStGLEVBQWMvRixFQUNqQjRGLElBQUkxSSxHQUNJLGNBQWMsSUFBSVcsbUNBQ1QsSUFBSUUscUNBQ0piLEVBQUtuQixlQUFlLElBQUkrQix1REFDQ1osRUFBS25CLGdCQUFnQixJQUFJbUMseURBRWpELElBQUlGLGNBQWNkLEVBQUs4SSx1REFDUCxJQUFJL0gsMkNBSXpDLE1BQU8sNkJBQ1EsSUFBSUwsaUNBQWlDbUksRUFBWUQsS0FBSyxZQzlCMURHLENBQWtCakcsR0FIaEIsR0FLWEUsUUFBUyxNQUVYbEIsTUFBTyxDQUNMLFFBQVEsTUFBRUEsSUFDUixNQUFNcEgsRUFBTyxDQUNYd0ksR0FBSSxRQUNKOEYsVUFBVyxPQUNYbFEsTUFBT2dKLEdBRVQsT0FBTyxZQUFhLENBQ2xCckgsS0FBTSxJQUNOQyxXQUlOdU8sWUFBYSxDQUNYLFFBQVEsWUFBRUEsSUFDUixNQUFNdk8sRUFBTyxDQUNYd0ksR0FBSSxjQUNKOEYsVUFBVyxjQUNYbFEsTUFBT21RLEdBR1QsT0FBTyxZQUFhLENBQ2xCeE8sS0FBTSxJQUNOQyxXQUlONEksWUFBYSxDQUNYLFFBQVEsV0FBRStFLEVBQVUsWUFBRS9FLElBQ3BCLE1BQU01SSxFQUFPLENBQ1h3SSxHQUFJLGNBQ0o4RixVQUFXLFdBQ1hFLFFBQVNWLEVBQVdKLEVBQXFCQyxHQUFhL0UsSUFHeEQsT0FBTyxZQUFhLENBQ2xCN0ksS0FBTSxJQUNOQyxXQUlOZ0osU0FBVSxDQUNSLFFBQVEsU0FBRUEsSUFDUixNQUFNaEosRUFBTyxDQUNYd0ksR0FBSSxXQUNKOEYsVUFBVyxXQUNYbFEsTUFBTzRLLEdBRVQsT0FBTyxZQUFhLENBQ2xCakosS0FBTSxJQUNOQyxXQUlOaUosTUFBTyxDQUNMLFFBQVEsTUFBRUEsSUFDUixNQUFNakosRUFBTyxDQUNYd0ksR0FBSSxRQUNKOEYsVUFBVyxRQUNYbFEsTUFBTzZLLEdBRVQsT0FBTyxZQUFhLENBQ2xCbEosS0FBTSxJQUNOQyxXQUlOeU8sU0FBVSxDQUNSLFFBQVEsU0FBRUEsSUFDUixNQUFNek8sRUFBTyxDQUNYd0ksR0FBSSxXQUNKOEYsVUFBVyxXQUNYbFEsTUFBT3FRLEdBRVQsT0FBTyxZQUFhLENBQ2xCMU8sS0FBTSxJQUNOQyxXQUlOMEUsT0FBUSxDQUNOLFFBQVEsT0FBRUEsSUFDUixNQUFNMUUsRUFBTyxDQUNYd0ksR0FBSSxTQUNKOEYsVUFBVyxTQUNYbFEsTUFBT3NHLEVBQ1A4SixRQUFTVixFQUFXalEsT0FBTzZRLE9BQU9sSyxHQUFhRSxJQUdqRCxPQUFPLFlBQWEsQ0FDbEIzRSxLQUFNLElBQ05DLGEsOEJDNUdSLHNGQWFlLE1BQU0yTyxVQUFvQkMsWUFDdkMsY0FDRWhLLFFBRUFwQyxLQUFLUCxLQUFPOUMsU0FBU0MsY0FBYyxPQUNuQ29ELEtBQUtxTSxPQUFTekYsRUFBUXlCLElBQUlpRSxTQUFXLGtDQUVyQ3RNLEtBQUt1TSxXQUFhdk0sS0FBS3VNLFdBQVdwUSxLQUFLNkQsTUFHekMsMEJBQ0UsTUFBTSxLQUFFRCxFQUFJLFFBQUV5TSxFQUFPLEtBQUVDLEVBQUksR0FBRUMsR0FBTzFNLEtBQUtTLFFBRXpDVCxLQUFLMk0sTUFBUSxDQUNYRixLQUFNLElBQUkzTyxLQUFLMk8sR0FDZkMsR0FBSSxJQUFJNU8sS0FBSzRPLElBR2YxTSxLQUFLRCxLQUFPQSxFQUNaQyxLQUFLL0IsWUFBY3VPLEVBQVUsSUFBYyxLQUMzQ3hNLEtBQUtPLFVBQVVDLElBQUksSUFBSWYsS0FBTSxHQUFHLElBQUlBLFNBQVNNLEtBQzdDQyxLQUFLUCxLQUFLYyxVQUFVQyxJQUFJLElBQUl4RCxTQUM1QmdELEtBQUs0RSxNQUFRLFNBQVM3RSxJQUN0QkMsS0FBSzJCLElBQU0zQixLQUFLNE0sZUFFVjVNLEtBQUsrRixTQUNYL0YsS0FBS3VCLE9BQU92QixLQUFLUCxNQUVqQjlDLFNBQVNzRSxpQkFBaUIsYUFBY2pCLEtBQUt1TSxZQUcvQyxTQUNFLE1BQU8sR0FBR3ZNLEtBQUtxTSx3QkFBd0JyTSxLQUFLRCxhQUFhQyxLQUFLMk0sTUFBTUYsV0FBV3pNLEtBQUsyTSxNQUFNRCxLQUc1RixnQkFDRSxJQUVFLE1BQU8sQ0FBRWxQLFdBRFUsWUFBVXdDLEtBQUsyQixNQUVsQyxNQUFPaEMsR0FDUCxNQUFPLENBQUVBLFVBSWIsZUFDRSxNQUFNLEtBQUVuQyxFQUFJLE1BQUVtQyxTQUFnQkssS0FBSzZNLFVBR25DLEdBRkE3TSxLQUFLeEMsS0FBT0EsRUFFUm1DLEVBRUYsWUFEQUssS0FBS1AsS0FBS2tHLG1CQUFtQixZQUFhLGVBQWUsSUFBSWhHLFVBQVVBLFdBSXpFSyxLQUFLa00sT0FBUzdRLE9BQU82USxPQUFPbE0sS0FBS3hDLE1BRU4sSUFBdkJ3QyxLQUFLa00sT0FBTzFFLFFBQ2R4SCxLQUFLa00sT0FBTzlLLEtBQUssV0FHbkIsTUFBTTBMLEVBQVk5TSxLQUFLK00sZUFFakJDLEVBQVVoTixLQUFLaU4sYUFDckJqTixLQUFLUCxLQUFLa0csbUJBQ1IsWUFDQW1ILEVBQVlFLEdBR2RoTixLQUFLa04sYUFHUCxlQU9FLE9BTkFsTixLQUFLNkUsTUFBUTdFLEtBQUtrTSxPQUFPaUIsT0FBTyxDQUFDQyxFQUFNQyxJQUFZRCxFQUFPQyxFQUFTLEdBRS9Eck4sS0FBSy9CLGNBQ1ArQixLQUFLNkUsTUFBUTdFLEtBQUsvQixZQUFZK0IsS0FBSzZFLFFBRzlCLFlBQWEsQ0FDbEJ0SCxLQUFNLElBQVU0RyxPQUNoQjNHLEtBQU13QyxPQUlWLGFBQ0UsTUFBTXNOLEVBQU1DLEtBQUtELE9BQU90TixLQUFLa00sUUFDN0IsSUFBSXNCLEVBQVcsR0FFZixJQUFLLE1BQU10UixLQUFPOEQsS0FBS3hDLEtBQU0sQ0FDM0IsTUFBTWUsRUFBTyxZQUFXckMsR0FDeEIsSUFBSU4sRUFBUW9FLEtBQUt4QyxLQUFLdEIsR0FDdEIsTUFDTXVSLEVBQVMsSUFETzdSLEVBQVEwUixFQUFPLEtBQUtJLFFBQVEsTUFHOUMxTixLQUFLL0IsY0FDUHJDLEVBQVFvRSxLQUFLL0IsWUFBWXJDLElBRzNCLE1BQU15SyxFQUFnQixpQkFBaUIsSUFBSXRCLGdCQUFnQnhHLHdCQUEyQixJQUFJeUcsb0JBQW9CcEosVUFFOUc0UixHQUFZLFlBQWEsQ0FDdkJqUSxLQUFNLElBQVUwTixVQUNoQnpOLEtBQU0sSUFDRHdDLEtBQ0h5TixTQUNBcEgsY0FBZSxZQUFXQSxNQUtoQyxNQUFPLGNBQWMsSUFBSXhELFNBQVMySyxTQUdwQyxhQUNFeE4sS0FBSzJOLFNBQVcsSUFBSSxJQUFTLENBQzNCbE8sS0FBTU8sS0FBS1AsS0FDWGlLLGFBQWEsSUFJakIsaUJBQWtCcEgsR0FDaEIsSUFBS0EsRUFBTXNMLFNBQVd0TCxFQUFNc0wsT0FBT2pCLE1BQ2pDLE9BR0YsTUFBTSxLQUFFRixFQUFJLEdBQUVDLEdBQU9wSyxFQUFNc0wsT0FBT2pCLE1BQ2xDM00sS0FBSzJNLE1BQVEsQ0FDWEYsS0FBTUEsRUFDTkMsR0FBSUEsR0FHTjFNLEtBQUsyQixJQUFNM0IsS0FBSzRNLFNBQ2hCNU0sS0FBS1AsS0FBSzFDLFVBQVksU0FDaEJpRCxLQUFLK0YsU0FDWC9GLEtBQUt1QixPQUFPdkIsS0FBS1AsVSwrQ0NsSnJCLDJHQVVlLE1BQU1vTyxVQUFzQnpCLFlBQ3pDLGNBQ0VoSyxRQUNBcEMsS0FBSzhOLFFBQVUsQ0FDYlQsUUFBUyxLQUNUdEMsT0FBTyxHQUdUL0ssS0FBSytOLEtBQU8sQ0FDVkMsTUFBTyxHQUNQWCxRQUFTLEVBQ1RZLGFBQWEsR0FHZmpPLEtBQUtxTSxPQUFTekYsRUFBUXlCLElBQUlpRSxTQUFXLGtDQUVyQ3RNLEtBQUt1TSxXQUFhdk0sS0FBS3VNLFdBQVdwUSxLQUFLNkQsTUFHekMsMEJBQ0UsTUFBTSxJQUNKMkIsRUFBRyxXQUNIdU0sRUFBVSxXQUNWQyxFQUFVLGVBQ1ZDLEVBQWMsVUFDZEMsRUFBUyxLQUNUNUIsRUFBSSxHQUNKQyxHQUNFMU0sS0FBS1MsUUFFVFQsS0FBSzJNLE1BQVEsQ0FDWEYsT0FDQUMsTUFHRjFNLEtBQUsyQixJQUFNM0IsS0FBS3FNLE9BQVMxSyxFQUN6QjNCLEtBQUtrTyxXQUFhSSxLQUFLQyxNQUFNTCxFQUFXN1EsUUFBUSxLQUFNLE1BQ3REMkMsS0FBS3FPLFdBQWFBLEVBQ2xCck8sS0FBS3dPLE1BQVEsQ0FDWEMsTUFBT04sRUFDUE8sVUFBV04sR0FFYnBPLEtBQUsyTyxVQUFZM08sS0FBSzJPLFVBQVV4UyxLQUFLNkQsTUFDckNBLEtBQUs0TyxXQUFZLEVBRWI1TyxLQUFLd08sWUFBa0M3USxJQUF6QnFDLEtBQUt3TyxNQUFNRSxZQUMzQjFPLEtBQUs4TixRQUFRL0MsTUFBUS9LLEtBQUt3TyxNQUFNRSxXQUdsQzFPLEtBQUs2TyxTQUFXN08sS0FBSzhPLGNBRXJCOU8sS0FBSytPLHFCQUF1QixZQUFTL08sS0FBS2dQLGFBQWNoUCxLQUFNLEtBRTlEQSxLQUFLMk8sWUFFTGhTLFNBQVNzRSxpQkFBaUIsYUFBY2pCLEtBQUt1TSxZQUcvQyxpQkFDRXZNLEtBQUs0TyxXQUFZLEVBQ2pCNU8sS0FBS2lFLE1BQU14RCxRQUFRd08sUUFBVSxFQUU3QixJQUNFLE1BQU1DLFFBQWtCLFlBQVVsUCxLQUFLNk8sVUFLdkMsT0FIQTdPLEtBQUs0TyxXQUFZLEVBQ2pCNU8sS0FBS2lFLE1BQU14RCxRQUFRd08sUUFBVSxFQUV0QkMsRUFDUCxNQUFPdlAsR0FFUCxNQUFNRSxFQUFVLElBQUksSUFBWSxDQUFFRixVQUNsQ0ssS0FBS2lFLE1BQU14RCxRQUFRd08sUUFBVSxFQUU3QmpQLEtBQUttUCxNQUFNeEosbUJBQ1QsWUFDQSxjQUFjLElBQUl2QixtQkFBbUIsSUFBSUUsY0FBY3pFLEVBQVFKLEtBQUsyUCxtQkFLMUUsWUFDRXBQLEtBQUtxUCxlQUNMclAsS0FBS3NQLGdCQUNMdFAsS0FBS3VQLGlCQUVMdlAsS0FBS3dQLFlBR1Asa0JBQ014UCxLQUFLK04sS0FBS0UsY0FJZGpPLEtBQUt5UCxnQkFBa0J6UCxLQUFLMFAsV0FHeEIxUCxLQUFLeVAsVUFBVWpJLE9BQVN4SCxLQUFLK04sS0FBS0MsUUFDcENoTyxLQUFLK04sS0FBS0UsYUFBYyxFQUVNLElBQTFCak8sS0FBS3lQLFVBQVVqSSxXQUtoQnhILEtBQUtxTyxXQUFhck8sS0FBS3dPLE9BQVN4TyxLQUFLd08sTUFBTUMsTUFDOUN6TyxLQUFLMlAsU0FBUzNQLEtBQUt3TyxNQUFNQyxPQUkzQnpPLEtBQUs0UCxnQkFHUCxjQUNFLE1BQU0vTyxFQUFTLENBQ2JnUCxNQUFPN1AsS0FBSytOLEtBQUtWLFFBQVVyTixLQUFLK04sS0FBS0MsTUFDckM4QixLQUFNOVAsS0FBSytOLEtBQUtWLFFBQVUsR0FBS3JOLEtBQUsrTixLQUFLQyxNQUN6QytCLEtBQU0vUCxLQUFLd08sTUFBTUMsTUFDakJELE1BQU8sWUFBaUJ4TyxLQUFLOE4sUUFBUS9DLFFBR25DL0ssS0FBSzJNLE9BQVMzTSxLQUFLMk0sTUFBTUYsT0FDM0I1TCxFQUFPNEwsS0FBT3pNLEtBQUsyTSxNQUFNRixLQUN6QjVMLEVBQU82TCxHQUFLMU0sS0FBSzJNLE1BQU1ELElBR3pCLElBQUlzRCxFQUFZLEdBQ2hCLElBQUssTUFBTTlULEtBQU8yRSxFQUFRLENBQ3hCLElBQUlvUCxFQUFTLElBQ0QsU0FBUi9ULEdBQTBCLE9BQVJBLElBQ3BCK1QsRUFBUyxJQUdYRCxHQUFhLElBQUlDLElBQVMvVCxLQUFPMkUsRUFBTzNFLEtBRTFDLE9BQU84RCxLQUFLMkIsSUFBTXFPLEVBR3BCLGVBQ0VoUSxLQUFLTyxVQUFVQyxJQUFJLElBQUlmLE1BQ3ZCTyxLQUFLaUUsTUFBUXRILFNBQVNDLGNBQWMsU0FDcENvRCxLQUFLaUUsTUFBTTFELFVBQVVDLElBQUksSUFBSXlELE9BQzdCakUsS0FBS21QLE1BQVF4UyxTQUFTQyxjQUFjLFNBQ3BDb0QsS0FBS2lFLE1BQU0xQyxPQUFPdkIsS0FBS21QLE9BQ3ZCblAsS0FBS2lFLE1BQU0wQixtQkFDVCxZQUNBLDJCQUEyQjNGLEtBQUtrTyxXQUFXMUcseURBRzdDeEgsS0FBS3VCLE9BQU92QixLQUFLaUUsT0FJbkIsZ0JBQ0UsSUFBSWlNLEVBQWdCLEdBRXBCbFEsS0FBS2tPLFdBQVdpQyxRQUFRMUIsSUFDdEIsSUFBSTJCLEVBQVUsSUFBSS9MLEtBQ2xCLE1BQU03RyxFQUFPLENBQ1g2UyxPQUFRLEdBQ1JDLGNBQWUsSUFNakIsR0FKSSxJQUFPN0IsR0FBTzNJLFVBQ2hCc0ssR0FBVyxJQUFJLElBQUk3TCxhQUNuQi9HLEVBQUs2UyxPQUFTLG1CQUVaNUIsSUFBVXpPLEtBQUt3TyxNQUFNQyxNQUFPLENBQzlCLE1BQU1DLEVBQVksWUFBaUIxTyxLQUFLOE4sUUFBUS9DLE9BQ2hEdk4sRUFBSzhTLGNBQWdCLHdCQUF3QjVCLEtBRS9Dd0IsR0FBaUIsY0FBY0UsMEJBQ2hCM0IsZUFDWGpSLEVBQUs2UyxtQkFDTDdTLEVBQUs4UywyQkFDSixJQUFPN0IsR0FBTzdKLGVBR3JCLE1BQU0yTCxFQUFXLGlCQUFpQixJQUFJck0scUJBQXFCLElBQUlDLFVBQVUsSUFBSUMsZ0JBQ3pFOEwsdUJBR0psUSxLQUFLaUUsTUFBTTBCLG1CQUFtQixhQUFjNEssR0FFNUN2USxLQUFLOE4sUUFBUVQsUUFBVXJOLEtBQUtpRSxNQUFNdU0sY0FBYyx5QkFJbEQsY0FBZUMsR0FDYixNQUFNLEtBQUV2VixHQUFTdVYsRUFBR2hRLFFBRWhCZ1EsRUFBR2hRLFFBQVE2UCxjQUNidFEsS0FBSzhOLFFBQVEvQyxPQUFTL0ssS0FBSzhOLFFBQVEvQyxPQUUvQi9LLEtBQUs4TixRQUFRVCxnQkFDUnJOLEtBQUs4TixRQUFRVCxRQUFRNU0sUUFBUTZQLGNBRXRDdFEsS0FBSzhOLFFBQVEvQyxPQUFRLEVBQ3JCL0ssS0FBSzhOLFFBQVFULFFBQVVvRCxHQUd6QkEsRUFBR2hRLFFBQVE2UCxjQUFnQixZQUFpQnRRLEtBQUs4TixRQUFRL0MsT0FFckQvSyxLQUFLcU8sVUFDUHJPLEtBQUswUSxnQkFBZ0J4VixHQUl2QjhFLEtBQUsyUCxTQUFTelUsR0FJaEIsU0FBVXVULEdBQ1J6TyxLQUFLeVAsVUFBVU0sS0FBSyxJQUFPdEIsR0FBTzNJLFNBRTdCOUYsS0FBSzhOLFFBQVEvQyxPQUNoQi9LLEtBQUt5UCxVQUFVa0IsVUFHakIzUSxLQUFLbVAsTUFBTXBTLFVBQVksR0FDdkJpRCxLQUFLNFAsY0FJUCxnQkFBaUJuQixHQUNmek8sS0FBS3dPLE1BQU1DLE1BQVFBLEVBQ25Cek8sS0FBSytOLEtBQUtWLFFBQVUsRUFDcEJyTixLQUFLK04sS0FBS0UsYUFBYyxFQUN4QmpPLEtBQUs2TyxTQUFXN08sS0FBSzhPLGNBQ3JCOU8sS0FBS21QLE1BQU1wUyxVQUFZLEdBQ3ZCaUQsS0FBS3dQLFlBSVAsaUJBQ0V4UCxLQUFLaUUsTUFBTWhELGlCQUFpQixRQUFTakIsTUFDckNxQyxPQUFPcEIsaUJBQWlCLFNBQVVqQixLQUFLK08sc0JBQ3ZDL08sS0FBSzJOLFNBQVcsSUFBSSxJQUFTLENBQUVsTyxLQUFNTyxPQUl2QyxjQUVNc0MsTUFBTXVILE9BQU9wSixRQUFRNFAsUUFDdkJyUSxLQUFLNFEsY0FBY3RPLE1BQU11SCxRQUk3QixlQUNFLEdBQUk3SixLQUFLNE8sVUFDUCxPQUdpQmpTLFNBQVNpTyxnQkFBZ0JWLHdCQUNiMkcsT0FBU3hPLE9BQU95TyxZQUU3QixNQUNoQjlRLEtBQUsrTixLQUFLVixVQUNWck4sS0FBSzZPLFNBQVc3TyxLQUFLOE8sY0FDckI5TyxLQUFLd1AsYUFLVCxjQUNFeFAsS0FBSytRLFlBQWMxTyxPQUFPME8sWUFFMUIvUSxLQUFLeVAsVUFBVVUsUUFBUS9MLElBQ3JCLElBQUk0TSxFQUFhLEdBQ2pCLE1BQU0sT0FBRTlPLEdBQVdrQyxFQUVuQnBFLEtBQUtrTyxXQUFXaUMsUUFBUTFCLElBQ3RCLE1BQU13QyxFQUFZLENBQ2hCLElBQUk1TSxLQUNKLEdBQUcsSUFBSUEsU0FBU29LLElBQ2hCLEdBQUcsSUFBSXBLLFNBQVMsSUFBV25DLEdBQVFnUCxpQkFHL0JDLEdBQWtCQyxFQURKLElBQU8zQyxHQUFPMUksUUFDRTNCLEdBRWhDK00sSUFDRkgsR0FBYyxjQUFjQyxFQUFVdkYsS0FDcEMsU0FDSXlGLFlBSVZuUixLQUFLbVAsTUFBTXhKLG1CQUNULFlBQ0EsY0FBYyxJQUFJdkIsUUFBUTRNLFlBSTFCaFIsS0FBSytRLGFBQ1AxTyxPQUFPZ1AsU0FBUyxFQUFHclIsS0FBSytRLGFBSTVCLGlCQUFrQnpPLEdBQ1hBLEVBQU1zTCxRQUFXdEwsRUFBTXNMLE9BQU9qQixRQUluQzNNLEtBQUsyTSxNQUFRckssRUFBTXNMLE9BQU9qQixNQUMxQjNNLEtBQUs2TyxTQUFXN08sS0FBSzhPLGNBQ3JCOU8sS0FBS21QLE1BQU1wUyxVQUFZLEdBQ3ZCaUQsS0FBS3dQLGlCLDhDQzNUVCxXQUVlLEtBQ2IsQ0FDRXRVLEtBQU0sU0FFUixDQUNFQSxLQUFNLGNBQ05vVyxLQUFNLENBQUMsSUFBSXJPLFdBRWIsQ0FDRS9ILEtBQU0sU0FDTm9XLEtBQU0sQ0FBQyxJQUFJck8sV0FFYixDQUNFL0gsS0FBTSxlQUVSLENBQ0VBLEtBQU0sUUFDTm9XLEtBQU0sQ0FBQyxJQUFJdk8sV0FFYixDQUNFN0gsS0FBTSxXQUNOb1csS0FBTSxDQUFDLElBQUl2TyxTQUFVLElBQUlDLGFBRTNCLENBQ0U5SCxLQUFNLFdBQ05vVyxLQUFNLENBQUMsSUFBSXZPLFdBRWIsQ0FDRTdILEtBQU0sU0FDTm9XLEtBQU0sQ0FBQyxJQUFJdk8sYSxnS0MvQmYsSUFBSXlJLEVBQU0sQ0FDVCx3QkFBeUIsR0FDekIsdUJBQXdCLEdBQ3hCLHNCQUF1QixHQUN2QiwyQkFBNEIsR0FDNUIsc0JBQXVCLElBSXhCLFNBQVMrRixFQUFvQkMsR0FDNUIsT0FBT0MsRUFBMkJELEdBQUtFLEtBQUtuWCxHQUU3QyxTQUFTa1gsRUFBMkJELEdBR25DLE9BQU8xUSxRQUFRQyxVQUFVMlEsTUFBSyxXQUM3QixJQUFJblgsRUFBb0JhLEVBQUVvUSxFQUFLZ0csR0FBTSxDQUNwQyxJQUFJdkssRUFBSSxJQUFJOUUsTUFBTSx1QkFBeUJxUCxFQUFNLEtBRWpELE1BREF2SyxFQUFFMEssS0FBTyxtQkFDSDFLLEVBRVAsT0FBT3VFLEVBQUlnRyxNQUdiRCxFQUFvQkssS0FBTyxXQUMxQixPQUFPdlcsT0FBT3VXLEtBQUtwRyxJQUVwQitGLEVBQW9CeFEsUUFBVTBRLEVBQzlCRixFQUFvQnZMLEdBQUssR0FDekJ0TCxFQUFPRCxRQUFVOFcsRyw2QkM3QmpCLGtEQUtlLGdCQUNiLGNBQ0V2UixLQUFLcU0sT0FBU3pGLEVBQVF5QixJQUFJaUUsU0FBVyxrQ0FDckN0TSxLQUFLNk8sU0FBVyxHQUFHN08sS0FBS3FNLDREQUV4QnJNLEtBQUs2UixVQUFZN1IsS0FBSzZSLFVBQVUxVixLQUFLNkQsTUFHdkMsZUFDRSxNQUFNLFdBQUVtTCxFQUFVLFFBQUV0TCxTQUFrQkcsS0FBSzBQLFdBRTNDLEdBQUk3UCxFQUNGLE9BQU8sWUFBYyx5SkFJZkEsRUFBUUosS0FBSzJQLHVEQU1yQixNQUFNdk0sRUFBTzdDLEtBQUs4UixXQUFXM0csR0FXN0IsT0FWQW5MLEtBQUtQLEtBQU8sWUFBYyxtSkFJcEJvRCxtQ0FJTjdDLEtBQUsrUixZQUVFL1IsS0FBS1AsS0FHZCxpQkFFRSxJQUdFLE1BQU8sQ0FBRTBMLGlCQUZnQixZQUFVbkwsS0FBSzZPLFdBR3hDLE1BQU9sUCxHQUlQLE1BQU8sQ0FBRUUsUUFGTyxJQUFJLElBQVksQ0FBRUYsWUFNdEMsV0FBWXFPLEVBQU9nRSxHQUFXLEdBQzVCLElBQUlDLEVBQVcsR0FDWEMsRUFBWSxJQUFJak4sUUFDaEJrTixFQUFZLElBQUlyUCxLQUNoQnNQLEVBQWtCLEdBVXRCLEdBUklKLEdBQ0ZFLEVBQVksSUFBSWhOLFlBQ2hCaU4sR0FBYSxJQUFJLElBQUkvTSxVQUNyQmdOLEVBQWtCLHVCQUVsQkQsR0FBYSxJQUFJLElBQUloTixVQUdGLElBQWpCNkksRUFBTXhHLE9BQ1IsTUFBTyxHQUdULElBQUssTUFBTTFFLEtBQVFrTCxFQUFPLENBQ3hCLElBQUlxRSxFQUFjLEdBQ2R6TixFQUFROUIsRUFBSzhCLE1BQ2pCLE1BQU0wTixFQUFVeFAsRUFBS3VJLGNBQ3JCLElBQUk1TSxFQUFVLEdBRWQsR0FBSXVULEVBQVUsQ0FDWixNQUFNTyxFQUFjdlMsS0FBS3dTLFVBQVUxUCxFQUFLMlAsTUFBTyxDQUFDLFVBQVcsYUFDM0RoVSxFQUFVLGdCQUFnQixJQUFJQSxZQUFZOFQsV0FLeENELElBQ0YxTixFQUFRLG1CQUFtQixJQUFJVSxZQUFZeEMsRUFBSzhCLGlCQUNoRHlOLEVBQWNyUyxLQUFLOFIsV0FBV1EsR0FBUyxJQUd6Q0wsR0FBWSxjQUFjRSxnQkFDdEJ2TixjQUNBbkcsY0FDQTRULGlCQUlOLE1BQU8scUJBQ0ksSUFBSXhQLFFBQVFxUCxNQUFjRSxxQkFFakNILGVBSU4sWUFDZWpTLEtBQUtQLEtBQUsrUSxjQUFjLElBQUksSUFBSXZMLFdBQ3hDaEUsaUJBQWlCLFFBQVNqQixLQUFLNlIsV0FHdEMsWUFDa0J2UCxNQUFNdUgsT0FBTzZJLFFBQVEsSUFBSSxJQUFJcE4sWUFLN0JoRCxNQUFNdUgsT0FBTzZJLFFBQVEsSUFBSSxJQUFJdk4sV0FDckM1RSxVQUFVb1MsT0FBTyxJQUFJdE4sVUFHL0IsVUFBV25ILEVBQUswVSxHQUNkLElBQUlDLEVBQVVELEVBQVMsR0FLdkIsT0FKWSxJQUFSMVUsSUFDRjJVLEVBQVVELEVBQVMsSUFHZCxHQUFHMVUsS0FBTzJVLE8sZ0VDOUhyQixrQkFFQSxNQUFNcEcsRUFBTyxJQUFJM08sS0FDakIyTyxFQUFLcUcsU0FBU3JHLEVBQUtzRyxXQUFhLEdBQ2hDLE1BQU1yRyxFQUFLLElBQUk1TyxLQUVUNk8sRUFDRUYsRUFBS3VHLGNBRFByRyxFQUVBRCxFQUFHc0csY0FHTSxnQkFDYixlQUNFLE9BQU8sWUFBYyxrTEFLRnJHLDBCQUNGQSw0TUFPSUEsNEJBQ0ZBLHNKQU1FQSw0QkFDRkEsd0hBS0VBLDRCQUNGQSxtZUFhQUEsMEJBQ0ZBLHlFLDZCQ3REckIsa0JBRWUsZ0JBQ2IsZUFDRSxPQUFPLFlBQWMsMk4sNkJDSnpCLCtFQVVlLGdCQUNiLFlBQWFsUCxHQUNYdUMsS0FBS2dHLEdBQUt2SSxFQUFNLEdBQUdKLFFBQVEsWUFBYSxJQUVuQ0ksRUFBTSxLQUNUdUMsS0FBS2dHLEdBQUsseUJBR1poRyxLQUFLcU0sT0FBU3pGLEVBQVF5QixJQUFJaUUsU0FBVyxrQ0FDckN0TSxLQUFLaVQsZ0JBQWtCalQsS0FBS3FNLE9BQVMseUJBQXlCck0sS0FBS2dHLEtBQ25FaEcsS0FBS2tULG1CQUFxQmxULEtBQUtxTSxPQUFTLHNEQUcxQyxlQUNFLE1BQU0sWUFBRThHLEVBQVcsV0FBRWhJLEVBQVUsYUFBRWlJLFNBQXVCcFQsS0FBSzBQLFdBRTdELEdBQUkwRCxFQUNGLE9BQU8sWUFBYyx1Q0FDakIsa0JBRUFBLEVBQWFoRSxtQ0FLbkIsTUFBTWlFLEVBQVVGLEVBQVksR0FDdEJHLEVBQVMsR0FFZixJQUFLLE1BQU0sS0FBRXBZLEVBQUksS0FBRW9XLEtBQVUsSUFDM0IsR0FBSSxJQUFPcFcsR0FBTyxDQUNoQixJQUFJMkYsRUFBU3dTLEVBRUEsZ0JBQVRuWSxJQUNGMkYsRUFBUyxJQUNKQSxFQUNIc0ssZUFJSixNQUFNaEksRUFBUSxJQUFPakksR0FBTTZLLE9BQU9sRixHQUNsQyxJQUFJTSxFQUFVLENBQUMsSUFBSTJCLE1BRWZ3TyxJQUNGblEsRUFBVUEsRUFBUXNHLE9BQU82SixJQUczQmdDLEVBQU9sUyxLQUFLLGNBQWNELEVBQVF1SyxLQUFLLFNBQVN2SSxVQUlwRCxPQUFPLFlBQWMscUNBQ2pCLHVDQUV1QixJQUFJUCwrQkFDZCxJQUFJQyxxQkFDYnlRLEVBQU81SCxLQUFLLGtEQUdDLElBQUkzSCxzQ0FDRixJQUFJQyx1RUFNN0IsaUJBRUUsSUFJRSxNQUFPLENBQUVtUCxrQkFIaUIsWUFBVW5ULEtBQUtpVCxpQkFHbkI5SCxpQkFGRyxZQUFVbkwsS0FBS2tULHFCQUd4QyxNQUFPdlQsR0FFUCxNQUFPLENBQUV5VCxhQURPLElBQUksSUFBWSxDQUFFelQsVUFDSEYsVSw4Q0NwRnRCLEssK0NDQWYsa0JBRWUsZ0JBQ2IsZUFDRSxPQUFPLFlBQWMsaWYsdUVDRFYsTUFBTSxVQUFlMk0sWUFDbEMsb0JBQ0VwTSxLQUFLdUIsT0FBT3ZCLEtBQUsrRixVQUNqQi9GLEtBQUtPLFVBQVVDLElBQUksUUFHckIsU0FDRSxPQUFPLFlBQWMsdzBDLFlDVlYsRUFDUCxjQURPLEVBRUgsb0JBRkcsRUFHTixxQkFITSxFQUlQLG9CQUpPLEVBS1Qsa0JBTFMsRUFNSCx3QkFORyxFQVFJLGdDQVJKLEVBU0YseUJBVEUsRUFXUCxvQkFYTyxFQVlDLDZCQVpELEVBYUksZ0NBYkosRUFjRCwyQkNpQ0MsT0FDYjJDLE1BOUNtQixrQkFBa0IsNERBRTFCLGlFQUdBLHNEQTBDWG9RLFNBckNzQixpQkFDViwyQ0RORyxtRkNVSixLQUF1QiwrRkFLdkIsS0FBdUIscUVBR3BCLHNCQXlCZEMsU0FyQnNCLGlCRG5CWiw0Q0FLTSwwR0FDTCx5RUFDRCw2RENrQ1ZDLElBUmlCLGtDQUNZLHlFLE1DNUNoQixJQ0FBLElDV0EsTUFBTSxVQUFvQnJILFlBQ3ZDLGNBQ0VoSyxRQUNBcEMsS0FBSzBULGFBQWUxVCxLQUFLMFQsYUFBYXZYLEtBQUs2RCxNQUMzQ0EsS0FBSzJULGdCQUFrQjNULEtBQUsyVCxnQkFBZ0J4WCxLQUFLNkQsTUFDakRBLEtBQUs0VCxZQUFjNVQsS0FBSzRULFlBQVl6WCxLQUFLNkQsTUFDekNBLEtBQUs2VCxZQUFjN1QsS0FBSzZULFlBQVkxWCxLQUFLNkQsTUFFekNBLEtBQUs4VCxVQUFXLEVBQ2hCOVQsS0FBS1AsS0FBT08sS0FDWkEsS0FBS1AsS0FBS2MsVUFBVUMsSUFBSSxlQUcxQiwwQkFDRSxNQUFNLEtBQUVpTSxFQUFJLEdBQUVDLEdBQU8xTSxLQUFLUyxRQUUxQlQsS0FBSzJNLE1BQVEsQ0FDWEYsS0FBTSxJQUFJM08sS0FBSzJPLEdBQ2ZDLEdBQUksSUFBSTVPLEtBQUs0TyxJQUdmMU0sS0FBSytULFFBQVUvVCxLQUFLZ1Usc0JBQ3BCaFUsS0FBS2lVLFNBQVcsR0FFaEJqVSxLQUFLa1UsV0FDTHZYLFNBQVNzRSxpQkFBaUIsYUFBY2pCLEtBQUs2VCxhQUcvQyxzQkFDRSxNQUFNTSxFQUFlLElBQUlyVyxLQUFLa0MsS0FBSzJNLE1BQU1GLE1BQ3pDLElBQUkySCxFQUFRRCxFQUFhcEIsV0FFekJvQixFQUFhdlYsUUFETSxHQUduQixNQUFNeVYsRUFBWSxJQUFJdlcsS0FBS3FXLEdBRzNCLE9BRkFFLEVBQVV2QixXQUFXc0IsR0FFZCxDQUFDRCxFQUFjRSxHQUd4QixXQUNFLE1BQU03VyxFQUFPLENBQ1hpUCxLQUFNek0sS0FBSzJNLE1BQU1GLEtBQUs2SCxxQkFDdEI1SCxHQUFJMU0sS0FBSzJNLE1BQU1ELEdBQUc0SCxzQkFFZC9XLEVBQU9nWCxFQUFVcFIsTUFDakJxUixFQUFXLFlBQWEsQ0FDNUJqWCxPQUNBQyxTQUdGd0MsS0FBS1AsS0FBS2tHLG1CQUFtQixhQUFjNk8sR0FDM0N4VSxLQUFLbUQsTUFBUW5ELEtBQUtQLEtBQUsrUSxjQUFjLElBQUksS0FDekN4USxLQUFLeVUsVUFBWXpVLEtBQUttRCxNQUFNcU4sY0FBYyxJQUFJLEtBQzlDeFEsS0FBSzBVLFFBQVUxVSxLQUFLbUQsTUFBTXFOLGNBQWMsSUFBSSxLQUU1Q3hRLEtBQUttRCxNQUFNbEMsaUJBQWlCLGNBQWVqQixLQUFLMFQsY0FHaEQvVyxTQUFTMkUsS0FBS0wsaUJBQWlCLGNBQWVqQixLQUFLNFQsWUFBYSxDQUM5RGUsU0FBUyxJQUliLGVBQzRCclMsTUFBTXVILE9BQU82SSxRQUFRLElBQUksTUFFekIxUyxLQUFLOFQsVUFDN0I5VCxLQUFLNFUsYUFJVCxjQUNFNVUsS0FBS3lVLFVBQVUxWCxVQUFZaUQsS0FBSzJNLE1BQU1GLEtBQUs2SCxxQkFDM0N0VSxLQUFLMFUsUUFBUTNYLFVBQVlpRCxLQUFLMk0sTUFBTUQsR0FBRzRILHFCQUd6QyxjQUNFdFUsS0FBSytULFFBQVUvVCxLQUFLZ1Usc0JBQ3BCaFUsS0FBS2lVLFNBQVcsR0FDaEJqVSxLQUFLNlUsY0FDTDdVLEtBQUs0VSxhQUdQLGVBQ001VSxLQUFLOFQsU0FDUDlULEtBQUs0VSxjQUlQNVUsS0FBSzhVLGFBQ0w5VSxLQUFLOFQsVUFBVyxHQUdsQixhQUNPOVQsS0FBS3VULFNBUVJ2VCxLQUFLK1UsVUFBVWhZLFVBQVksSUFQM0JpRCxLQUFLZ1YsY0FFTGhWLEtBQUt1VCxTQUFXdlQsS0FBS1AsS0FBSytRLGNBQWMsSUFBSSxLQUM1Q3hRLEtBQUsrVSxVQUFZL1UsS0FBS1AsS0FBSytRLGNBQWMsSUFBSSxLQUU3Q3hRLEtBQUt1VCxTQUFTdFMsaUJBQWlCLFFBQVNqQixLQUFLMlQsa0JBSy9DM1QsS0FBS2lWLGVBQ0xqVixLQUFLUCxLQUFLYyxVQUFVQyxJQUFJLEdBRzFCLGFBQ0VSLEtBQUtQLEtBQUtjLFVBQVVXLE9BQU8sR0FDM0JsQixLQUFLOFQsVUFBVyxFQUNoQjlULEtBQUtpVSxTQUFXLEdBR2xCLGNBQ0UsTUFBTWlCLEVBQWNYLEVBQVVoQixTQUM5QnZULEtBQUtQLEtBQUtrRyxtQkFBbUIsWUFBYXVQLEdBRzVDLGtCQUNFLE1BQU0sUUFBRXpVLEdBQVk2QixNQUFNdUgsT0FDdEJwSixFQUFRN0UsTUFDVm9FLEtBQUttVixPQUFPN1MsTUFBTXVILFFBQ1RwSixFQUFRaU8sV0FDakIxTyxLQUFLb1YsVUFBVTNVLEVBQVFpTyxXQUkzQixPQUFRalAsR0FDTixNQUFNbEIsRUFBT2tCLEVBQUtnQixRQUFRN0UsTUFFMUIsR0FBNkIsSUFBekJvRSxLQUFLaVUsU0FBU3pNLE9BR2hCLE9BRkF4SCxLQUFLaVUsU0FBUzdTLEtBQUssSUFBSXRELEtBQUtTLFNBQzVCeUIsS0FBS3FWLGVBQWU1VixHQUl0Qk8sS0FBS2lVLFNBQVM3UyxLQUFLLElBQUl0RCxLQUFLUyxJQUU1QnlCLEtBQUtpVSxTQUFTbEUsS0FBSyxDQUFDOUosRUFBR0MsSUFDZEQsRUFBSUMsR0FFYmxHLEtBQUsyTSxNQUFRLENBQ1hGLEtBQU16TSxLQUFLaVUsU0FBUyxHQUNwQnZILEdBQUkxTSxLQUFLaVUsU0FBUyxJQUdwQnRYLFNBQVMyWSxjQUNQLElBQUlDLFlBQVksYUFBYyxDQUM1QjNILE9BQVEsQ0FDTmpCLE1BQU8sQ0FDTEYsS0FBTXpNLEtBQUsyTSxNQUFNRixLQUFLdUcsY0FDdEJ0RyxHQUFJMU0sS0FBSzJNLE1BQU1ELEdBQUdzRyxtQkFPNUIsVUFBV3RFLEdBQ1QsSUFBSThHLEVBQU8sRUFDTyxTQUFkOUcsSUFDRjhHLEdBQVEsR0FHVnhWLEtBQUsrVCxRQUFRNUQsUUFBUTVSLElBQ25CQSxFQUFLdVUsU0FBU3ZVLEVBQUt3VSxXQUFheUMsS0FHbEN4VixLQUFLeVYsa0JBR1AsZUFDRXpWLEtBQUsrVCxRQUFRNUQsUUFBUTVSLElBQ25CeUIsS0FBSytVLFVBQVVwUCxtQkFBbUIsWUFBYTNGLEtBQUswVixZQUFZblgsTUFJcEUsa0JBQ0V5QixLQUFLK1UsVUFBVWhZLFVBQVksR0FDM0JpRCxLQUFLaVYsZUFHUCxlQUFnQnhWLEdBQ2QsTUFBTWtXLEVBQVEzVixLQUFLUCxLQUFLbVcsaUJBQWlCLElBQUksS0FDdkN6VSxFQUFVLENBQUMsRUFBcUIsRUFBa0IsR0FFeER3VSxFQUFNeEYsUUFBUTlMLElBQ1pBLEVBQUs5RCxVQUFVVyxVQUFVQyxLQUczQjFCLEVBQUtjLFVBQVVDLElBQUksR0FHckIsWUFBYWpDLEdBQ1gsTUFBTWYsRUFBTyxDQUNYNFcsTUFBTzdWLEVBQUtHLGVBQWUsVUFBVyxDQUFFMFYsTUFBTyxTQUMvQ3lCLFNBQVUsWUFBWSxPQUN0QkMsS0FBTTlWLEtBQUsrVixTQUFTeFgsSUFHaEJoQixFQUFPZ1gsRUFBVWYsU0FNdkIsT0FMb0IsWUFBYSxDQUMvQmpXLE9BQ0FDLFNBTUosU0FBVWUsR0FDUixNQUFNaEIsRUFBT2dYLEVBQVVkLElBQ2pCdUMsRUFBYyxJQUFJbFksS0FBS1MsR0FDdkI2VixFQUFRNEIsRUFBWWpELFdBQzFCLElBQUlrRCxFQUFhLEVBQ2JDLEVBQVUsR0FFZCxLQUFPRixFQUFZakQsYUFBZXFCLEdBQU8sQ0FDdkMsTUFBTTVKLEVBQVF4SyxLQUFLbVcsa0JBQWtCSCxHQUMvQkksRUFBTXBXLEtBQUtxVyxXQUFXTCxHQUV0QnhZLEVBQU8sQ0FDWDhZLFNBQVVOLEVBQVloRCxjQUN0QnVELFFBQVNQLEVBQVluWCxVQUNyQjJMLFFBQ0E0TCxPQUVGRixHQUFXLFlBQWEsQ0FDdEIzWSxPQUNBQyxTQUdGd1ksRUFBWXBYLFVBQVVxWCxHQUd4QixPQUFPQyxFQUdULGtCQUFtQjNYLEdBQ2pCLElBQUlpTSxFQUFRLEdBR1osR0FGWWpNLEVBQUtNLFVBRVAsRUFDUixPQUFPMkwsRUFHVCxJQUFJZ00sRUFBYWpZLEVBQUtrWSxTQU90QixPQU5tQixJQUFmRCxJQUNGQSxFQUFhLEdBR2ZoTSxFQUFRLHNCQUFzQmdNLElBRXZCaE0sRUFHVCxXQUFZak0sR0FDVixJQUFJNlgsRUFBTSxHQUVWLEdBQUlwVyxLQUFLaVUsU0FBU3pNLE9BQVMsRUFDekIsT0FBTzRPLEVBR1QsTUFBTU0sRUFBU25ZLEVBQUtvWSxVQUNkQyxFQUFhNVcsS0FBSzJNLE1BQU1GLEtBQUtrSyxVQUM3QkUsRUFBVzdXLEtBQUsyTSxNQUFNRCxHQUFHaUssVUFVL0IsT0FSSUQsRUFBU0UsR0FBY0YsRUFBU0csRUFDbENULEVBQU0sRUFDR00sSUFBV0UsRUFDcEJSLEVBQU0sRUFDR00sSUFBV0csSUFDcEJULEVBQU0sR0FHREEsRyxrQkNoU0ksSUNHZixNQUFNNVcsRUFDRSxpQkFERkEsRUFHRSx1QkFIRkEsRUFJSyxnQ0FKTEEsRUFLUyxvQ0FHQSxNQUFNc1gsVUFBc0JDLGlCQUN6QyxjQUNFM1UsUUFFQXBDLEtBQUtnWCxVQUFZaFgsS0FBS2dYLFVBQVU3YSxLQUFLNkQsTUFDckNBLEtBQUtpWCxTQUFXalgsS0FBS2lYLFNBQVM5YSxLQUFLNkQsTUFDbkNBLEtBQUtrWCxLQUFPbFgsS0FBS2tYLEtBQUsvYSxLQUFLNkQsTUFDM0JBLEtBQUttWCxxQkFBdUJuWCxLQUFLbVgscUJBQXFCaGIsS0FBSzZELE1BRzdELDBCQUNFQSxLQUFLTyxVQUFVQyxJQUFJaEIsR0FDbkJRLEtBQUtnTyxNQUFRaE8sS0FBSzRWLGlCQUFpQixNQUNuQzVWLEtBQUtvWCxZQUFjcFgsS0FBS3FYLG9CQUV4QnJYLEtBQUtzWCxrQkFDTHRYLEtBQUtpQixpQkFBaUIsY0FBZWpCLEtBQUtnWCxXQUMxQ2hYLEtBQUtpQixpQkFBaUIsY0FBZWpCLEtBQUttWCxxQkFBc0IsQ0FBRXhPLE1BQU0sSUFHMUUsVUFBV3JHLEdBRVQsR0FEQXRDLEtBQUt1WCxZQUFjalYsRUFBTXVILE9BQU82SSxRQUFRLDBCQUNuQzFTLEtBQUt1WCxZQUNSLE9BR0Z2WCxLQUFLdVgsWUFBWUMsWUFBWXhYLEtBQUtvWCxhQUNsQ3BYLEtBQUt1WCxZQUFZaFgsVUFBVUMsSUFBSWhCLEdBQy9CUSxLQUFLdUIsT0FBT3ZCLEtBQUt1WCxhQUVqQixNQUFNLElBQUVFLEdBQVF6WCxLQUFLa0ssd0JBQ3JCbEssS0FBS3lYLElBQU1BLEVBQ1h6WCxLQUFLMFgsU0FBVzFYLEtBQUt1WCxZQUFZSSxhQUFlLEVBRWhELE1BQU1DLEVBQVV0VixFQUFNaUksUUFBVXZLLEtBQUt5WCxJQUFNelgsS0FBSzBYLFNBQ2hEMVgsS0FBS3VYLFlBQVkvTSxNQUFNaU4sSUFBTSxHQUFHRyxNQUVoQzVYLEtBQUtpQixpQkFBaUIsY0FBZWpCLEtBQUtrWCxNQUMxQ2xYLEtBQUtpQixpQkFBaUIsWUFBYWpCLEtBQUtpWCxVQUcxQyxLQUFNM1UsR0FDSixNQUFNc1YsRUFBVXRWLEVBQU1pSSxRQUFVdkssS0FBS3lYLElBQU16WCxLQUFLMFgsU0FDaEQxWCxLQUFLdVgsWUFBWS9NLE1BQU1pTixJQUFNLEdBQUdHLE1BR2hDLElBQUssTUFBTTlVLEtBQVE5QyxLQUFLZ08sTUFBTyxDQUM3QixHQUFJbEwsRUFBS3ZDLFVBQVVzWCxTQUFTclksR0FDMUIsU0FHRixNQUFNaVksRUFBTTNVLEVBQUtMLFVBQ1hvTyxFQUFTNEcsRUFBTTNVLEVBQUs2VSxhQUNwQkcsRUFBU0wsRUFBTTNVLEVBQUs2VSxhQUFlLEVBQ25DSSxFQUFZSCxFQUFVNVgsS0FBSzBYLFNBRWpDLEdBQUlLLEVBQVlOLEdBQU9NLEVBQVlsSCxFQUFRLENBQ3JDa0gsR0FBYUQsRUFDZmhWLEVBQUtrVixNQUFNaFksS0FBS29YLGFBRWhCdFUsRUFBS21WLE9BQU9qWSxLQUFLb1gsYUFFbkIsUUFLTixXQUNFcFgsS0FBS29YLFlBQVlJLFlBQVl4WCxLQUFLdVgsYUFDbEN2WCxLQUFLdVgsWUFBWWhYLFVBQVVXLE9BQU8xQixHQUNsQ1EsS0FBS3VYLFlBQVkvTSxNQUFNaU4sSUFBTSxHQUM3QnpYLEtBQUtrWSxvQkFBb0IsY0FBZWxZLEtBQUtrWCxNQUM3Q2xYLEtBQUtrWSxvQkFBb0IsWUFBYWxZLEtBQUtpWCxVQUc3QyxvQkFDRSxNQUNNRyxFQURZcFgsS0FBS2dPLE1BQU0sR0FDQ21LLFdBQVUsR0FJeEMsT0FIQWYsRUFBWTdXLFVBQVVDLElBQUloQixFQUFpQkEsR0FDM0M0WCxFQUFZcmEsVUFBWSxHQUVqQnFhLEVBR1QsdUJBQ0UsTUFBTWdCLEVBQVlwWSxLQUFLZ08sTUFBTSxHQUM3QmhPLEtBQUtvWCxZQUFZNU0sTUFBTTZOLFVBQVksR0FBR0QsRUFBVVQsaUJBR2xELGtCQUNFM1gsS0FBS2dPLE1BQU1tQyxRQUFRck4sR0FBUUEsRUFBS3ZDLFVBQVVDLElBQUloQixLQ25HbkMsTUFBTSxFQUNuQixjQUNFUSxLQUFLc1ksT0FBUyxHQUVkdFksS0FBS3VZLGNBQWdCdlksS0FBS3VZLGNBQWNwYyxLQUFLNkQsTUFFN0NyRCxTQUFTc0UsaUJBQWlCLFFBQVNqQixLQUFLdVksZUFHMUMsa0JBSUUsT0FIS3ZZLEtBQUt3WSxZQUNSeFksS0FBS3dZLFVBQVksSUFBSSxHQUVoQnhZLEtBQUt3WSxVQUdkLFNBQVVDLEVBQVNDLEdBRWpCLE9BREExWSxLQUFLc1ksT0FBT2xYLEtBQUssQ0FBRXFYLFVBQVNDLFNBQ3JCMVksS0FHVCxnQkFBaUIwWSxHQUVmLE9BREExWSxLQUFLMlksaUJBQW1CRCxFQUNqQjFZLEtBR1QsU0FBVTRZLEdBQ1JDLFFBQVFDLFVBQVUsS0FBTSxLQUFNRixHQUM5QjVZLEtBQUsrWSxRQUdQLGNBQ0UsTUFBTUMsR0ErQ1VOLEVBL0NlclcsT0FBTzRXLFNBQVNDLFNBZ0QxQ0MsVUFBVVQsR0FDZHJiLFFBQVEscUJBQXNCLElBQzlCQSxRQUFRLFVBQVcsSUFDbkJBLFFBQVEsUUFBUyxJQUNqQkEsUUFBUSxPQUFRLEtBTHJCLElBQW9CcWIsRUE5Q2hCLElBQUlqYixFQUVKLElBQUssTUFBTXNiLEtBQVMvWSxLQUFLc1ksT0FFdkIsR0FEQTdhLEVBQVF1YixFQUFhdmIsTUFBTXNiLEVBQU1OLFNBQzdCaGIsRUFBTyxDQUNUdUMsS0FBSytOLFdBQWEvTixLQUFLb1osV0FBV0wsRUFBTUwsS0FBTWpiLEdBQzlDLE1BSUNBLElBQ0h1QyxLQUFLK04sV0FBYS9OLEtBQUtvWixXQUFXcFosS0FBSzJZLG1CQU0zQyxpQkFBa0JELEVBQU1qYixHQUNsQnVDLEtBQUsrTixNQUFRL04sS0FBSytOLEtBQUtzTCxTQUN6QnJaLEtBQUsrTixLQUFLc0wsVUFHWnJaLEtBQUsrTixXQ3pETXRNLGVBQTJCaVgsRUFBTWpiLEdBQzlDLE1BQVE2YixRQUFTQyxTQUFlLE1BQWtDLEtBQVliLGNBQ3hFM0ssRUFBTyxJQUFJd0wsRUFBSzliLEdBQ2hCK2IsUUFBcUJ6TCxFQUFLaEksU0FFMUIwVCxFQUFjOWMsU0FBUytjLGVBQWUsV0FDNUNELEVBQVkxYyxVQUFZLEdBQ3hCMGMsRUFBWWxZLE9BQU9pWSxHRGtEQ0csQ0FBV2pCLEVBQU1qYixHQUdyQyxjQUNFNEUsT0FBT3BCLGlCQUFpQixXQUFZLElBQU1qQixLQUFLK1ksU0FDL0MvWSxLQUFLK1ksUUFHUCxjQUFlelcsR0FDYixNQUFNa0MsRUFBT2xDLEVBQU11SCxPQUFPNkksUUFBUSxLQUVsQyxJQUFLbE8sRUFDSCxPQUdGLE1BQU1vVSxFQUFPcFUsRUFBS29WLGFBQWEsUUFFM0JoQixJQUFTQSxFQUFLaUIsV0FBVyxNQUFRakIsRUFBS2lCLFdBQVcsU0FDbkR2WCxFQUFNd1gsaUJBQ045WixLQUFLK1osU0FBU25CLEssTUVsRUwsRUFBT29CLFdBR25CQyxTQUFTLEtBQU0sYUFDZkEsU0FBUyxlQUFnQixjQUN6QkEsU0FBUyx5QkFBMEIsaUJBQ25DQSxTQUFTLGtCQUFtQixpQkFDNUJBLFNBQVMsYUFBYyxZQUN2QkMsZ0JBQWdCLFlBQ2hCeFIsY0FHSHJHLE9BQU84WCxlQUFlQyxPQUFPLGNBQWUsR0FDNUMvWCxPQUFPOFgsZUFBZUMsT0FBTyxlQUFnQmpPLEVBQUEsR0FDN0M5SixPQUFPOFgsZUFBZUMsT0FBTyxlQUFnQixHQUM3Qy9YLE9BQU84WCxlQUFlQyxPQUFPLGlCQUFrQnZNLEVBQUEsR0FDL0N4TCxPQUFPOFgsZUFBZUMsT0FBTyxpQkFBa0J0RCxFQUFlLENBQUV1RCxRQUFTIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3Nob3AtYWRtaW4tcGFnZS9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDM1KTtcbiIsIi8vIG5pY2Ugb3ZlcnZpZXc6XG4vLyBodHRwczovL2dycnIudGVjaC9wb3N0cy9jcmVhdGUtZG9tLW5vZGUtZnJvbS1odG1sLXN0cmluZy9cblxuLy8gbm8gSUUxMVxuY29uc3Qgc3VwcG9ydHNUZW1wbGF0ZSA9ICdjb250ZW50JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gc3VwcG9ydHNUZW1wbGF0ZVxuICA/IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuICA6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIGRpdi5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtZW50O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXNjYXBlSFRNTCAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICAucmVwbGFjZSgvJi9nLCAnJicpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpXG4gICAgLnJlcGxhY2UoLzwvZywgJzwnKVxuICAgIC5yZXBsYWNlKC8+L2csICc+Jyk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaWxsVGVtcGxhdGUgKHsgdG1wbCwgZGF0YSB9KSB7XG4gIGlmICghdG1wbCB8fCAhZGF0YSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiB0bXBsLnJlcGxhY2UoL3soW15cIl17MSx9KX0vZywgKG1hdGNoLCBzdHIpID0+IHtcbiAgICBpZiAoZGF0YVtzdHJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBkYXRhW3N0cl07XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXREYXRlIChzdHIpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHN0cikudG9EYXRlU3RyaW5nKCk7XG4gIGNvbnN0IGRhdGFQYXJ0cyA9IGRhdGUuc3BsaXQoJyAnKTtcbiAgY29uc3QgbW9udGggPSBkYXRhUGFydHNbMV07XG4gIGNvbnN0IGRheSA9IGRhdGFQYXJ0c1syXTtcbiAgY29uc3QgeWVhciA9IGRhdGFQYXJ0c1szXTtcblxuICByZXR1cm4gYCR7bW9udGh9ICR7ZGF5fSwgJHt5ZWFyfWA7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRUb3RhbCAobnVtKSB7XG4gIGxldCBmb3JtYXR0ZWQgPSBudW07XG4gIGlmIChudW0gPj0gMTAwMCkge1xuICAgIGNvbnN0IHRhaWwgPSBudW0gJSAxMDAwO1xuICAgIGZvcm1hdHRlZCA9IGAkeyhudW0gLSB0YWlsKSAvIDEwMDB9LCR7dGFpbH1gO1xuICB9XG5cbiAgcmV0dXJuIGAkJHtmb3JtYXR0ZWR9YDtcbn1cbiIsIi8vIERpcnR5IHdheSB0byBnZXQgd2Vla2RheXMgaW4gY3VycmVudCBsYW5nXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXZWVrRGF5cyAodGFnKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgxOTcwLCAwLCA1KTtcbiAgbGV0IHdlZWtkYXlzU3RyID0gJyc7XG4gIGxldCBjb3VudGVyID0gMDtcblxuICB3aGlsZSAoY291bnRlciA8IDcpIHtcbiAgICBjb25zdCBkYXluYW1lID0gZGF0ZS50b0xvY2FsZVN0cmluZygnZGVmYXVsdCcsIHsgd2Vla2RheTogJ25hcnJvdycgfSk7XG4gICAgd2Vla2RheXNTdHIgKz0gYDwke3RhZ30+JHtkYXluYW1lfTwvJHt0YWd9PmA7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgY291bnRlcisrO1xuICB9XG5cbiAgcmV0dXJuIHdlZWtkYXlzU3RyO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyb3R0bGUgKGZ1bmMsIGNvbnRleHQsIHRpbWVvdXQpIHtcbiAgbGV0IGFyZ3M7XG4gIGxldCBpc1dhaXRpbmcgPSBmYWxzZTtcbiAgbGV0IGlzRmlyc3RDYWxsID0gdHJ1ZTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICBpZiAoaXNGaXJzdENhbGwpIHtcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgLi4uYXJncyk7XG4gICAgICBpc0ZpcnN0Q2FsbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNXYWl0aW5nKSB7XG4gICAgICBpc1dhaXRpbmcgPSB0cnVlO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCAuLi5hcmdzKTtcbiAgICAgICAgaXNXYWl0aW5nID0gZmFsc2U7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5jb25zdCBjbHMgPSB7XG4gIGVsZW06ICdub3RpZmljYXRpb24nLFxuICB3YXJuaW5nOiAnbm90aWZpY2F0aW9uLS13YXJuaW5nJyxcbiAgZXJyb3I6ICdub3RpZmljYXRpb24tLWVycm9yJ1xufTtcblxuY29uc3Qgc2Vjb25kID0gMTAwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgY29uc3RydWN0b3IgKHsgbWVzc2FnZSwgY29udGFpbmVyLCB0eXBlIH0pIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMuZ2V0RHVyYXRpb24oKTtcbiAgICB0aGlzLmNsYXNzTmFtZXMgPSB0aGlzLmdldENsYXNzZXMoKTtcbiAgICB0aGlzLmFkZEVsZW0oKTtcbiAgICB0aGlzLmlzRmluaXNoZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGFkZEVsZW0gKCkge1xuICAgIHRoaXMuZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKC4uLnRoaXMuY2xhc3NOYW1lcyk7XG4gICAgdGhpcy5lbGVtLmRhdGFzZXQuc3RhdGUgPSAnc2hvd24nO1xuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB0aGlzLm1lc3NhZ2U7XG4gICAgdGhpcy5jb250YWluZXIucHJlcGVuZCh0aGlzLmVsZW0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuaGlkZUVsZW0oKTsgfSwgdGhpcy5kdXJhdGlvbik7XG4gIH1cblxuICBhc3luYyBoaWRlRWxlbSAocGFyYW1zID0ge30pIHtcbiAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xuICAgIHRoaXMuZWxlbS5kYXRhc2V0LnN0YXRlID0gJ2hpZGRlbic7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbGVtLnJlbW92ZSgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldER1cmF0aW9uICgpIHtcbiAgICBpZiAodGhpcy50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICByZXR1cm4gNSAqIHNlY29uZDtcbiAgICB9XG5cbiAgICByZXR1cm4gMyAqIHNlY29uZDtcbiAgfVxuXG4gIGdldENsYXNzZXMgKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbY2xzLmVsZW1dO1xuXG4gICAgaWYgKHRoaXMudHlwZSAmJiBjbHNbdGhpcy50eXBlXSkge1xuICAgICAgY2xhc3Nlcy5wdXNoKGNsc1t0aGlzLnR5cGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NlcztcbiAgfVxufVxuIiwiaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL05vdGlmaWNhdGlvbi9pbmRleC5qcyc7XG5cbmNvbnN0IG5vdGlmQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5ub3RpZkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb25zJyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZChub3RpZkNvbnRhaW5lcik7XG5cbmxldCBub3RpZmljYXRpb25zID0gW107XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeSAobWVzc2FnZSwgdHlwZSkge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKHtcbiAgICBtZXNzYWdlLFxuICAgIGNvbnRhaW5lcjogbm90aWZDb250YWluZXIsXG4gICAgdHlwZVxuICB9KTtcblxuICBub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcblxuICBpZiAobm90aWZpY2F0aW9uLmVsZW0ub2Zmc2V0VG9wIDwgMCkge1xuICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmZpbHRlcihub3RpZmljYXRpb24gPT4ge1xuICAgICAgcmV0dXJuICFub3RpZmljYXRpb24uaXNGaW5pc2hlZDtcbiAgICB9KTtcbiAgICBub3RpZmljYXRpb25zLnNoaWZ0KCkuaGlkZUVsZW0oKTtcbiAgfVxufVxuIiwiLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vaWxpYWthbi9kZDZhZDBkYWRiNjYzMDU0NGQxMTg3YzRjOTRjY2Y0MFxuaW1wb3J0IG5vdGlmaWVyIGZyb20gJy4uL2xpYi9ub3RpZmllci5qcyc7XG5cbi8vIGNvbnNvbGUuY2xlYXIoKTtcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGZldGNoSlNPTiAodXJsKSB7XG4gIGxldCByZXNwb25zZTtcblxuICAvLyBFcnJvciB3aGlsZSBsb2FkaW5nIChiYWQgdXJsIG9yIGNvbm5lY3Rpb24pXG4gIHRyeSB7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBGZXRjaEVycm9yKHJlc3BvbnNlLCBudWxsLCBgTmV0d29yayBlcnJvciBmb3IgdXJsICR7dXJsfWApO1xuICB9XG5cbiAgLy8gQmFkIHJlc3BvbnNlIGZyb20gc2VydmVyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICBsZXQgYm9keTtcbiAgICBjb25zdCBzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcblxuICAgIHRyeSB7XG4gICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgLy8gY2FuJ3QgcmVwcm9kdWNlIGdldHRpbmcgYm9keSB3aXRoIG5vdCBvayBzdGF0dXNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBsZXQgbWVzc2FnZSA9IGBFcnJvciAke3Jlc3BvbnNlLnN0YXR1c30gZm9yIHVybCAke3VybH1gO1xuXG4gICAgaWYgKHN0YXR1c1RleHQpIHtcbiAgICAgIG1lc3NhZ2UgKz0gYDogJHtzdGF0dXNUZXh0fWA7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEZldGNoRXJyb3IocmVzcG9uc2UsIGJvZHksIG1lc3NhZ2UpO1xuICB9XG5cbiAgLy8gUmVzcG9uc2UgaXMgY29ycmVjdCwgdHJ5IHRvIGdldCBkYXRhXG4gIHRyeSB7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEZldGNoRXJyb3IocmVzcG9uc2UsIG51bGwsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5jbGFzcyBGZXRjaEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvciAocmVzcG9uc2UsIGJvZHksIG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnRmV0Y2hFcnJvcic7XG5cbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxufVxuXG4vLyBoYW5kbGUgdW5jYXVnaHQgZmFpbGVkIGZldGNoIHRocm91Z2hcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCBldmVudCA9PiB7XG4gIGlmIChldmVudC5yZWFzb24gaW5zdGFuY2VvZiBGZXRjaEVycm9yKSB7XG4gICAgbm90aWZpZXIoZXZlbnQucmVhc29uLm1lc3NhZ2UsICdlcnJvcicpO1xuICB9XG59KTtcbiIsImltcG9ydCBjcmVhdGVFbGVtZW50IGZyb20gJy4vY3JlYXRlRWxlbWVudC5qcyc7XG5pbXBvcnQgZXNjYXBlSFRNTCBmcm9tICcuL2VzY2FwZUhUTUwuanMnO1xuaW1wb3J0IGZpbGxUZW1wbGF0ZSBmcm9tICcuL2ZpbGxUZW1wbGF0ZS5qcyc7XG5pbXBvcnQgZm9ybWF0RGF0ZSBmcm9tICcuL2Zvcm1hdERhdGUuanMnO1xuaW1wb3J0IGZvcm1hdFRvdGFsIGZyb20gJy4vZm9ybWF0VG90YWwuanMnO1xuaW1wb3J0IGdldERhdGVGcm9tU3RyaW5nIGZyb20gJy4vZ2V0RGF0ZUZyb21TdHJpbmcuanMnO1xuaW1wb3J0IGdldFdlZWtEYXlzIGZyb20gJy4vZ2V0V2Vla0RheXMuanMnO1xuaW1wb3J0IHRocm90dGxlIGZyb20gJy4vdGhyb3R0bGUuanMnO1xuaW1wb3J0IGZldGNoSnNvbiBmcm9tICcuL2ZldGNoSnNvbi5qcyc7XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZUVsZW1lbnQsXG4gIGVzY2FwZUhUTUwsXG4gIGZpbGxUZW1wbGF0ZSxcbiAgZm9ybWF0RGF0ZSxcbiAgZm9ybWF0VG90YWwsXG4gIGdldERhdGVGcm9tU3RyaW5nLFxuICBnZXRXZWVrRGF5cyxcbiAgdGhyb3R0bGUsXG4gIGZldGNoSnNvblxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZm9ybTogJ3Byb2R1Y3QtZm9ybScsXG4gIGxpc3Q6ICdwcm9kdWN0LWZvcm1fX2xpc3QnLFxuICBpdGVtOiAncHJvZHVjdC1mb3JtX19pdGVtJyxcbiAgaXRlbVRpbnk6ICdwcm9kdWN0LWZvcm1fX2l0ZW0tLXRpbnknLFxuICBpdGVtRm9sbG93OiAncHJvZHVjdC1mb3JtX19pdGVtLS1mb2xsb3cnLFxuICBpdGVtRnVsbDogJ3Byb2R1Y3QtZm9ybV9faXRlbS0tZnVsbCcsXG4gIGxhYmVsOiAncHJvZHVjdC1mb3JtX19sYWJlbCcsXG4gIGlucHV0OiAncHJvZHVjdC1mb3JtX19pbnB1dCcsXG4gIGlucHV0VGV4dDogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLXRleHQnLFxuICBpbnB1dE51bWJlcjogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLW51bWJlcicsXG4gIGlucHV0U2VsZWN0OiAncHJvZHVjdC1mb3JtX19pbnB1dC0tc2VsZWN0JyxcbiAgaW5wdXRUZXh0YXJlYTogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLXRleHRhcmVhJyxcbiAgaW1nc0xpc3Q6ICdwcm9kdWN0LWZvcm1fX2ltYWdlcy1saXN0JyxcbiAgaW1nc0l0ZW06ICdwcm9kdWN0LWZvcm1fX2ltYWdlcy1pdGVtJyxcbiAgaW1nOiAncHJvZHVjdC1mb3JtX19pbWFnZScsXG4gIGltZ1dyYXBwZXI6ICdwcm9kdWN0LWZvcm1fX2ltYWdlLXdyYXBwZXInLFxuICBpbWdTb3VyY2U6ICdwcm9kdWN0LWZvcm1fX2ltYWdlLXNvdXJjZScsXG4gIGltZ1JlbW92ZTogJ3Byb2R1Y3QtZm9ybV9faW1hZ2UtcmVtb3ZlJyxcbiAgcHJldmlldzogJ3Byb2R1Y3QtZm9ybV9fcHJldmlldycsXG4gIGZvb3RlcjogJ3Byb2R1Y3QtZm9ybV9fZm9vdGVyJyxcbiAgc3VibWl0OiAncHJvZHVjdC1mb3JtX19zdWJtaXQnXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBlbGVtOiAnc29ydGFibGUtdGFibGUnLFxuICB0YWJsZTogJ3NvcnRhYmxlLXRhYmxlX190YWJsZScsXG4gIHRoZWFkOiAnc29ydGFibGUtdGFibGVfX3RoZWFkJyxcbiAgaGVhZGVyOiAnc29ydGFibGUtdGFibGVfX2hlYWRlcicsXG4gIHJvdzogJ3NvcnRhYmxlLXRhYmxlX19yb3cnLFxuICBjZWxsOiAnc29ydGFibGUtdGFibGVfX2NlbGwnLFxuICBjZWxsRXJyb3I6ICdzb3J0YWJsZS10YWJsZV9fY2VsbC0tZXJyb3InLFxuICBjZWxsU29ydGVyOiAnc29ydGFibGUtdGFibGVfX2NlbGwtLXNvcnRlcicsXG4gIGltZzogJ3NvcnRhYmxlLXRhYmxlX19pbWFnZScsXG4gIGltZ1dyYXBwZXI6ICdzb3J0YWJsZS10YWJsZV9faW1hZ2Utd3JhcHBlcicsXG4gIHByZXZpZXc6ICdzb3J0YWJsZS10YWJsZV9fcHJldmlldycsXG4gIGxpbms6ICdzb3J0YWJsZS10YWJsZV9fbGluaycsXG4gIGNhdGVnb3J5OiAnc29ydGFibGUtdGFibGVfX2NhdGVnb3J5JyxcbiAgdG9vbHRpcENhdGVnb3J5OiAnc29ydGFibGUtdGFibGVfX3Rvb2x0aXAtY2F0ZWdvcnknLFxuICB0b29sdGlwU3ViY2F0ZWdvcnk6ICdzb3J0YWJsZS10YWJsZV9fdG9vbHRpcC1zdWJjYXRlZ29yeSdcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGVsZW06ICdjb2x1bW4tY2hhcnQnLFxuICBjb250ZW50OiAnY29sdW1uLWNoYXJ0X19jb250ZW50JyxcbiAgaGVhZGVyOiAnY29sdW1uLWNoYXJ0X19oZWFkZXInLFxuICB0aXRsZTogJ2NvbHVtbi1jaGFydF9fdGl0bGUnLFxuICB0b3RhbDogJ2NvbHVtbi1jaGFydF9fdG90YWwnLFxuICBsaXN0OiAnY29sdW1uLWNoYXJ0X19saXN0JyxcbiAgaXRlbTogJ2NvbHVtbi1jaGFydF9faXRlbScsXG4gIHRvb2x0aXA6ICdjb2x1bW4tY2hhcnRfX3Rvb2x0aXAnLFxuICB0b29sdGlwRGF0ZTogJ2NvbHVtbi1jaGFydF9fdG9vbHRpcC1kYXRlJyxcbiAgdG9vbHRpcFF1YW50aXR5OiAnY29sdW1uLWNoYXJ0X190b29sdGlwLXF1YW50aXR5JyxcbiAgZXJyb3I6ICdjb2x1bW4tY2hhcnRfX2Vycm9yJ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ2NhdGVnb3JpZXMnLFxuICBsaXN0OiAnY2F0ZWdvcmllc19fbGlzdCcsXG4gIGxpc3RUb3A6ICdjYXRlZ29yaWVzX19saXN0LS10b3BjYXRlZ29yaWVzJyxcbiAgbGlzdFN1YmNhdHM6ICdjYXRlZ29yaWVzX19saXN0LS1zdWJjYXRlZ29yaWVzJyxcbiAgaXRlbTogJ2NhdGVnb3JpZXNfX2l0ZW0nLFxuICBpdGVtVG9wOiAnY2F0ZWdvcmllc19faXRlbS0tdG9wY2F0ZWdvcnknLFxuICBpdGVtU3ViOiAnY2F0ZWdvcmllc19faXRlbS0tc3ViY2F0ZWdvcnknLFxuICBpdGVtT3BlbjogJ2NhdGVnb3JpZXNfX2l0ZW0tLW9wZW4nLFxuICB0b2dnbGVyOiAnY2F0ZWdvcmllc19fdG9nZ2xlcicsXG4gIGNvdW50ZXI6ICdjYXRlZ29yaWVzX19jb3VudGVyJ1xufTtcbiIsImltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGNvbnN0IGhlYWRlciA9IGA8aGVhZGVyIGNsYXNzPVwicGFnZS1jb250ZW50X19oZWFkZXJcIj5cbiAgPGgyIGNsYXNzPVwicGFnZS1jb250ZW50X190aXRsZVwiPlxuICA8YSBocmVmPVwiL3Byb2R1Y3RzXCI+UHJvZHVjdHM8L2E+XG4gIC9FZGl0IFByb2R1Y3Q8L2gyPlxuPC9oZWFkZXI+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0VGV4dCA9IGA8bGFiZWwgY2xhc3M9XCIke2Nscy5sYWJlbH1cIj5cbiAge2ZpZWxkTmFtZX1cblxuICA8aW5wdXRcbiAgICBjbGFzcz1cIiR7Y2xzLmlucHV0fSAke2Nscy5pbnB1dFRleHR9XCJcbiAgICB0eXBlPVwidGV4dFwiXG4gICAgbmFtZT1cIntpZH1cIlxuICAgIHZhbHVlPVwie3ZhbHVlfVwiLz5cbjwvbGFiZWw+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0TnVtYmVyID0gYDxsYWJlbCBjbGFzcz1cIiR7Y2xzLmxhYmVsfVwiPlxuICB7ZmllbGROYW1lfVxuXG4gIDxpbnB1dFxuICAgIGNsYXNzPVwiJHtjbHMuaW5wdXR9ICR7Y2xzLmlucHV0TnVtYmVyfVwiXG4gICAgdHlwZT1cIm51bWJlclwiXG4gICAgbmFtZT1cIntpZH1cIlxuICAgIHZhbHVlPVwie3ZhbHVlfVwiLz5cbjwvbGFiZWw+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0VGV4dGFyZWEgPSBgPGxhYmVsIGNsYXNzPVwiJHtjbHMubGFiZWx9XCI+XG4gIHtmaWVsZE5hbWV9XG5cbiAgPHRleHRhcmVhXG4gICAgY2xhc3M9XCIke2Nscy5pbnB1dH0gJHtjbHMuaW5wdXRUZXh0YXJlYX1cIlxuICAgIG5hbWU9XCJ7aWR9XCI+e3ZhbHVlfTwvdGV4dGFyZWE+XG48L2xhYmVsPmA7XG5cbmV4cG9ydCBjb25zdCBpbnB1dFNlbGVjdCA9IGA8bGFiZWwgY2xhc3M9XCIke2Nscy5sYWJlbH1cIj5cbiAge2ZpZWxkTmFtZX1cblxuICA8c2VsZWN0XG4gICAgY2xhc3M9XCIke2Nscy5pbnB1dH0gJHtjbHMuaW5wdXRTZWxlY3R9XCJcbiAgICBuYW1lPVwie2lkfVwiPlxuICAgIHtvcHRpb25zfVxuICA8L3NlbGVjdD5cbjwvbGFiZWw+YDtcbiIsImltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IgKHsgdGl0bGUsIHRleHQsIGNhbGxiYWNrLCBjYWxsYmFja1RleHQsIGVycm9yIH0pIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy50ZXh0ID0gdGV4dCB8fCAnU29tZXRoaW5nIHdlbnQgd3JvbmcnO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmNhbGxiYWNrVGV4dCA9IGNhbGxiYWNrVGV4dDtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG5cbiAgICBpZiAoIXRoaXMudGl0bGUgJiYgdGhpcy5lcnJvcikge1xuICAgICAgdGhpcy50aXRsZSA9ICdFcnJvcic7XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50ICgpIHtcbiAgICB0aGlzLmVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgncGFnZS1tZXNzYWdlJyk7XG5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3BhZ2UtbWVzc2FnZS0tZXJyb3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnQgPSBgPGgzPiR7dGhpcy50aXRsZX08L2gzPjxwPiR7dGhpcy50ZXh0fTwvcD5gO1xuXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHRoaXMuY29udGVudCArPSBgPGRpdiBjbGFzcz1cInBhZ2UtbWVzc2FnZV9fZXJyb3JcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2UtbWVzc2FnZV9fZXJyb3ItdGV4dFwiPlxuICAgICAgICAgIDxzdHJvbmc+JHt0aGlzLmVycm9yLm5hbWV9PC9zdHJvbmc+OiAke3RoaXMuZXJyb3IubWVzc2FnZX08L2Rpdj5cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJCZWdpbicsIHRoaXMuY29udGVudCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGZvcm1hdFRvdGFsLCBlc2NhcGVIVE1MIH0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgc3RhdHVzVGV4dCBmcm9tICcuL3N0YXR1c1RleHQuanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG4vLyBJbmZvICYgc29ydGluZyBtZXRob2RzIGZvciB0YWJsZSBjb2x1bW5zXG5leHBvcnQgZGVmYXVsdCB7XG4gIGltYWdlczoge1xuICAgIHRpdGxlOiAnSW1hZ2UnLFxuICAgIHJlbmRlciAoeyBpbWFnZXMgfSkge1xuICAgICAgaWYgKCFpbWFnZXMgfHwgIWltYWdlc1swXS51cmwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3JjID0gaW1hZ2VzWzBdLnVybDtcbiAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIiR7Y2xzLmltZ1dyYXBwZXJ9XCI+XG4gICAgICA8aW1nIHNyYz1cIiR7c3JjfVwiIGNsYXNzPVwiJHtjbHMuaW1nfVwiPlxuICAgICAgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtzcmN9KVwiIGNsYXNzPVwiJHtjbHMucHJldmlld31cIj48c3Bhbj5cbiAgICAgIDxkaXY+YDtcbiAgICB9LFxuICAgIGNvbXBhcmU6IG51bGxcbiAgfSxcbiAgdGl0bGU6IHtcbiAgICB0aXRsZTogJ05hbWUnLFxuICAgIHJlbmRlciAoeyB0aXRsZSwgaWQgfSkge1xuICAgICAgcmV0dXJuIGBcbiAgICAgICR7dGl0bGV9XG4gICAgICA8YSBjbGFzcz1cIiR7Y2xzLmxpbmt9XCIgaHJlZj1cIi4vcHJvZHVjdHMvJHtpZH1cIj48L2E+XG4gICAgICBgO1xuICAgIH0sXG4gICAgY29tcGFyZSAoYSwgYikge1xuICAgICAgcmV0dXJuIGEudGl0bGUubG9jYWxlQ29tcGFyZShiLnRpdGxlKTtcbiAgICB9XG4gIH0sXG4gIHN1YmNhdGVnb3J5OiB7XG4gICAgdGl0bGU6ICdDYXRlZ29yeScsXG4gICAgcmVuZGVyICh7IHN1YmNhdGVnb3J5IH0pIHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gc3ViY2F0ZWdvcnkuY2F0ZWdvcnk7XG4gICAgICBjb25zdCB0b290aXBDb250ZW50ID0gYDxzcGFuIGNsYXNzPVwiJHtjbHMudG9vbHRpcENhdGVnb3J5fVwiPiR7Y2F0ZWdvcnkudGl0bGV9PC9zcGFuPi88c3BhbiBjbGFzcz1cIiR7Y2xzLnRvb2x0aXBTdWJjYXRlZ29yeX1cIj4ke3N1YmNhdGVnb3J5LnRpdGxlfTwvc3Bhbj5gO1xuICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cIiR7Y2xzLmNhdGVnb3J5fVwiIGRhdGEtdG9vbHRpcC1jb250ZW50PVwiJHtlc2NhcGVIVE1MKHRvb3RpcENvbnRlbnQpfVwiPiR7c3ViY2F0ZWdvcnkudGl0bGV9PC9zcGFuPmA7XG4gICAgfSxcbiAgICBjb21wYXJlIChhLCBiKSB7XG4gICAgICAvLyBTb3J0aW5nIGJ5IHJ1c3NpYW4gdGl0bGVzXG4gICAgICBjb25zdCBhQ2F0TmFtZSA9IGEuc3ViY2F0ZWdvcnkudGl0bGU7XG4gICAgICBjb25zdCBiQ2F0TmFtZSA9IGIuc3ViY2F0ZWdvcnkudGl0bGU7XG4gICAgICByZXR1cm4gYUNhdE5hbWUubG9jYWxlQ29tcGFyZShiQ2F0TmFtZSk7XG4gICAgfVxuICB9LFxuICBxdWFudGl0eToge1xuICAgIHRpdGxlOiAnUXVhbnRpdHknLFxuICAgIHJlbmRlciAoeyBxdWFudGl0eSB9KSB7XG4gICAgICByZXR1cm4gcXVhbnRpdHk7XG4gICAgfSxcbiAgICBjb21wYXJlIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5xdWFudGl0eSAtIGIucXVhbnRpdHk7XG4gICAgfVxuICB9LFxuICBwcmljZToge1xuICAgIHRpdGxlOiAnUHJpY2UnLFxuICAgIHJlbmRlciAoeyBwcmljZSB9KSB7XG4gICAgICByZXR1cm4gZm9ybWF0VG90YWwocHJpY2UpO1xuICAgIH0sXG4gICAgY29tcGFyZSAoYSwgYikge1xuICAgICAgcmV0dXJuIGEucHJpY2UgLSBiLnByaWNlO1xuICAgIH1cbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdGl0bGU6ICdTdGF0dXMnLFxuICAgIHJlbmRlciAoeyBzdGF0dXMgfSkge1xuICAgICAgcmV0dXJuIHN0YXR1c1RleHRbc3RhdHVzXTtcbiAgICB9LFxuICAgIGNvbXBhcmUgKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnN0YXR1cyAtIGIuc3RhdHVzO1xuICAgIH1cbiAgfVxufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIDA6ICdEaXNhYmxlZCcsXG4gIDE6ICdFbmFibGVkJ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ3Rvb2x0aXBzLWNvbnRhaW5lcicsXG4gIGRpbW1lZDogJ3Rvb2x0aXBzLWNvbnRhaW5lci0tZGltbWVkJyxcbiAgdG9vbHRpcDogJ3Rvb2x0aXAnXG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcHMge1xuICBjb25zdHJ1Y3RvciAoeyBlbGVtLCBkaW1TaWJsaW5ncyB9KSB7XG4gICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZChjbHMuZWxlbSk7XG4gICAgdGhpcy5kaW1TaWJsaW5ncyA9IGRpbVNpYmxpbmdzO1xuXG4gICAgdGhpcy50b29sdGlwID0gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cIiR7Y2xzLnRvb2x0aXB9XCI+PC9kaXY+YCk7XG4gICAgdGhpcy5lbGVtLmFwcGVuZCh0aGlzLnRvb2x0aXApO1xuXG4gICAgdGhpcy5saXN0TW91c2VNb3ZlID0gdGhpcy5saXN0TW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5saXN0TW91c2VPdXQgPSB0aGlzLmxpc3RNb3VzZU91dC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubGlzdE1vdXNlTW92ZSk7XG4gICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmxpc3RNb3VzZU91dCk7XG4gIH1cblxuICBsaXN0TW91c2VNb3ZlICgpIHtcbiAgICBpZiAoIWV2ZW50LnRhcmdldC5kYXRhc2V0LnRvb2x0aXBDb250ZW50KSB7XG4gICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyB0b29sdGlwQ29udGVudCB9ID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQ7XG4gICAgdGhpcy50b29sdGlwLmlubmVySFRNTCA9IHRvb2x0aXBDb250ZW50O1xuICAgIHRoaXMudG9vbHRpcC5kYXRhc2V0LnZpc2libGUgPSAxO1xuXG4gICAgLy8gUGFyZW50IGNvbnRhaW5lciBjb29yZHNcbiAgICB0aGlzLmVsZW1Db29yZHMgPSB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHRoaXMuZWxlbUNvb3Jkcy54LFxuICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHRoaXMuZWxlbUNvb3Jkcy55XG4gICAgfTtcblxuICAgIHRoaXMudG9vbHRpcC5zdHlsZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2Nvb3Jkcy54fXB4LCAke2Nvb3Jkcy55fXB4KWA7XG5cbiAgICAvLyBGaXggY3V0dGluZyBieSB3aW5kb3dcbiAgICB0aGlzLnRvb2x0aXBDb29yZHMgPSB0aGlzLnRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgaGlkZGVuQnlXaW5kb3cgPSB0aGlzLnRvb2x0aXBDb29yZHMucmlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cbiAgICBpZiAoaGlkZGVuQnlXaW5kb3cgPiAwKSB7XG4gICAgICBjb29yZHMueCAtPSBoaWRkZW5CeVdpbmRvdztcbiAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2Nvb3Jkcy54fXB4LCAke2Nvb3Jkcy55fXB4KWA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGltU2libGluZ3MpIHtcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKGNscy5kaW1tZWQpO1xuICAgIH1cbiAgfVxuXG4gIGxpc3RNb3VzZU91dCAoKSB7XG4gICAgaWYgKCFldmVudC50YXJnZXQuZGF0YXNldC50b29sdGlwQ29udGVudCkge1xuICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVUb29sdGlwICgpIHtcbiAgICB0aGlzLnRvb2x0aXAuZGF0YXNldC52aXNpYmxlID0gMDtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbHMuZGltbWVkKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAwOiAnZGVzYycsXG4gIDE6ICdhc2MnXG59O1xuIiwiaW1wb3J0IGRpcmVjdGlvbnMgZnJvbSAnLi9kaXJlY3Rpb25zLmpzJztcblxuZXhwb3J0IGNvbnN0IGdldERpcmVjdGlvblRleHQgPSBpc0FzYyA9PiB7XG4gIHJldHVybiBkaXJlY3Rpb25zWytpc0FzY107XG59O1xuIiwiaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG5leHBvcnQgY29uc3QgaGVhZGVyID0gYDxoZWFkZXIgY2xhc3M9XCIke2Nscy5oZWFkZXJ9XCI+XG4gIDxoMyBjbGFzcz1cIiR7Y2xzLnRpdGxlfVwiPnt0aXRsZX08L2gzPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMudG90YWx9XCI+e3RvdGFsfTwvZGl2PlxuPC9oZWFkZXI+YDtcblxuZXhwb3J0IGNvbnN0IGNoYXJ0SXRlbSA9IGA8bGlcbiAgY2xhc3M9XCIke2Nscy5pdGVtfVwiXG4gIGRhdGEtdG9vbHRpcC1jb250ZW50PVwie3Rvb3RpcENvbnRlbnR9XCJcbiAgc3R5bGU9XCJoZWlnaHQ6IHtoZWlnaHR9XCI+PC9saT5gO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGhlYWRlcixcbiAgY2hhcnRJdGVtXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAwOiAnRGlzYWJsZWQnLFxuICAxOiAnRW5hYmxlZCdcbn07XG4iLCJpbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXRlZ29yaWVzVG9GbGF0TGlzdCAoY2F0ZWdvcmllcykge1xuICBjb25zdCBmbGF0TGlzdCA9IFtdO1xuXG4gIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xuICAgIGZvciAoY29uc3Qgc3ViY2F0ZWdvcnkgb2YgY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcykge1xuICAgICAgZmxhdExpc3QucHVzaCh7XG4gICAgICAgIHZhbHVlOiBzdWJjYXRlZ29yeS5pZCxcbiAgICAgICAgdGV4dDogYCR7Y2F0ZWdvcnkudGl0bGV9ID4gJHtzdWJjYXRlZ29yeS50aXRsZX1gXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmxhdExpc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb25zIChsaXN0LCBzZWxlY3RlZCkge1xuICByZXR1cm4gbGlzdFxuICAgIC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0udmFsdWUgfHwgaW5kZXg7XG4gICAgICBjb25zdCB0ZXh0ID0gaXRlbS50ZXh0IHx8IGl0ZW07XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gdmFsdWUgPT09IHNlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICcnO1xuXG4gICAgICByZXR1cm4gYDxvcHRpb24gdmFsdWU9XCIke3ZhbHVlfVwiICR7aXNTZWxlY3RlZH0+JHt0ZXh0fTwvb3B0aW9uPmA7XG4gICAgfSlcbiAgICAuam9pbignJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWdzTGlzdE1hcmt1cCAoaW1hZ2VzKSB7XG4gIGNvbnN0IGltYWdlc0l0ZW1zID0gaW1hZ2VzXG4gICAgLm1hcChpdGVtID0+IHtcbiAgICAgIHJldHVybiBgPGxpIGNsYXNzPVwiJHtjbHMuaW1nc0l0ZW19XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCIke2Nscy5pbWdXcmFwcGVyfVwiPlxuICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnVybH1cIiBjbGFzcz1cIiR7Y2xzLmltZ31cIj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgke2l0ZW0udXJsfSlcIiBjbGFzcz1cIiR7Y2xzLnByZXZpZXd9XCI+PHNwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzcz1cIiR7Y2xzLmltZ1NvdXJjZX1cIj4ke2l0ZW0uc291cmNlfTwvc3Bhbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke2Nscy5pbWdSZW1vdmV9XCI+UmVtb3ZlPC9idXR0b24+XG4gICAgICA8L2xpPmA7XG4gICAgfSk7XG5cbiAgcmV0dXJuIGAgKyB1cGxvYWRcbiAgICA8dWwgY2xhc3M9XCIke2Nscy5pbWdzTGlzdH1cIiBpcz1cImRyYWdnYWJsZS1saXN0XCI+JHtpbWFnZXNJdGVtcy5qb2luKCcgJyl9PC91bD5gO1xufVxuIiwiaW1wb3J0IHsgaW5wdXRUZXh0LCBpbnB1dE51bWJlciwgaW5wdXRUZXh0YXJlYSwgaW5wdXRTZWxlY3QgfSBmcm9tICcuL3RlbXBsYXRlcy5qcyc7XG5pbXBvcnQgc3RhdHVzVGV4dCBmcm9tICcuL3N0YXR1c1RleHQuanMnO1xuaW1wb3J0IHsgZmlsbFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgeyBjYXRlZ29yaWVzVG9GbGF0TGlzdCwgZ2V0T3B0aW9ucywgZ2V0SW1nc0xpc3RNYXJrdXAgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG4vLyBSZW5kZXJpbmcgbWV0aG9kcyBmb3IgcHJvZHVjdCBpbnB1dHNcbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW1hZ2VzOiB7XG4gICAgcmVuZGVyICh7IGltYWdlcyB9KSB7XG4gICAgICBpZiAoIWltYWdlcykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRJbWdzTGlzdE1hcmt1cChpbWFnZXMpO1xuICAgIH0sXG4gICAgY29tcGFyZTogbnVsbFxuICB9LFxuICB0aXRsZToge1xuICAgIHJlbmRlciAoeyB0aXRsZSB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ3RpdGxlJyxcbiAgICAgICAgZmllbGROYW1lOiAnTmFtZScsXG4gICAgICAgIHZhbHVlOiB0aXRsZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dFRleHQsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZGVzY3JpcHRpb246IHtcbiAgICByZW5kZXIgKHsgZGVzY3JpcHRpb24gfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICdkZXNjcmlwdGlvbicsXG4gICAgICAgIGZpZWxkTmFtZTogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgICAgdmFsdWU6IGRlc2NyaXB0aW9uXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXRUZXh0YXJlYSxcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBzdWJjYXRlZ29yeToge1xuICAgIHJlbmRlciAoeyBjYXRlZ29yaWVzLCBzdWJjYXRlZ29yeSB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ3N1YmNhdGVnb3J5JyxcbiAgICAgICAgZmllbGROYW1lOiAnQ2F0ZWdvcnknLFxuICAgICAgICBvcHRpb25zOiBnZXRPcHRpb25zKGNhdGVnb3JpZXNUb0ZsYXRMaXN0KGNhdGVnb3JpZXMpLCBzdWJjYXRlZ29yeSlcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dFNlbGVjdCxcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBxdWFudGl0eToge1xuICAgIHJlbmRlciAoeyBxdWFudGl0eSB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ3F1YW50aXR5JyxcbiAgICAgICAgZmllbGROYW1lOiAnUXVhbnRpdHknLFxuICAgICAgICB2YWx1ZTogcXVhbnRpdHlcbiAgICAgIH07XG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXROdW1iZXIsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcHJpY2U6IHtcbiAgICByZW5kZXIgKHsgcHJpY2UgfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICdwcmljZScsXG4gICAgICAgIGZpZWxkTmFtZTogJ1ByaWNlJyxcbiAgICAgICAgdmFsdWU6IHByaWNlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0TnVtYmVyLFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGRpc2NvdW50OiB7XG4gICAgcmVuZGVyICh7IGRpc2NvdW50IH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAnZGlzY291bnQnLFxuICAgICAgICBmaWVsZE5hbWU6ICdEaXNjb3VudCcsXG4gICAgICAgIHZhbHVlOiBkaXNjb3VudFxuICAgICAgfTtcbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dE51bWJlcixcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBzdGF0dXM6IHtcbiAgICByZW5kZXIgKHsgc3RhdHVzIH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAnc3RhdHVzJyxcbiAgICAgICAgZmllbGROYW1lOiAnU3RhdHVzJyxcbiAgICAgICAgdmFsdWU6IHN0YXR1cyxcbiAgICAgICAgb3B0aW9uczogZ2V0T3B0aW9ucyhPYmplY3QudmFsdWVzKHN0YXR1c1RleHQpLCBzdGF0dXMpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXRTZWxlY3QsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCBUb29sdGlwcyBmcm9tICcuLi9Ub29sdGlwcy9pbmRleC5qcyc7XG5pbXBvcnQge1xuICBmaWxsVGVtcGxhdGUsXG4gIGZvcm1hdERhdGUsXG4gIGVzY2FwZUhUTUwsXG4gIGZvcm1hdFRvdGFsLFxuICBmZXRjaEpzb25cbn0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5pbXBvcnQgdGVtcGxhdGVzIGZyb20gJy4vdGVtcGxhdGVzLmpzJztcblxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sdW1uQ2hhcnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5hcGlVcmwgPSBwcm9jZXNzLmVudi5BUElfVVJMIHx8ICdodHRwczovL2NvdXJzZS1qcy5qYXZhc2NyaXB0LnJ1JztcblxuICAgIHRoaXMuY2hhbmdlRGF0ZSA9IHRoaXMuY2hhbmdlRGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2sgKCkge1xuICAgIGNvbnN0IHsgdHlwZSwgaXNNb25leSwgZnJvbSwgdG8gfSA9IHRoaXMuZGF0YXNldDtcblxuICAgIHRoaXMuZGF0ZXMgPSB7XG4gICAgICBmcm9tOiBuZXcgRGF0ZShmcm9tKSxcbiAgICAgIHRvOiBuZXcgRGF0ZSh0bylcbiAgICB9O1xuXG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmZvcm1hdFRvdGFsID0gaXNNb25leSA/IGZvcm1hdFRvdGFsIDogbnVsbDtcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW0sIGAke2Nscy5lbGVtfS0tJHt0eXBlfWApO1xuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKGNscy5jb250ZW50KTtcbiAgICB0aGlzLnRpdGxlID0gYFRvdGFsICR7dHlwZX1gO1xuICAgIHRoaXMudXJsID0gdGhpcy5nZXRVcmwoKTtcblxuICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5lbGVtKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZURhdGUnLCB0aGlzLmNoYW5nZURhdGUpO1xuICB9XG5cbiAgZ2V0VXJsICgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5hcGlVcmx9L2FwaS9kYXNoYm9hcmQvJHt0aGlzLnR5cGV9P2Zyb209JHt0aGlzLmRhdGVzLmZyb219JnRvPSR7dGhpcy5kYXRlcy50b31gO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEpzb24odGhpcy51cmwpO1xuICAgICAgcmV0dXJuIHsgZGF0YSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlbmRlciAoKSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5nZXREYXRhKCk7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhpcy5lbGVtLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgYDxkaXYgY2xhc3M9XCIke2Nscy5lcnJvcn1cIj4ke2Vycm9yfTwvZGl2PmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudmFsdWVzID0gT2JqZWN0LnZhbHVlcyh0aGlzLmRhdGEpO1xuXG4gICAgaWYgKHRoaXMudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy52YWx1ZXMucHVzaCgnTm8gZGF0YScpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlclN0ciA9IHRoaXMuZ2V0SGVhZGVyU3RyKCk7XG5cbiAgICBjb25zdCBsaXN0U3RyID0gdGhpcy5nZXRMaXN0U3RyKCk7XG4gICAgdGhpcy5lbGVtLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICdiZWZvcmVFbmQnLFxuICAgICAgaGVhZGVyU3RyICsgbGlzdFN0clxuICAgICk7XG5cbiAgICB0aGlzLmFkZEFjdGlvbnMoKTtcbiAgfVxuXG4gIGdldEhlYWRlclN0ciAoKSB7XG4gICAgdGhpcy50b3RhbCA9IHRoaXMudmFsdWVzLnJlZHVjZSgocHJldiwgY3VycmVudCkgPT4gcHJldiArIGN1cnJlbnQsIDApO1xuXG4gICAgaWYgKHRoaXMuZm9ybWF0VG90YWwpIHtcbiAgICAgIHRoaXMudG90YWwgPSB0aGlzLmZvcm1hdFRvdGFsKHRoaXMudG90YWwpO1xuICAgIH1cblxuICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgdG1wbDogdGVtcGxhdGVzLmhlYWRlcixcbiAgICAgIGRhdGE6IHRoaXNcbiAgICB9KTtcbiAgfVxuXG4gIGdldExpc3RTdHIgKCkge1xuICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KC4uLnRoaXMudmFsdWVzKTtcbiAgICBsZXQgY2hhcnRTdHIgPSAnJztcblxuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZGF0YSkge1xuICAgICAgY29uc3QgZGF0ZSA9IGZvcm1hdERhdGUoa2V5KTtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZGF0YVtrZXldO1xuICAgICAgY29uc3QgaGVpZ2h0VmFsdWUgPSAoKHZhbHVlIC8gbWF4KSAqIDEwMCkudG9GaXhlZCgyKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGAke2hlaWdodFZhbHVlfSVgO1xuXG4gICAgICBpZiAodGhpcy5mb3JtYXRUb3RhbCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuZm9ybWF0VG90YWwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0b290aXBDb250ZW50ID0gYDxzbWFsbCBjbGFzcz1cIiR7Y2xzLnRvb2x0aXBEYXRlfVwiPiR7ZGF0ZX08L3NtYWxsPjxkaXYgY2xhc3M9XCIke2Nscy50b29sdGlwUXVhbnRpdHl9XCI+JHt2YWx1ZX08L2Rpdj5gO1xuXG4gICAgICBjaGFydFN0ciArPSBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiB0ZW1wbGF0ZXMuY2hhcnRJdGVtLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgdG9vdGlwQ29udGVudDogZXNjYXBlSFRNTCh0b290aXBDb250ZW50KVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYDx1bCBjbGFzcz1cIiR7Y2xzLmxpc3R9XCI+JHtjaGFydFN0cn08L3VsPmA7XG4gIH1cblxuICBhZGRBY3Rpb25zICgpIHtcbiAgICB0aGlzLnRvb2x0aXBzID0gbmV3IFRvb2x0aXBzKHtcbiAgICAgIGVsZW06IHRoaXMuZWxlbSxcbiAgICAgIGRpbVNpYmxpbmdzOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBjaGFuZ2VEYXRlIChldmVudCkge1xuICAgIGlmICghZXZlbnQuZGV0YWlsIHx8ICFldmVudC5kZXRhaWwuZGF0ZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSBldmVudC5kZXRhaWwuZGF0ZXM7XG4gICAgdGhpcy5kYXRlcyA9IHtcbiAgICAgIGZyb206IGZyb20sXG4gICAgICB0bzogdG9cbiAgICB9O1xuXG4gICAgdGhpcy51cmwgPSB0aGlzLmdldFVybCgpO1xuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSAnJztcbiAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuYXBwZW5kKHRoaXMuZWxlbSk7XG4gIH1cbn1cbiIsImltcG9ydCBUb29sdGlwcyBmcm9tICcuLi9Ub29sdGlwcy9pbmRleC5qcyc7XG5pbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5pbXBvcnQgc3RhdHVzVGV4dCBmcm9tICcuL3N0YXR1c1RleHQuanMnO1xuaW1wb3J0IGZpZWxkcyBmcm9tICcuL2ZpZWxkcy5qcyc7XG5pbXBvcnQgeyBmZXRjaEpzb24sIHRocm90dGxlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgeyBnZXREaXJlY3Rpb25UZXh0IH0gZnJvbSAnLi9oZWxwZXJzLmpzJztcbmltcG9ydCBQYWdlTWVzc2FnZSBmcm9tICcuLi9QYWdlTWVzc2FnZS9pbmRleC5qcyc7XG5cbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvcnRhYmxlVGFibGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc29ydGluZyA9IHtcbiAgICAgIGN1cnJlbnQ6IG51bGwsXG4gICAgICBpc0FzYzogdHJ1ZVxuICAgIH07XG5cbiAgICB0aGlzLnBhZ2UgPSB7XG4gICAgICBpdGVtczogMjAsXG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgaXNEYXRhRW5kZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIHRoaXMuYXBpVXJsID0gcHJvY2Vzcy5lbnYuQVBJX1VSTCB8fCAnaHR0cHM6Ly9jb3Vyc2UtanMuamF2YXNjcmlwdC5ydSc7XG5cbiAgICB0aGlzLmNoYW5nZURhdGUgPSB0aGlzLmNoYW5nZURhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICBjb25zdCB7XG4gICAgICB1cmwsXG4gICAgICBmaWVsZHNMaXN0LFxuICAgICAgb3JkZXJGaWVsZCxcbiAgICAgIG9yZGVyRGlyZWN0aW9uLFxuICAgICAgaXNEeW5hbWljLFxuICAgICAgZnJvbSxcbiAgICAgIHRvXG4gICAgfSA9IHRoaXMuZGF0YXNldDtcblxuICAgIHRoaXMuZGF0ZXMgPSB7XG4gICAgICBmcm9tLFxuICAgICAgdG9cbiAgICB9O1xuXG4gICAgdGhpcy51cmwgPSB0aGlzLmFwaVVybCArIHVybDtcbiAgICB0aGlzLmZpZWxkc0xpc3QgPSBKU09OLnBhcnNlKGZpZWxkc0xpc3QucmVwbGFjZSgvJy9nLCAnXCInKSk7XG4gICAgdGhpcy5pc0R5bmFtaWMgPSAraXNEeW5hbWljO1xuICAgIHRoaXMub3JkZXIgPSB7XG4gICAgICBmaWVsZDogb3JkZXJGaWVsZCxcbiAgICAgIGRpcmVjdGlvbjogb3JkZXJEaXJlY3Rpb25cbiAgICB9O1xuICAgIHRoaXMuaW5pdFRhYmxlID0gdGhpcy5pbml0VGFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMub3JkZXIgJiYgdGhpcy5vcmRlci5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zb3J0aW5nLmlzQXNjID0gdGhpcy5vcmRlci5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgdGhpcy5mZXRjaFVybCA9IHRoaXMuZ2V0RmV0Y2hVcmwoKTtcbiAgICAvLyBUcnkgdG8gdGhyb3R0bGUgbG9hZGluZyBvbiBzY3JvbGxcbiAgICB0aGlzLm9uQm9keVNjcm9sbFRocm90dGxlID0gdGhyb3R0bGUodGhpcy5vbkJvZHlTY3JvbGwsIHRoaXMsIDUwMCk7XG5cbiAgICB0aGlzLmluaXRUYWJsZSgpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlRGF0ZScsIHRoaXMuY2hhbmdlRGF0ZSk7XG4gIH1cblxuICBhc3luYyBsb2FkRGF0YSAoKSB7XG4gICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMudGFibGUuZGF0YXNldC5sb2FkaW5nID0gMTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0YWJsZURhdGEgPSBhd2FpdCBmZXRjaEpzb24odGhpcy5mZXRjaFVybCk7XG5cbiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnRhYmxlLmRhdGFzZXQubG9hZGluZyA9IDA7XG5cbiAgICAgIHJldHVybiB0YWJsZURhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFNob3cgZXJyb3IgbWVzc2FnZSB0byB1c2VyXG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IFBhZ2VNZXNzYWdlKHsgZXJyb3IgfSk7XG4gICAgICB0aGlzLnRhYmxlLmRhdGFzZXQubG9hZGluZyA9IDA7XG5cbiAgICAgIHRoaXMudEJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAnYmVmb3JlRW5kJyxcbiAgICAgICAgYDx0ciBjbGFzcz1cIiR7Y2xzLnJvd31cIj48dGQgY2xhc3M9XCIke2Nscy5jZWxsRXJyb3J9XCI+JHttZXNzYWdlLmVsZW0ub3V0ZXJIVE1MfTwvdHI+YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBpbml0VGFibGUgKCkge1xuICAgIHRoaXMuY3JlYXRlTGF5b3V0KCk7XG4gICAgdGhpcy5hZGRFbGVtSGVhZGVyKCk7XG4gICAgdGhpcy5hZGRUYWJsZUV2ZW50cygpO1xuXG4gICAgdGhpcy5maWxsVEJvZHkoKTtcbiAgfVxuXG4gIGFzeW5jIGZpbGxUQm9keSAoKSB7XG4gICAgaWYgKHRoaXMucGFnZS5pc0RhdGFFbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudGFibGVSb3dzID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuXG4gICAgLy8gTGFzdCBwYWdlXG4gICAgaWYgKHRoaXMudGFibGVSb3dzLmxlbmd0aCA8IHRoaXMucGFnZS5pdGVtcykge1xuICAgICAgdGhpcy5wYWdlLmlzRGF0YUVuZGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMudGFibGVSb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzRHluYW1pYyAmJiB0aGlzLm9yZGVyICYmIHRoaXMub3JkZXIuZmllbGQpIHtcbiAgICAgIHRoaXMuc29ydFJvd3ModGhpcy5vcmRlci5maWVsZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJUQm9keSgpO1xuICB9XG5cbiAgZ2V0RmV0Y2hVcmwgKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHN0YXJ0OiB0aGlzLnBhZ2UuY3VycmVudCAqIHRoaXMucGFnZS5pdGVtcyxcbiAgICAgIGVuZDogKHRoaXMucGFnZS5jdXJyZW50ICsgMSkgKiB0aGlzLnBhZ2UuaXRlbXMsXG4gICAgICBzb3J0OiB0aGlzLm9yZGVyLmZpZWxkLFxuICAgICAgb3JkZXI6IGdldERpcmVjdGlvblRleHQodGhpcy5zb3J0aW5nLmlzQXNjKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5kYXRlcyAmJiB0aGlzLmRhdGVzLmZyb20pIHtcbiAgICAgIHBhcmFtcy5mcm9tID0gdGhpcy5kYXRlcy5mcm9tO1xuICAgICAgcGFyYW1zLnRvID0gdGhpcy5kYXRlcy50bztcbiAgICB9XG5cbiAgICBsZXQgcGFyYW1zU3RyID0gJyc7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICBsZXQgcHJlZml4ID0gJ18nO1xuICAgICAgaWYgKGtleSA9PT0gJ2Zyb20nIHx8IGtleSA9PT0gJ3RvJykge1xuICAgICAgICBwcmVmaXggPSAnJztcbiAgICAgIH1cblxuICAgICAgcGFyYW1zU3RyICs9IGAmJHtwcmVmaXh9JHtrZXl9PSR7cGFyYW1zW2tleV19YDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXJsICsgcGFyYW1zU3RyO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0ICgpIHtcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW0pO1xuICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgIHRoaXMudGFibGUuY2xhc3NMaXN0LmFkZChjbHMudGFibGUpO1xuICAgIHRoaXMudEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgIHRoaXMudGFibGUuYXBwZW5kKHRoaXMudEJvZHkpO1xuICAgIHRoaXMudGFibGUuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgJ2JlZm9yZUVuZCcsXG4gICAgICBgPHRmb290Pjx0cj48dGQgY29sc3Bhbj1cIiR7dGhpcy5maWVsZHNMaXN0Lmxlbmd0aH1cIj48ZGl2IGNsYXNzPVwic3Bpbm5lclwiPjwvZGl2PjwvdGQ+PC90cj48L3Rmb290PmBcbiAgICApO1xuXG4gICAgdGhpcy5hcHBlbmQodGhpcy50YWJsZSk7XG4gIH1cblxuICAvLyBGaWxsIHRhYmxlIGhlYWRlciB3aXRoIGNvbnRlbnRcbiAgYWRkRWxlbUhlYWRlciAoKSB7XG4gICAgbGV0IGhlYWRlckNvbnRlbnQgPSAnJztcblxuICAgIHRoaXMuZmllbGRzTGlzdC5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIGxldCB0aENsYXNzID0gY2xzLmNlbGw7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBzb3J0ZXI6ICcnLFxuICAgICAgICBzb3J0RGlyZWN0aW9uOiAnJ1xuICAgICAgfTtcbiAgICAgIGlmIChmaWVsZHNbZmllbGRdLmNvbXBhcmUpIHtcbiAgICAgICAgdGhDbGFzcyArPSBgICR7Y2xzLmNlbGxTb3J0ZXJ9YDtcbiAgICAgICAgZGF0YS5zb3J0ZXIgPSAnZGF0YS1zb3J0ZXI9XCIxXCInO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkID09PSB0aGlzLm9yZGVyLmZpZWxkKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGdldERpcmVjdGlvblRleHQodGhpcy5zb3J0aW5nLmlzQXNjKTtcbiAgICAgICAgZGF0YS5zb3J0RGlyZWN0aW9uID0gYGRhdGEtc29ydC1kaXJlY3Rpb249XCIke2RpcmVjdGlvbn1cImA7XG4gICAgICB9XG4gICAgICBoZWFkZXJDb250ZW50ICs9IGA8dGggY2xhc3M9XCIke3RoQ2xhc3N9XCJcbiAgICAgICAgZGF0YS1uYW1lPVwiJHtmaWVsZH1cIlxuICAgICAgICAke2RhdGEuc29ydGVyfVxuICAgICAgICAke2RhdGEuc29ydERpcmVjdGlvbn1cbiAgICAgICAgPiR7ZmllbGRzW2ZpZWxkXS50aXRsZX08L3RoPmA7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0aGVhZFN0ciA9IGA8dGhlYWQgY2xhc3M9XCIke2Nscy50aGVhZH1cIj48dHIgY2xhc3M9XCIke2Nscy5oZWFkZXJ9ICR7Y2xzLnJvd31cIj5cbiAgICAgICR7aGVhZGVyQ29udGVudH1cbiAgICA8L3RyPjwvdGhlYWQ+YDtcblxuICAgIHRoaXMudGFibGUuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywgdGhlYWRTdHIpO1xuXG4gICAgdGhpcy5zb3J0aW5nLmN1cnJlbnQgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNvcnQtZGlyZWN0aW9uXScpO1xuICB9XG5cbiAgLy8gU29ydGVyXG4gIHNvcnRlck9uQ2xpY2sgKHRoKSB7XG4gICAgY29uc3QgeyBuYW1lIH0gPSB0aC5kYXRhc2V0O1xuXG4gICAgaWYgKHRoLmRhdGFzZXQuc29ydERpcmVjdGlvbikge1xuICAgICAgdGhpcy5zb3J0aW5nLmlzQXNjID0gIXRoaXMuc29ydGluZy5pc0FzYztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc29ydGluZy5jdXJyZW50KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNvcnRpbmcuY3VycmVudC5kYXRhc2V0LnNvcnREaXJlY3Rpb247XG4gICAgICB9XG4gICAgICB0aGlzLnNvcnRpbmcuaXNBc2MgPSB0cnVlO1xuICAgICAgdGhpcy5zb3J0aW5nLmN1cnJlbnQgPSB0aDtcbiAgICB9XG5cbiAgICB0aC5kYXRhc2V0LnNvcnREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb25UZXh0KHRoaXMuc29ydGluZy5pc0FzYyk7XG5cbiAgICBpZiAodGhpcy5pc0R5bmFtaWMpIHtcbiAgICAgIHRoaXMuc29ydFJvd3NEeW5hbWljKG5hbWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc29ydFJvd3MobmFtZSk7XG4gIH1cblxuICAvLyBTb3J0aW5nXG4gIHNvcnRSb3dzIChmaWVsZCkge1xuICAgIHRoaXMudGFibGVSb3dzLnNvcnQoZmllbGRzW2ZpZWxkXS5jb21wYXJlKTtcblxuICAgIGlmICghdGhpcy5zb3J0aW5nLmlzQXNjKSB7XG4gICAgICB0aGlzLnRhYmxlUm93cy5yZXZlcnNlKCk7XG4gICAgfVxuXG4gICAgdGhpcy50Qm9keS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLnJlbmRlclRCb2R5KCk7XG4gIH1cblxuICAvLyBTb3J0aW5nXG4gIHNvcnRSb3dzRHluYW1pYyAoZmllbGQpIHtcbiAgICB0aGlzLm9yZGVyLmZpZWxkID0gZmllbGQ7XG4gICAgdGhpcy5wYWdlLmN1cnJlbnQgPSAwO1xuICAgIHRoaXMucGFnZS5pc0RhdGFFbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuZmV0Y2hVcmwgPSB0aGlzLmdldEZldGNoVXJsKCk7XG4gICAgdGhpcy50Qm9keS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmZpbGxUQm9keSgpO1xuICB9XG5cbiAgLy8gQWRkaW5nIGRlbGVnYXRlZCBldmVudHMgdG8gdGFibGVcbiAgYWRkVGFibGVFdmVudHMgKCkge1xuICAgIHRoaXMudGFibGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vbkJvZHlTY3JvbGxUaHJvdHRsZSk7XG4gICAgdGhpcy50b29sdGlwcyA9IG5ldyBUb29sdGlwcyh7IGVsZW06IHRoaXMgfSk7XG4gIH1cblxuICAvLyBIYW5kbGVzIGFsbCBldmVudHMgZm9yIHRhYmxlXG4gIGhhbmRsZUV2ZW50ICgpIHtcbiAgICAvLyBTb3J0aW5nIGV2ZW50c1xuICAgIGlmIChldmVudC50YXJnZXQuZGF0YXNldC5zb3J0ZXIpIHtcbiAgICAgIHRoaXMuc29ydGVyT25DbGljayhldmVudC50YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIG9uQm9keVNjcm9sbCAoKSB7XG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaHRtbENvb3JkcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzY3JvbGxEZWx0YSA9IGh0bWxDb29yZHMuYm90dG9tIC0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgaWYgKHNjcm9sbERlbHRhIDwgMTAwKSB7XG4gICAgICB0aGlzLnBhZ2UuY3VycmVudCsrO1xuICAgICAgdGhpcy5mZXRjaFVybCA9IHRoaXMuZ2V0RmV0Y2hVcmwoKTtcbiAgICAgIHRoaXMuZmlsbFRCb2R5KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRmlsbCB0YWJsZSBib2R5IGNlbGxzIHdpdGggY29udGVudFxuICByZW5kZXJUQm9keSAoKSB7XG4gICAgdGhpcy5wYWdlWU9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICAgIHRoaXMudGFibGVSb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgIGxldCByb3dDb250ZW50ID0gJyc7XG4gICAgICBjb25zdCB7IHN0YXR1cyB9ID0gcm93O1xuXG4gICAgICB0aGlzLmZpZWxkc0xpc3QuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIGNvbnN0IHRkQ2xhc3NlcyA9IFtcbiAgICAgICAgICBjbHMuY2VsbCxcbiAgICAgICAgICBgJHtjbHMuY2VsbH0tLSR7ZmllbGR9YCxcbiAgICAgICAgICBgJHtjbHMuY2VsbH0tLSR7c3RhdHVzVGV4dFtzdGF0dXNdLnRvTG93ZXJDYXNlKCl9YFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCByZW5kZXJGaWVsZCA9IGZpZWxkc1tmaWVsZF0ucmVuZGVyO1xuICAgICAgICBjb25zdCByZW5kZXJlZENvbnRlbnQgPSByZW5kZXJGaWVsZChyb3cpO1xuXG4gICAgICAgIGlmIChyZW5kZXJlZENvbnRlbnQpIHtcbiAgICAgICAgICByb3dDb250ZW50ICs9IGA8dGQgY2xhc3M9XCIke3RkQ2xhc3Nlcy5qb2luKFxuICAgICAgICAgICAgJyAnXG4gICAgICAgICAgKX1cIj4ke3JlbmRlcmVkQ29udGVudH08L3RkPmA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnRCb2R5Lmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgJ2JlZm9yZUVuZCcsXG4gICAgICAgIGA8dHIgY2xhc3M9XCIke2Nscy5yb3d9XCI+JHtyb3dDb250ZW50fTwvdHI+YFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnBhZ2VZT2Zmc2V0KSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgdGhpcy5wYWdlWU9mZnNldCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2hhbmdlRGF0ZSAoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmRldGFpbCB8fCAhZXZlbnQuZGV0YWlsLmRhdGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kYXRlcyA9IGV2ZW50LmRldGFpbC5kYXRlcztcbiAgICB0aGlzLmZldGNoVXJsID0gdGhpcy5nZXRGZXRjaFVybCgpO1xuICAgIHRoaXMudEJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5maWxsVEJvZHkoKTtcbiAgfVxufVxuIiwiaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBbXG4gIHtcbiAgICBuYW1lOiAndGl0bGUnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnZGVzY3JpcHRpb24nLFxuICAgIG1vZHM6IFtjbHMuaXRlbUZ1bGxdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnaW1hZ2VzJyxcbiAgICBtb2RzOiBbY2xzLml0ZW1GdWxsXVxuICB9LFxuICB7XG4gICAgbmFtZTogJ3N1YmNhdGVnb3J5J1xuICB9LFxuICB7XG4gICAgbmFtZTogJ3ByaWNlJyxcbiAgICBtb2RzOiBbY2xzLml0ZW1UaW55XVxuICB9LFxuICB7XG4gICAgbmFtZTogJ2Rpc2NvdW50JyxcbiAgICBtb2RzOiBbY2xzLml0ZW1UaW55LCBjbHMuaXRlbUZvbGxvd11cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdxdWFudGl0eScsXG4gICAgbW9kczogW2Nscy5pdGVtVGlueV1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdzdGF0dXMnLFxuICAgIG1vZHM6IFtjbHMuaXRlbVRpbnldXG4gIH1cbl07XG4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vY2F0ZWdvcmllcy9pbmRleC5qc1wiOiAyNixcblx0XCIuL2Rhc2hib2FyZC9pbmRleC5qc1wiOiAyOCxcblx0XCIuL2Vycm9yNDA0L2luZGV4LmpzXCI6IDI5LFxuXHRcIi4vcHJvZHVjdHMvZWRpdC9pbmRleC5qc1wiOiAzMCxcblx0XCIuL3Byb2R1Y3RzL2luZGV4LmpzXCI6IDMzXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHQocmVxKSB7XG5cdHJldHVybiB3ZWJwYWNrQXN5bmNDb250ZXh0UmVzb2x2ZShyZXEpLnRoZW4oX193ZWJwYWNrX3JlcXVpcmVfXyk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0Ly8gSGVyZSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCkgaXMgdXNlZCBpbnN0ZWFkIG9mIG5ldyBQcm9taXNlKCkgdG8gcHJldmVudFxuXHQvLyB1bmNhdWdodCBleGNlcHRpb24gcG9wcGluZyB1cCBpbiBkZXZ0b29sc1xuXHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcblx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0cmV0dXJuIG1hcFtyZXFdO1xuXHR9KTtcbn1cbndlYnBhY2tBc3luY0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQXN5bmNDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQXN5bmNDb250ZXh0UmVzb2x2ZTtcbndlYnBhY2tBc3luY0NvbnRleHQuaWQgPSAyNTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0FzeW5jQ29udGV4dDsiLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmZXRjaEpzb24gfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCBQYWdlTWVzc2FnZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1BhZ2VNZXNzYWdlL2luZGV4LmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuYXBpVXJsID0gcHJvY2Vzcy5lbnYuQVBJX1VSTCB8fCAnaHR0cHM6Ly9jb3Vyc2UtanMuamF2YXNjcmlwdC5ydSc7XG4gICAgdGhpcy5mZXRjaFVybCA9IGAke3RoaXMuYXBpVXJsfS9hcGkvcmVzdC9jYXRlZ29yaWVzP19zb3J0PXdlaWdodCZfcmVmcz1zdWJjYXRlZ29yeWA7XG5cbiAgICB0aGlzLmxpc3RDbGljayA9IHRoaXMubGlzdENsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBhc3luYyByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgY2F0ZWdvcmllcywgbWVzc2FnZSB9ID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuXG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uIGNhdGVnb3JpZXNcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLXNlY3Rpb25fX3RpdGxlXCI+Q2F0ZWdvcmllczwvaDI+XG5cbiAgICAgICAgICAke21lc3NhZ2UuZWxlbS5vdXRlckhUTUx9XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgYCk7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdCA9IHRoaXMuY3JlYXRlTGlzdChjYXRlZ29yaWVzKTtcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICA8c2VjdGlvbiBjbGFzcz1cInBhZ2Utc2VjdGlvbiBjYXRlZ29yaWVzXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cInBhZ2Utc2VjdGlvbl9fdGl0bGVcIj5DYXRlZ29yaWVzPC9oMj5cblxuICAgICAgICAke2xpc3R9XG4gICAgICA8L3NlY3Rpb24+XG4gICAgPC9kaXY+YCk7XG5cbiAgICB0aGlzLmFkZEV2ZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXMuZWxlbTtcbiAgfVxuXG4gIGFzeW5jIGxvYWREYXRhICgpIHtcbiAgICAvLyBUT0RPOiDQuNC90LTQuNC60LDRgtC+0YAg0LfQsNCz0YDRg9C30LrQuFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgZmV0Y2hKc29uKHRoaXMuZmV0Y2hVcmwpO1xuXG4gICAgICByZXR1cm4geyBjYXRlZ29yaWVzIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFNob3cgZXJyb3IgbWVzc2FnZSB0byB1c2VyXG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IFBhZ2VNZXNzYWdlKHsgZXJyb3IgfSk7XG5cbiAgICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVMaXN0IChpdGVtcywgaXNTdWJjYXQgPSBmYWxzZSkge1xuICAgIGxldCBpdGVtc1N0ciA9ICcnO1xuICAgIGxldCBsaXN0Q2xhc3MgPSBjbHMubGlzdFRvcDtcbiAgICBsZXQgaXRlbUNsYXNzID0gY2xzLml0ZW07XG4gICAgbGV0IGlzRHJhZ2dhYmxlQXR0ciA9ICcnO1xuXG4gICAgaWYgKGlzU3ViY2F0KSB7XG4gICAgICBsaXN0Q2xhc3MgPSBjbHMubGlzdFN1YmNhdHM7XG4gICAgICBpdGVtQ2xhc3MgKz0gYCAke2Nscy5pdGVtU3VifWA7XG4gICAgICBpc0RyYWdnYWJsZUF0dHIgPSAnaXM9XCJkcmFnZ2FibGUtbGlzdFwiJztcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbUNsYXNzICs9IGAgJHtjbHMuaXRlbVRvcH1gO1xuICAgIH1cblxuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIGxldCBzdWJDYXRzTGlzdCA9ICcnO1xuICAgICAgbGV0IHRpdGxlID0gaXRlbS50aXRsZTtcbiAgICAgIGNvbnN0IHN1YkNhdHMgPSBpdGVtLnN1YmNhdGVnb3JpZXM7XG4gICAgICBsZXQgY291bnRlciA9ICcnO1xuXG4gICAgICBpZiAoaXNTdWJjYXQpIHtcbiAgICAgICAgY29uc3QgY291bnRlclRleHQgPSB0aGlzLmdldFBsdXJhbChpdGVtLmNvdW50LCBbJ3Byb2R1Y3QnLCAncHJvZHVjdHMnXSk7XG4gICAgICAgIGNvdW50ZXIgPSBgPHNwYW4gY2xhc3M9XCIke2Nscy5jb3VudGVyfVwiPiR7Y291bnRlclRleHR9PC9zcGFuPmA7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW0pXG5cbiAgICAgIGlmIChzdWJDYXRzKSB7XG4gICAgICAgIHRpdGxlID0gYCA8YnV0dG9uIGNsYXNzPVwiJHtjbHMudG9nZ2xlcn1cIj4ke2l0ZW0udGl0bGV9PC9idXR0b24+YDtcbiAgICAgICAgc3ViQ2F0c0xpc3QgPSB0aGlzLmNyZWF0ZUxpc3Qoc3ViQ2F0cywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGl0ZW1zU3RyICs9IGA8bGkgY2xhc3M9XCIke2l0ZW1DbGFzc31cIj5cbiAgICAgICAgJHt0aXRsZX1cbiAgICAgICAgJHtjb3VudGVyfVxuICAgICAgICAke3N1YkNhdHNMaXN0fVxuICAgICAgPC9saT5gO1xuICAgIH1cblxuICAgIHJldHVybiBgPHVsXG4gICAgICBjbGFzcz1cIiR7Y2xzLmxpc3R9ICR7bGlzdENsYXNzfVwiICR7aXNEcmFnZ2FibGVBdHRyfVxuICAgICAgPlxuICAgICAgJHtpdGVtc1N0cn1cbiAgICA8L3VsPmA7XG4gIH1cblxuICBhZGRFdmVudHMgKCkge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcihgLiR7Y2xzLmxpc3RUb3B9YCk7XG4gICAgbGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubGlzdENsaWNrKTtcbiAgfVxuXG4gIGxpc3RDbGljayAoKSB7XG4gICAgY29uc3QgY29udHJvbCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KGAuJHtjbHMudG9nZ2xlcn1gKTtcbiAgICBpZiAoIWNvbnRyb2wpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpdGVtVG9wID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoYC4ke2Nscy5pdGVtVG9wfWApO1xuICAgIGl0ZW1Ub3AuY2xhc3NMaXN0LnRvZ2dsZShjbHMuaXRlbU9wZW4pO1xuICB9XG5cbiAgZ2V0UGx1cmFsIChudW0sIHZhcmlhbnRzKSB7XG4gICAgbGV0IHZhcmlhbnQgPSB2YXJpYW50c1swXTtcbiAgICBpZiAobnVtICE9PSAxKSB7XG4gICAgICB2YXJpYW50ID0gdmFyaWFudHNbMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke251bX0gJHt2YXJpYW50fWA7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcblxuY29uc3QgZnJvbSA9IG5ldyBEYXRlKCk7XG5mcm9tLnNldE1vbnRoKGZyb20uZ2V0TW9udGgoKSAtIDEpO1xuY29uc3QgdG8gPSBuZXcgRGF0ZSgpO1xuXG5jb25zdCBkYXRlcyA9IHtcbiAgZnJvbTogZnJvbS50b0lTT1N0cmluZygpLFxuICB0bzogdG8udG9JU09TdHJpbmcoKVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBhc3luYyByZW5kZXIgKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICA8aGVhZGVyIGNsYXNzPVwicGFnZS1jb250ZW50X19oZWFkZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwicGFnZS1jb250ZW50X190aXRsZVwiPkRhc2hib2FyZDwvaDI+XG5cbiAgICAgICAgPHJhbmdlLXBpY2tlclxuICAgICAgICAgIGRhdGEtZnJvbT1cIiR7ZGF0ZXMuZnJvbX1cIlxuICAgICAgICAgIGRhdGEtdG89XCIke2RhdGVzLnRvfVwiXG4gICAgICAgICAgPjwvcmFuZ2UtcGlja2VyPlxuICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInBhZ2Utc2VjdGlvbiBwYWdlLXNlY3Rpb24tLWNvbHVtbi1jaGFydHNcIj5cbiAgICAgICAgICA8Y29sdW1uLWNoYXJ0XG4gICAgICAgICAgICBkYXRhLXR5cGU9XCJvcmRlcnNcIlxuICAgICAgICAgICAgZGF0YS1mcm9tPVwiJHtkYXRlcy5mcm9tfVwiXG4gICAgICAgICAgICBkYXRhLXRvPVwiJHtkYXRlcy50b31cIlxuICAgICAgICAgID48L2NvbHVtbi1jaGFydD5cblxuICAgICAgICAgIDxjb2x1bW4tY2hhcnRcbiAgICAgICAgICAgIGRhdGEtdHlwZT1cInNhbGVzXCJcbiAgICAgICAgICAgIGRhdGEtaXMtbW9uZXk9XCJ0cnVlXCJcbiAgICAgICAgICAgIGRhdGEtZnJvbT1cIiR7ZGF0ZXMuZnJvbX1cIlxuICAgICAgICAgICAgZGF0YS10bz1cIiR7ZGF0ZXMudG99XCJcbiAgICAgICAgICA+PC9jb2x1bW4tY2hhcnQ+XG5cbiAgICAgICAgICA8Y29sdW1uLWNoYXJ0XG4gICAgICAgICAgICBkYXRhLXR5cGU9XCJjdXN0b21lcnNcIlxuICAgICAgICAgICAgZGF0YS1mcm9tPVwiJHtkYXRlcy5mcm9tfVwiXG4gICAgICAgICAgICBkYXRhLXRvPVwiJHtkYXRlcy50b31cIlxuICAgICAgICAgID48L2NvbHVtbi1jaGFydD5cbiAgICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uXCI+XG4gICAgICAgICAgPGgzIGNsYXNzPVwicGFnZS1zZWN0aW9uX190aXRsZVwiPkJlc3RzZWxsZXJzPC9oMz5cblxuICAgICAgICA8c29ydGFibGUtdGFibGVcbiAgICAgICAgICBkYXRhLXVybD1cIi9hcGkvZGFzaGJvYXJkL2Jlc3RzZWxsZXJzP19lbWJlZD1zdWJjYXRlZ29yeS5jYXRlZ29yeVwiLFxuICAgICAgICAgIGRhdGEtaXMtZHluYW1pYz1cIjBcIlxuICAgICAgICAgIGRhdGEtZmllbGRzLWxpc3Q9XCJbJ2ltYWdlcycsICd0aXRsZScsICdzdWJjYXRlZ29yeScsICdxdWFudGl0eScsICdwcmljZScsICdzdGF0dXMnXVwiXG4gICAgICAgICAgZGF0YS1vcmRlci1maWVsZD0ndGl0bGUnLFxuICAgICAgICAgIGRhdGEtb3JkZXItZGlyZWN0aW9uPVwiMVwiXG4gICAgICAgICAgZGF0YS1mcm9tPVwiJHtkYXRlcy5mcm9tfVwiXG4gICAgICAgICAgZGF0YS10bz1cIiR7ZGF0ZXMudG99XCJcbiAgICAgICAgICA+PC9zb3J0YWJsZS10YWJsZT5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9kaXY+YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBhc3luYyByZW5kZXIgKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uIHBhZ2Utc2VjdGlvbi0tNDA0XCI+XG4gICAgICAgICAgPGgyIGNsYXNzPVwicGFnZS1zZWN0aW9uX190aXRsZVwiPlBhZ2Ugbm90IGZvdW5kPC9oMj5cbiAgICAgICAgICA8cD5ObyBzdWNoIHBhZ2U8L3A+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZGl2PmApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmZXRjaEpzb24gfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCBQYWdlTWVzc2FnZSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1BhZ2VNZXNzYWdlL2luZGV4LmpzJztcbmltcG9ydCBmaWVsZHMgZnJvbSAnLi9maWVsZHMuanMnO1xuaW1wb3J0IGZpZWxkc09yZGVyIGZyb20gJy4vZmllbGRzT3JkZXIuanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0IHsgaGVhZGVyIH0gZnJvbSAnLi90ZW1wbGF0ZXMnO1xuXG5pbXBvcnQgJy4vaWNvbi10cmFzaC5zdmcnO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yIChtYXRjaCkge1xuICAgIHRoaXMuaWQgPSBtYXRjaFswXS5yZXBsYWNlKCdwcm9kdWN0cy8nLCAnJyk7XG5cbiAgICBpZiAoIW1hdGNoWzBdKSB7XG4gICAgICB0aGlzLmlkID0gJzNkLW9jaGtpLW9wdG9tYS16ZDMwMic7XG4gICAgfVxuXG4gICAgdGhpcy5hcGlVcmwgPSBwcm9jZXNzLmVudi5BUElfVVJMIHx8ICdodHRwczovL2NvdXJzZS1qcy5qYXZhc2NyaXB0LnJ1JztcbiAgICB0aGlzLmZldGNoUHJvZHVjdFVybCA9IHRoaXMuYXBpVXJsICsgYC9hcGkvcmVzdC9wcm9kdWN0cz9pZD0ke3RoaXMuaWR9YDtcbiAgICB0aGlzLmZldGNoQ2F0ZWdvcmllc1VybCA9IHRoaXMuYXBpVXJsICsgJy9hcGkvcmVzdC9jYXRlZ29yaWVzP19zb3J0PXdlaWdodCZfcmVmcz1zdWJjYXRlZ29yeSc7XG4gIH1cblxuICBhc3luYyByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgcHJvZHVjdERhdGEsIGNhdGVnb3JpZXMsIGVycm9yTWVzc2FnZSB9ID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuXG4gICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgJHtoZWFkZXJ9XG5cbiAgICAgICAgJHtlcnJvck1lc3NhZ2Uub3V0ZXJIVE1MfVxuICAgICAgPC9kaXY+XG4gICAgICBgKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdERhdGFbMF07XG4gICAgY29uc3QgaW5wdXRzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHsgbmFtZSwgbW9kcyB9IG9mIGZpZWxkc09yZGVyKSB7XG4gICAgICBpZiAoZmllbGRzW25hbWVdKSB7XG4gICAgICAgIGxldCBwYXJhbXMgPSBwcm9kdWN0O1xuXG4gICAgICAgIGlmIChuYW1lID09PSAnc3ViY2F0ZWdvcnknKSB7XG4gICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnB1dCA9IGZpZWxkc1tuYW1lXS5yZW5kZXIocGFyYW1zKTtcbiAgICAgICAgbGV0IGNsYXNzZXMgPSBbY2xzLml0ZW1dO1xuXG4gICAgICAgIGlmIChtb2RzKSB7XG4gICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KG1vZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXRzLnB1c2goYDxsaSBjbGFzcz1cIiR7Y2xhc3Nlcy5qb2luKCcgJyl9XCI+JHtpbnB1dH08L2xpPmApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+XG4gICAgICAke2hlYWRlcn1cblxuICAgICAgPGZvcm0gYWN0aW9uPVwiXCIgY2xhc3M9XCIke2Nscy5mb3JtfX1cIj5cbiAgICAgICAgPHVsIGNsYXNzPVwiJHtjbHMubGlzdH1cIj5cbiAgICAgICAgICAke2lucHV0cy5qb2luKCdcXG4nKX1cbiAgICAgICAgPC91bD5cblxuICAgICAgICA8Zm9vdGVyIGNsYXNzPVwiJHtjbHMuZm9vdGVyfVwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCIke2Nscy5zdWJtaXR9XCI+U2F2ZTwvYnV0dG9uPlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5gKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWREYXRhICgpIHtcbiAgICAvLyBUT0RPOiBhZGQgbG9hZGluZyBpbmRpY2F0b3JcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZHVjdERhdGEgPSBhd2FpdCBmZXRjaEpzb24odGhpcy5mZXRjaFByb2R1Y3RVcmwpO1xuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IGZldGNoSnNvbih0aGlzLmZldGNoQ2F0ZWdvcmllc1VybCk7XG5cbiAgICAgIHJldHVybiB7IHByb2R1Y3REYXRhLCBjYXRlZ29yaWVzIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUGFnZU1lc3NhZ2UoeyBlcnJvciB9KTtcbiAgICAgIHJldHVybiB7IGVycm9yTWVzc2FnZTogbWVzc2FnZS5lbGVtIH07XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTI2NzkxNTRhZmRlMDgxNWM2MjIyYzdjMDQwMWY0NDIuc3ZnXCI7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGFzeW5jIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cInBhZ2Utc2VjdGlvbl9fdGl0bGVcIj5Qcm9kdWN0czwvaDI+XG5cbiAgICAgICAgPHNvcnRhYmxlLXRhYmxlXG4gICAgICAgICAgZGF0YS11cmw9XCIvYXBpL3Jlc3QvcHJvZHVjdHM/X2VtYmVkPXN1YmNhdGVnb3J5LmNhdGVnb3J5XCIsXG4gICAgICAgICAgZGF0YS1pcy1keW5hbWljPVwiMVwiXG4gICAgICAgICAgZGF0YS1maWVsZHMtbGlzdD1cIlsnaW1hZ2VzJywgJ3RpdGxlJywgJ3N1YmNhdGVnb3J5JywgJ3F1YW50aXR5JywgJ3ByaWNlJywgJ3N0YXR1cyddXCJcbiAgICAgICAgICBkYXRhLW9yZGVyLWZpZWxkPSd0aXRsZScsXG4gICAgICAgICAgZGF0YS1vcmRlci1kaXJlY3Rpb249XCIxXCJcbiAgICAgICAgICA+PC9zb3J0YWJsZS10YWJsZT5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5yZW5kZXIoKSk7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwYWdlJyk7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250YWluZXJcIj5cbiAgICAgIDxhc2lkZSBjbGFzcz1cInBhZ2UtYXNpZGVcIj5cbiAgICAgICAgPGgxIGNsYXNzPVwicGFnZS1hc2lkZV9fdGl0bGVcIj5cbiAgICAgICAgICA8YSBocmVmPVwiLi9cIj5TaG9wIGFkbWluPC9hPlxuICAgICAgICA8L2gxPlxuXG4gICAgICAgIDxuYXYgY2xhc3M9XCJwYWdlLWFzaWRlX19uYXZcIj5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJwYWdlLWFzaWRlX19saXN0XCI+XG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwYWdlLWFzaWRlX19pdGVtXCI+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rIHBhZ2UtYXNpZGVfX2xpbmstLWRhc2hib2FyZFwiXG4gICAgICAgICAgICAgICAgaHJlZj1cIi4vXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIERhc2hib2FyZFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhZ2UtYXNpZGVfX2l0ZW1cIj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBjbGFzcz1cInBhZ2UtYXNpZGVfX2xpbmsgcGFnZS1hc2lkZV9fbGluay0tcHJvZHVjdHNcIlxuICAgICAgICAgICAgICAgIGhyZWY9XCIuL3Byb2R1Y3RzXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIFByb2R1Y3RzXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1hc2lkZV9faXRlbVwiPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGNsYXNzPVwicGFnZS1hc2lkZV9fbGluayBwYWdlLWFzaWRlX19saW5rLS1jYXRlZ29yaWVzXCJcbiAgICAgICAgICAgICAgICBocmVmPVwiLi9jYXRlZ29yaWVzXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIENhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9uYXY+XG4gICAgICA8L2FzaWRlPlxuXG4gICAgICA8bWFpbiBjbGFzcz1cInBhZ2UtbWFpblwiIGlkPVwiY29udGVudFwiPlxuICAgICAgICA8IS0tIG1haW4gY29udGVudCB3aWxsIGJlIGhlcmUgLS0+XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+YCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ3JhbmdlcGlja2VyJyxcbiAgZWxlbU9wZW46ICdyYW5nZXBpY2tlci0tb3BlbicsXG4gIGlucHV0OiAncmFuZ2VwaWNrZXJfX2lucHV0JyxcbiAgZnJvbTogJ3JhbmdlcGlja2VyX19mcm9tJyxcbiAgdG86ICdyYW5nZXBpY2tlcl9fdG8nLFxuICBzZWxlY3RvcjogJ3JhbmdlcGlja2VyX19zZWxlY3RvcicsXG4gIHNlbGVjdG9yQXJyb3c6ICdyYW5nZXBpY2tlcl9fc2VsZWN0b3ItYXJyb3cnLFxuICBzZWxlY3RvckNvbnRyb2w6ICdyYW5nZXBpY2tlcl9fc2VsZWN0b3ItY29udHJvbCcsXG4gIGNhbGVuZGFyczogJ3JhbmdlcGlja2VyX19jYWxlbmRhcnMnLFxuICBjYWxlbmRhcjogJ3JhbmdlcGlja2VyX19jYWxlbmRhcicsXG4gIGNlbGw6ICdyYW5nZXBpY2tlcl9fY2VsbCcsXG4gIHNlbGVjdGVkRnJvbTogJ3JhbmdlcGlja2VyX19zZWxlY3RlZC1mcm9tJyxcbiAgc2VsZWN0ZWRCZXR3ZWVuOiAncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLWJldHdlZW4nLFxuICBzZWxlY3RlZFRvOiAncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLXRvJyxcbiAgbW9udGhJbmRpY2F0b3I6ICdyYW5nZXBpY2tlcl9fbW9udGgtaW5kaWNhdG9yJyxcbiAgZGF5T2ZXZWVrOiAncmFuZ2VwaWNrZXJfX2RheS1vZi13ZWVrJyxcbiAgZGF0ZUdyaWQ6ICdyYW5nZXBpY2tlcl9fZGF0ZS1ncmlkJ1xufTtcbiIsImltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGNvbnN0IGlucHV0ID0gYDxidXR0b24gY2xhc3M9XCIke2Nscy5pbnB1dH1cIiBkYXRhLWVsZW09XCJpbnB1dFwiIHR5cGU9XCJidXR0b25cIj5cbiAgPHNwYW5cbiAgICBjbGFzcz1cIiR7Y2xzLmZyb219XCJcbiAgICBkYXRhLWVsZW09XCJmcm9tXCI+e2Zyb219PC9zcGFuPiAtXG4gIDxzcGFuXG4gICAgY2xhc3M9XCIke2Nscy50b31cIlxuICAgIGRhdGEtZWxlbT1cInRvXCJcbiAgICA+e3RvfTwvc3Bhbj5cbjwvYnV0dG9uPmA7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RvciA9IGBcbjxkaXYgY2xhc3M9XCIke2Nscy5zZWxlY3Rvcn1cIiBkYXRhLWVsZW09XCJzZWxlY3RvclwiPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMuc2VsZWN0b3JBcnJvd31cIj48L2Rpdj5cbiAgPGJ1dHRvblxuICAgIHR5cGU9XCJidXR0b25cIlxuICAgIGNsYXNzPVwiJHtjbHMuc2VsZWN0b3JDb250cm9sfSAke2Nscy5zZWxlY3RvckNvbnRyb2x9LS1sZWZ0XCJcbiAgICBkYXRhLWRpcmVjdGlvbj1cInByZXZcIlxuICA+PC9idXR0b24+XG4gIDxidXR0b25cbiAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICBjbGFzcz1cIiR7Y2xzLnNlbGVjdG9yQ29udHJvbH0gJHtjbHMuc2VsZWN0b3JDb250cm9sfS0tcmlnaHRcIlxuICAgIGRhdGEtZGlyZWN0aW9uPVwibmV4dFwiXG4gID48L2J1dHRvbj5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLmNhbGVuZGFyc31cIj48L2Rpdj5cbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNvbnN0IGNhbGVuZGFyID0gYFxuPGRpdiBjbGFzcz1cIiR7Y2xzLmNhbGVuZGFyfVwiPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMubW9udGhJbmRpY2F0b3J9XCI+XG4gICAgPHRpbWUgZGF0ZXRpbWU9XCJ7bW9udGh9XCI+e21vbnRofTwvdGltZT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCIke2Nscy5kYXlPZldlZWt9XCI+XG4gICAge3dlZWtkYXlzfVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLmRhdGVHcmlkfVwiPlxuICAgIHtkYXlzfVxuICA8L2Rpdj5cbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNvbnN0IGRheSA9IGBcbjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtjbHMuY2VsbH0ge21vZH1cIiBkYXRhLXZhbHVlPVwie2RhdGVUaW1lfVwiIHN0eWxlPVwie3N0eWxlfVwiPntkYXRlTnVtfTwvYnV0dG9uPlxuYDtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbnB1dCxcbiAgc2VsZWN0b3IsXG4gIGNhbGVuZGFyLFxuICBkYXlcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmIxMTJiNTUwMjc2ZDc1MmQwYjNlMTA3YWRlOGQ2MTcuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjY4MmRlZGFhZmIwNDRlN2I5ZWEzNTJhNzBiYWFmNTY5LnN2Z1wiOyIsImltcG9ydCB7XG4gIGZpbGxUZW1wbGF0ZSxcbiAgZ2V0V2Vla0RheXNcbn0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgdGVtcGxhdGVzIGZyb20gJy4vdGVtcGxhdGVzLmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCAnLi9hcnJvdy1pY29uLnN2Zyc7XG5pbXBvcnQgJy4vY2FsZW5kYXItaWNvbi5zdmcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZVBpY2tlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50b2dnbGVQaWNrZXIgPSB0aGlzLnRvZ2dsZVBpY2tlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VsZWN0b3JPbkNsaWNrID0gdGhpcy5zZWxlY3Rvck9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmJvZHlPbkNsaWNrID0gdGhpcy5ib2R5T25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlUmFuZ2UgPSB0aGlzLnVwZGF0ZVJhbmdlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmlzT3BlbmVkID0gZmFsc2U7XG4gICAgdGhpcy5lbGVtID0gdGhpcztcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgncmFuZ2VwaWNrZXInKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSB0aGlzLmRhdGFzZXQ7XG5cbiAgICB0aGlzLmRhdGVzID0ge1xuICAgICAgZnJvbTogbmV3IERhdGUoZnJvbSksXG4gICAgICB0bzogbmV3IERhdGUodG8pXG4gICAgfTtcblxuICAgIHRoaXMubW9udGhlcyA9IHRoaXMuZ2V0RGlzcGxheWVkTW9udGhlcygpO1xuICAgIHRoaXMubmV3RGF0ZXMgPSBbXTtcblxuICAgIHRoaXMuYWRkSW5wdXQoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VEYXRlJywgdGhpcy51cGRhdGVSYW5nZSk7XG4gIH1cblxuICBnZXREaXNwbGF5ZWRNb250aGVzICgpIHtcbiAgICBjb25zdCBjdXJyZW50TW9udGggPSBuZXcgRGF0ZSh0aGlzLmRhdGVzLmZyb20pO1xuICAgIGxldCBtb250aCA9IGN1cnJlbnRNb250aC5nZXRNb250aCgpO1xuICAgIGNvbnN0IGN1cnJlbnREYXkgPSAxO1xuICAgIGN1cnJlbnRNb250aC5zZXREYXRlKGN1cnJlbnREYXkpO1xuXG4gICAgY29uc3QgbmV4dE1vbnRoID0gbmV3IERhdGUoY3VycmVudE1vbnRoKTtcbiAgICBuZXh0TW9udGguc2V0TW9udGgoKyttb250aCk7XG5cbiAgICByZXR1cm4gW2N1cnJlbnRNb250aCwgbmV4dE1vbnRoXTtcbiAgfVxuXG4gIGFkZElucHV0ICgpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgZnJvbTogdGhpcy5kYXRlcy5mcm9tLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxuICAgICAgdG86IHRoaXMuZGF0ZXMudG8udG9Mb2NhbGVEYXRlU3RyaW5nKClcbiAgICB9O1xuICAgIGNvbnN0IHRtcGwgPSB0ZW1wbGF0ZXMuaW5wdXQ7XG4gICAgY29uc3QgaW5wdXRTdHIgPSBmaWxsVGVtcGxhdGUoe1xuICAgICAgdG1wbCxcbiAgICAgIGRhdGFcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyQmVnaW4nLCBpbnB1dFN0cik7XG4gICAgdGhpcy5pbnB1dCA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuJHtjbHMuaW5wdXR9YCk7XG4gICAgdGhpcy5pbnB1dEZyb20gPSB0aGlzLmlucHV0LnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5mcm9tfWApO1xuICAgIHRoaXMuaW5wdXRUbyA9IHRoaXMuaW5wdXQucXVlcnlTZWxlY3RvcihgLiR7Y2xzLnRvfWApO1xuXG4gICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMudG9nZ2xlUGlja2VyKTtcbiAgICAvLyBjYXB0dXJlOiB0cnVlIHJldmVyc2VzIG9yZGVyIG9mIGV2ZW50c1xuICAgIC8vIGNsaWNrIG9uIGJvZHkgZmlyZXMgZmlyc3RcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5ib2R5T25DbGljaywge1xuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgYm9keU9uQ2xpY2sgKCkge1xuICAgIGNvbnN0IHBhcmVudFJhbmdlUGlja2VyID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoYC4ke2Nscy5lbGVtfWApO1xuXG4gICAgaWYgKCFwYXJlbnRSYW5nZVBpY2tlciAmJiB0aGlzLmlzT3BlbmVkKSB7XG4gICAgICB0aGlzLmhpZGVQaWNrZXIoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVJbnB1dCAoKSB7XG4gICAgdGhpcy5pbnB1dEZyb20uaW5uZXJIVE1MID0gdGhpcy5kYXRlcy5mcm9tLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgIHRoaXMuaW5wdXRUby5pbm5lckhUTUwgPSB0aGlzLmRhdGVzLnRvLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9XG5cbiAgdXBkYXRlUmFuZ2UgKCkge1xuICAgIHRoaXMubW9udGhlcyA9IHRoaXMuZ2V0RGlzcGxheWVkTW9udGhlcygpO1xuICAgIHRoaXMubmV3RGF0ZXMgPSBbXTtcbiAgICB0aGlzLnVwZGF0ZUlucHV0KCk7XG4gICAgdGhpcy5oaWRlUGlja2VyKCk7XG4gIH1cblxuICB0b2dnbGVQaWNrZXIgKCkge1xuICAgIGlmICh0aGlzLmlzT3BlbmVkKSB7XG4gICAgICB0aGlzLmhpZGVQaWNrZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNob3dQaWNrZXIoKTtcbiAgICB0aGlzLmlzT3BlbmVkID0gdHJ1ZTtcbiAgfVxuXG4gIHNob3dQaWNrZXIgKCkge1xuICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xuICAgICAgdGhpcy5hZGRTZWxlY3RvcigpO1xuXG4gICAgICB0aGlzLnNlbGVjdG9yID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5zZWxlY3Rvcn1gKTtcbiAgICAgIHRoaXMuY2FsZW5kYXJzID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5jYWxlbmRhcnN9YCk7XG5cbiAgICAgIHRoaXMuc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNlbGVjdG9yT25DbGljayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzLmlubmVySFRNTCA9ICcnO1xuICAgIH1cblxuICAgIHRoaXMuYWRkQ2FsZW5kYXJzKCk7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW1PcGVuKTtcbiAgfVxuXG4gIGhpZGVQaWNrZXIgKCkge1xuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNscy5lbGVtT3Blbik7XG4gICAgdGhpcy5pc09wZW5lZCA9IGZhbHNlO1xuICAgIHRoaXMubmV3RGF0ZXMgPSBbXTtcbiAgfVxuXG4gIGFkZFNlbGVjdG9yICgpIHtcbiAgICBjb25zdCBzZWxlY3RvclN0ciA9IHRlbXBsYXRlcy5zZWxlY3RvcjtcbiAgICB0aGlzLmVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBzZWxlY3RvclN0cik7XG4gIH1cblxuICBzZWxlY3Rvck9uQ2xpY2sgKCkge1xuICAgIGNvbnN0IHsgZGF0YXNldCB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChkYXRhc2V0LnZhbHVlKSB7XG4gICAgICB0aGlzLnNldERheShldmVudC50YXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoZGF0YXNldC5kaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMubW92ZU1vbnRoKGRhdGFzZXQuZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBzZXREYXkgKGVsZW0pIHtcbiAgICBjb25zdCBkYXRlID0gZWxlbS5kYXRhc2V0LnZhbHVlO1xuXG4gICAgaWYgKHRoaXMubmV3RGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLm5ld0RhdGVzLnB1c2gobmV3IERhdGUoZGF0ZSkpO1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZChlbGVtKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm5ld0RhdGVzLnB1c2gobmV3IERhdGUoZGF0ZSkpO1xuXG4gICAgdGhpcy5uZXdEYXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgfSk7XG4gICAgdGhpcy5kYXRlcyA9IHtcbiAgICAgIGZyb206IHRoaXMubmV3RGF0ZXNbMF0sXG4gICAgICB0bzogdGhpcy5uZXdEYXRlc1sxXVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2VEYXRlJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBkYXRlczoge1xuICAgICAgICAgICAgZnJvbTogdGhpcy5kYXRlcy5mcm9tLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB0bzogdGhpcy5kYXRlcy50by50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBtb3ZlTW9udGggKGRpcmVjdGlvbikge1xuICAgIGxldCBzdGVwID0gMTtcbiAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgIHN0ZXAgPSAtMTtcbiAgICB9XG5cbiAgICB0aGlzLm1vbnRoZXMuZm9yRWFjaChkYXRlID0+IHtcbiAgICAgIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgc3RlcCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnVwZGF0ZUNhbGVuZGFycygpO1xuICB9XG5cbiAgYWRkQ2FsZW5kYXJzICgpIHtcbiAgICB0aGlzLm1vbnRoZXMuZm9yRWFjaChkYXRlID0+IHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgdGhpcy5nZXRDYWxlbmRhcihkYXRlKSk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVDYWxlbmRhcnMgKCkge1xuICAgIHRoaXMuY2FsZW5kYXJzLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuYWRkQ2FsZW5kYXJzKCk7XG4gIH1cblxuICB1cGRhdGVTZWxlY3RlZCAoZWxlbSkge1xuICAgIGNvbnN0IGNlbGxzID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2Nscy5jZWxsfWApO1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbY2xzLnNlbGVjdGVkQmV0d2VlbiwgY2xzLnNlbGVjdGVkRnJvbSwgY2xzLnNlbGVjdGVkVG9dO1xuXG4gICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzKTtcbiAgICB9KTtcblxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZChjbHMuc2VsZWN0ZWRGcm9tKTtcbiAgfVxuXG4gIGdldENhbGVuZGFyIChkYXRlKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG1vbnRoOiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyBtb250aDogJ2xvbmcnIH0pLFxuICAgICAgd2Vla2RheXM6IGdldFdlZWtEYXlzKCdkaXYnKSxcbiAgICAgIGRheXM6IHRoaXMuZ2V0Q2VsbHMoZGF0ZSlcbiAgICB9O1xuXG4gICAgY29uc3QgdG1wbCA9IHRlbXBsYXRlcy5jYWxlbmRhcjtcbiAgICBjb25zdCBjYWxlbmRhclN0ciA9IGZpbGxUZW1wbGF0ZSh7XG4gICAgICB0bXBsLFxuICAgICAgZGF0YVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhbGVuZGFyU3RyO1xuICB9XG5cbiAgZ2V0Q2VsbHMgKGRhdGUpIHtcbiAgICBjb25zdCB0bXBsID0gdGVtcGxhdGVzLmRheTtcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIGNvbnN0IG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKTtcbiAgICBsZXQgY3VycmVudERheSA9IDE7XG4gICAgbGV0IGRheXNTdHIgPSAnJztcblxuICAgIHdoaWxlIChjdXJyZW50RGF0ZS5nZXRNb250aCgpID09PSBtb250aCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldENlbGxTdGFydFN0eWxlKGN1cnJlbnREYXRlKTtcbiAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0Q2VsbE1vZChjdXJyZW50RGF0ZSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGRhdGVUaW1lOiBjdXJyZW50RGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBkYXRlTnVtOiBjdXJyZW50RGF0ZS5nZXREYXRlKCksXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBtb2RcbiAgICAgIH07XG4gICAgICBkYXlzU3RyICs9IGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuXG4gICAgICBjdXJyZW50RGF0ZS5zZXREYXRlKCsrY3VycmVudERheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheXNTdHI7XG4gIH1cblxuICBnZXRDZWxsU3RhcnRTdHlsZSAoZGF0ZSkge1xuICAgIGxldCBzdHlsZSA9ICcnO1xuICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgaWYgKGRheSA+IDEpIHtcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICBsZXQgd2Vla2RheU51bSA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgaWYgKHdlZWtkYXlOdW0gPT09IDApIHtcbiAgICAgIHdlZWtkYXlOdW0gPSA3O1xuICAgIH1cblxuICAgIHN0eWxlID0gYGdyaWQtY29sdW1uLXN0YXJ0OiAke3dlZWtkYXlOdW19YDtcblxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIGdldENlbGxNb2QgKGRhdGUpIHtcbiAgICBsZXQgbW9kID0gJyc7XG5cbiAgICBpZiAodGhpcy5uZXdEYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbW9kO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGVNcyA9IGRhdGUudmFsdWVPZigpO1xuICAgIGNvbnN0IGRhdGVGcm9tTXMgPSB0aGlzLmRhdGVzLmZyb20udmFsdWVPZigpO1xuICAgIGNvbnN0IGRhdGVUb01zID0gdGhpcy5kYXRlcy50by52YWx1ZU9mKCk7XG5cbiAgICBpZiAoZGF0ZU1zID4gZGF0ZUZyb21NcyAmJiBkYXRlTXMgPCBkYXRlVG9Ncykge1xuICAgICAgbW9kID0gY2xzLnNlbGVjdGVkQmV0d2VlbjtcbiAgICB9IGVsc2UgaWYgKGRhdGVNcyA9PT0gZGF0ZUZyb21Ncykge1xuICAgICAgbW9kID0gY2xzLnNlbGVjdGVkRnJvbTtcbiAgICB9IGVsc2UgaWYgKGRhdGVNcyA9PT0gZGF0ZVRvTXMpIHtcbiAgICAgIG1vZCA9IGNscy5zZWxlY3RlZFRvO1xuICAgIH1cblxuICAgIHJldHVybiBtb2Q7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4M2M3NTQyMGQwMzYwZWQyMjUxMWMwOTJlNTdkMWQ1NC5zdmdcIjsiLCJpbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuaW1wb3J0ICcuL2dyYWItaWNvbi5zdmcnO1xuXG5jb25zdCBjbHMgPSB7XG4gIGVsZW06ICdkcmFnZ2FibGUtbGlzdCcsXG4gIGl0ZW1zOiAnZHJhZ2dhYmxlLWxpc3RfX2l0ZW1zJyxcbiAgaXRlbTogJ2RyYWdnYWJsZS1saXN0X19pdGVtJyxcbiAgZHJhZ2dlZDogJ2RyYWdnYWJsZS1saXN0X19pdGVtLS1kcmFnZ2VkJyxcbiAgcGxhY2Vob2xkZXI6ICdkcmFnZ2FibGUtbGlzdF9faXRlbS0tcGxhY2Vob2xkZXInXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFnZ2FibGVMaXN0IGV4dGVuZHMgSFRNTFVMaXN0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5zdGFydERyYWcgPSB0aGlzLnN0YXJ0RHJhZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RvcERyYWcgPSB0aGlzLnN0b3BEcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlckhlaWdodCA9IHRoaXMuc2V0UGxhY2Vob2xkZXJIZWlnaHQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW0pO1xuICAgIHRoaXMuaXRlbXMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG4gICAgdGhpcy5wbGFjZWhvbGRlciA9IHRoaXMuY3JlYXRlUGxhY2Vob2xkZXIoKTtcblxuICAgIHRoaXMuYWRkQ2xhc3NUb0l0ZW1zKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuc3RhcnREcmFnKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5zZXRQbGFjZWhvbGRlckhlaWdodCwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgc3RhcnREcmFnIChldmVudCkge1xuICAgIHRoaXMuY3VycmVudEVsZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLmRyYWdnYWJsZS1saXN0X19pdGVtJyk7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRFbGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50RWxlbS5yZXBsYWNlV2l0aCh0aGlzLnBsYWNlaG9sZGVyKTtcbiAgICB0aGlzLmN1cnJlbnRFbGVtLmNsYXNzTGlzdC5hZGQoY2xzLmRyYWdnZWQpO1xuICAgIHRoaXMuYXBwZW5kKHRoaXMuY3VycmVudEVsZW0pO1xuXG4gICAgY29uc3QgeyB0b3AgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy50b3AgPSB0b3A7XG4gICAgdGhpcy5lbGVtSGFsZiA9IHRoaXMuY3VycmVudEVsZW0ub2Zmc2V0SGVpZ2h0IC8gMjtcblxuICAgIGNvbnN0IGVsZW1Ub3AgPSBldmVudC5jbGllbnRZIC0gdGhpcy50b3AgLSB0aGlzLmVsZW1IYWxmO1xuICAgIHRoaXMuY3VycmVudEVsZW0uc3R5bGUudG9wID0gYCR7ZWxlbVRvcH1weGA7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5tb3ZlKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuc3RvcERyYWcpO1xuICB9XG5cbiAgbW92ZSAoZXZlbnQpIHtcbiAgICBjb25zdCBlbGVtVG9wID0gZXZlbnQuY2xpZW50WSAtIHRoaXMudG9wIC0gdGhpcy5lbGVtSGFsZjtcbiAgICB0aGlzLmN1cnJlbnRFbGVtLnN0eWxlLnRvcCA9IGAke2VsZW1Ub3B9cHhgO1xuXG4gICAgLy8gQ2hlY2sgaW50ZXJzZWN0aW9uXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucyhjbHMuZHJhZ2dlZCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvcCA9IGl0ZW0ub2Zmc2V0VG9wO1xuICAgICAgY29uc3QgYm90dG9tID0gdG9wICsgaXRlbS5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zdCBtaWRkbGUgPSB0b3AgKyBpdGVtLm9mZnNldEhlaWdodCAvIDI7XG4gICAgICBjb25zdCBjaGVja0xpbmUgPSBlbGVtVG9wICsgdGhpcy5lbGVtSGFsZjtcblxuICAgICAgaWYgKGNoZWNrTGluZSA+IHRvcCAmJiBjaGVja0xpbmUgPCBib3R0b20pIHtcbiAgICAgICAgaWYgKGNoZWNrTGluZSA8PSBtaWRkbGUpIHtcbiAgICAgICAgICBpdGVtLmFmdGVyKHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uYmVmb3JlKHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0b3BEcmFnICgpIHtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnJlcGxhY2VXaXRoKHRoaXMuY3VycmVudEVsZW0pO1xuICAgIHRoaXMuY3VycmVudEVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbHMuZHJhZ2dlZCk7XG4gICAgdGhpcy5jdXJyZW50RWxlbS5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5tb3ZlKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuc3RvcERyYWcpO1xuICB9XG5cbiAgY3JlYXRlUGxhY2Vob2xkZXIgKCkge1xuICAgIGNvbnN0IGZpcnN0SXRlbSA9IHRoaXMuaXRlbXNbMF07XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBmaXJzdEl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuICAgIHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoY2xzLnBsYWNlaG9sZGVyLCBjbHMuaXRlbSk7XG4gICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICByZXR1cm4gcGxhY2Vob2xkZXI7XG4gIH1cblxuICBzZXRQbGFjZWhvbGRlckhlaWdodCAoKSB7XG4gICAgY29uc3QgZmlyc3RJdGVtID0gdGhpcy5pdGVtc1swXTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLm1pbkhlaWdodCA9IGAke2ZpcnN0SXRlbS5vZmZzZXRIZWlnaHR9cHhgO1xuICB9XG5cbiAgYWRkQ2xhc3NUb0l0ZW1zICgpIHtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5hZGQoY2xzLml0ZW0pKTtcbiAgfVxufVxuIiwiaW1wb3J0IHJlbmRlclBhZ2UgZnJvbSAnLi9yZW5kZXJQYWdlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucm91dGVzID0gW107XG5cbiAgICB0aGlzLmRvY3VtZW50Q2xpY2sgPSB0aGlzLmRvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kb2N1bWVudENsaWNrKTtcbiAgfVxuXG4gIHN0YXRpYyBpbnN0YW5jZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgUm91dGVyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIGFkZFJvdXRlIChwYXR0ZXJuLCBwYXRoKSB7XG4gICAgdGhpcy5yb3V0ZXMucHVzaCh7IHBhdHRlcm4sIHBhdGggfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXROb3RGb3VuZFBhZ2UgKHBhdGgpIHtcbiAgICB0aGlzLm5vdEZvdW5kUGFnZVBhdGggPSBwYXRoO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbmF2aWdhdGUgKGhyZWYpIHtcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBocmVmKTtcbiAgICB0aGlzLnJvdXRlKCk7XG4gIH1cblxuICBhc3luYyByb3V0ZSAoKSB7XG4gICAgY29uc3Qgc3RyaXBwZWRQYXRoID0gY2xlYW5QYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgbGV0IG1hdGNoO1xuXG4gICAgZm9yIChjb25zdCByb3V0ZSBvZiB0aGlzLnJvdXRlcykge1xuICAgICAgbWF0Y2ggPSBzdHJpcHBlZFBhdGgubWF0Y2gocm91dGUucGF0dGVybik7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gYXdhaXQgdGhpcy5jaGFuZ2VQYWdlKHJvdXRlLnBhdGgsIG1hdGNoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgdGhpcy5wYWdlID0gYXdhaXQgdGhpcy5jaGFuZ2VQYWdlKHRoaXMubm90Rm91bmRQYWdlUGF0aCk7XG4gICAgfVxuXG4gICAgLy8gY3VzdG9tIGV2ZW50IGhlcmVcbiAgfVxuXG4gIGFzeW5jIGNoYW5nZVBhZ2UgKHBhdGgsIG1hdGNoKSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UuZGVzdHJveSkge1xuICAgICAgdGhpcy5wYWdlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhZ2UgPSBhd2FpdCByZW5kZXJQYWdlKHBhdGgsIG1hdGNoKTtcbiAgfVxuXG4gIGFkZExpc3RlbmVyICgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiB0aGlzLnJvdXRlKCkpO1xuICAgIHRoaXMucm91dGUoKTtcbiAgfVxuXG4gIGRvY3VtZW50Q2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3QgbGluayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdhJyk7XG5cbiAgICBpZiAoIWxpbmspIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgIGlmIChocmVmICYmIChocmVmLnN0YXJ0c1dpdGgoJy8nKSB8fCBocmVmLnN0YXJ0c1dpdGgoJy4vJykpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5uYXZpZ2F0ZShocmVmKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYW5QYXRoIChwYXRoKSB7XG4gIHJldHVybiBkZWNvZGVVUkkocGF0aClcbiAgICAucmVwbGFjZSgvXlxcL3Nob3AtYWRtaW4tcGFnZS8sICcnKSAvLyBkaXJ0eSBoYWNrIGZvciBnaC1wYWdlc1xuICAgIC5yZXBsYWNlKC9eXFwvfFxcLyQvLCAnJylcbiAgICAucmVwbGFjZSgvXFw/LiokLywgJycpXG4gICAgLnJlcGxhY2UoLyMuKiQvLCAnJyk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiByZW5kZXJQYWdlIChwYXRoLCBtYXRjaCkge1xuICBjb25zdCB7IGRlZmF1bHQ6IFBhZ2UgfSA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIGAuLi9wYWdlcy8ke3BhdGh9L2luZGV4LmpzYCk7XG4gIGNvbnN0IHBhZ2UgPSBuZXcgUGFnZShtYXRjaCk7XG4gIGNvbnN0IHJlbmRlcmVkUGFnZSA9IGF3YWl0IHBhZ2UucmVuZGVyKCk7XG5cbiAgY29uc3QgY29udGVudEVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuICBjb250ZW50RWxlbS5pbm5lckhUTUwgPSAnJztcbiAgY29udGVudEVsZW0uYXBwZW5kKHJlbmRlcmVkUGFnZSk7XG59XG4iLCJpbXBvcnQgTGF5b3V0IGZyb20gJy4vY29tcG9uZW50cy9MYXlvdXQvaW5kZXguanMnO1xuaW1wb3J0IENvbHVtbkNoYXJ0IGZyb20gJy4vY29tcG9uZW50cy9Db2x1bW5DaGFydC9pbmRleC5qcyc7XG5pbXBvcnQgUmFuZ2VQaWNrZXIgZnJvbSAnLi9jb21wb25lbnRzL1JhbmdlUGlja2VyL2luZGV4LmpzJztcbmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJy4vY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlL2luZGV4LmpzJztcbmltcG9ydCBEcmFnZ2FibGVMaXN0IGZyb20gJy4vY29tcG9uZW50cy9EcmFnZ2FibGVMaXN0L2luZGV4LmpzJztcbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi9saWIvUm91dGVyLmpzJztcblxuaW1wb3J0ICcuL2Fzc2V0cy9zY3NzL3N0eWxlcy5zY3NzJztcblxuLy8gUm91dGluZ1xuY29uc3Qgcm91dGVyID0gUm91dGVyLmluc3RhbmNlKCk7XG5cbnJvdXRlclxuICAuYWRkUm91dGUoL14kLywgJ2Rhc2hib2FyZCcpXG4gIC5hZGRSb3V0ZSgvXmNhdGVnb3JpZXMkLywgJ2NhdGVnb3JpZXMnKVxuICAuYWRkUm91dGUoL15wcm9kdWN0c1xcLyhbXFxTKCktXSspL2csICdwcm9kdWN0cy9lZGl0JylcbiAgLmFkZFJvdXRlKC9ecHJvZHVjdHNcXC9hZGQkLywgJ3Byb2R1Y3RzL2VkaXQnKVxuICAuYWRkUm91dGUoL15wcm9kdWN0cyQvLCAncHJvZHVjdHMnKVxuICAuc2V0Tm90Rm91bmRQYWdlKCdlcnJvcjQwNCcpXG4gIC5hZGRMaXN0ZW5lcigpO1xuXG4vLyBJbml0IGN1c3RvbSBlbGVtZW50c1xud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncGFnZS1sYXlvdXQnLCBMYXlvdXQpO1xud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY29sdW1uLWNoYXJ0JywgQ29sdW1uQ2hhcnQpO1xud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncmFuZ2UtcGlja2VyJywgUmFuZ2VQaWNrZXIpO1xud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc29ydGFibGUtdGFibGUnLCBTb3J0YWJsZVRhYmxlKTtcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RyYWdnYWJsZS1saXN0JywgRHJhZ2dhYmxlTGlzdCwgeyBleHRlbmRzOiAndWwnIH0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==