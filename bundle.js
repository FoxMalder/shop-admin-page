!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/shop-admin-page/",s(s.s=35)}([function(t,e,s){"use strict";var i="content"in document.createElement("template")?function(t){const e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild}:function(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild};function n(t){return t.replace(/&/g,"&").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"<").replace(/>/g,">")}function a({tmpl:t,data:e}){if(t&&e)return t.replace(/{([^"]{1,})}/g,(t,s)=>void 0!==e[s]?e[s]:"")}function r(t){const e=new Date(t).toDateString().split(" ");return`${e[1]} ${e[2]}, ${e[3]}`}function o(t){let e=t;if(t>=1e3){const s=t%1e3;e=`${(t-s)/1e3},${s}`}return`$${e}`}function c(t){const e=new Date(1970,0,5);let s="",i=0;for(;i<7;){s+=`<${t}>${e.toLocaleString("default",{weekday:"narrow"})}</${t}>`,e.setDate(e.getDate()+1),i++}return s}function l(t,e,s){let i,n=!1,a=!0;return function(){i=arguments,a&&(t.apply(e,...i),a=!1),n||(n=!0,setTimeout((function(){t.apply(e,...i),n=!1}),s))}}s(17);const d={elem:"notification",warning:"notification--warning",error:"notification--error"};class h{constructor({message:t,container:e,type:s}){this.message=t,this.container=e,this.type=s,this.duration=this.getDuration(),this.classNames=this.getClasses(),this.addElem(),this.isFinished=!1}addElem(){this.elem=document.createElement("div"),this.elem.classList.add(...this.classNames),this.elem.dataset.state="shown",this.elem.innerHTML=this.message,this.container.prepend(this.elem),setTimeout(()=>{this.hideElem()},this.duration)}async hideElem(t={}){return this.isFinished=!0,this.elem.dataset.state="hidden",new Promise((t,e)=>{this.elem.addEventListener("animationend",()=>{this.elem.remove(),t()})})}getDuration(){return"error"===this.type?5e3:3e3}getClasses(){const t=[d.elem];return this.type&&d[this.type]&&t.push(d[this.type]),t}}const u=document.createElement("div");u.classList.add("notifications"),document.body.append(u);let p=[];async function m(t,e){let s;try{s=await fetch(t,e)}catch(e){throw new g(s,null,`Network error for url ${t}`)}if(!s.ok){let e;const i=s.statusText;try{e=await s.json()}catch(t){}let n=`Error ${s.status} for url ${t}`;throw i&&(n+=`: ${i}`),new g(s,e,n)}try{s=await s.json()}catch(t){throw new g(s,null,t.message)}return s}class g extends Error{constructor(t,e,s){super(s),this.name="FetchError",this.response=t,this.body=e}}window.addEventListener("unhandledrejection",t=>{t.reason instanceof g&&async function(t,e){const s=new h({message:t,container:u,type:e});p.push(s),s.elem.offsetTop<0&&(p=p.filter(t=>!t.isFinished),p.shift().hideElem())}(t.reason.message,"error")}),s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"f",(function(){return o})),s.d(e,"g",(function(){return c})),s.d(e,"h",(function(){return l})),s.d(e,"c",(function(){return m}))},function(t,e,s){"use strict";e.a={form:"product-form",list:"product-form__list",item:"product-form__item",itemTiny:"product-form__item--tiny",itemFollow:"product-form__item--follow",itemFull:"product-form__item--full",label:"product-form__label",input:"product-form__input",inputUpload:"product-form__upload",inputUploadLoading:"product-form__upload--loading",inputText:"product-form__input--text",inputNumber:"product-form__input--number",inputSelect:"product-form__input--select",inputTextarea:"product-form__input--textarea",imgsList:"product-form__images-list",imgsItem:"product-form__images-item",img:"product-form__image",imgWrapper:"product-form__image-wrapper",imgSource:"product-form__image-source",imgRemove:"product-form__image-remove",preview:"product-form__preview",footer:"product-form__footer",submit:"product-form__submit"}},function(t,e,s){"use strict";e.a={elem:"sortable-table",table:"sortable-table__table",thead:"sortable-table__thead",header:"sortable-table__header",row:"sortable-table__row",cell:"sortable-table__cell",cellError:"sortable-table__cell--error",cellSorter:"sortable-table__cell--sorter",img:"sortable-table__image",imgWrapper:"sortable-table__image-wrapper",preview:"sortable-table__preview",link:"sortable-table__link",category:"sortable-table__category",tooltipCategory:"sortable-table__tooltip-category",tooltipSubcategory:"sortable-table__tooltip-subcategory"}},function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"e",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"f",(function(){return o})),s.d(e,"d",(function(){return c})),s.d(e,"b",(function(){return l}));var i=s(1);const n='<header class="page-content__header">\n  <h2 class="page-content__title">\n  <a href="./products">Products</a>\n  /Edit Product</h2>\n</header>',a=`<label class="${i.a.label}">\n  {fieldName}\n\n  <input\n    class="${i.a.input} ${i.a.inputText}"\n    type="text"\n    name="{id}"\n    value="{value}"/>\n</label>`,r=`<label class="${i.a.label}">\n  {fieldName}\n\n  <input\n    class="${i.a.input} ${i.a.inputNumber}"\n    type="number"\n    name="{id}"\n    value="{value}"/>\n</label>`,o=`<label class="${i.a.label}">\n  {fieldName}\n\n  <textarea\n    class="${i.a.input} ${i.a.inputTextarea}"\n    name="{id}">{value}</textarea>\n</label>`,c=`<label class="${i.a.label}">\n  {fieldName}\n\n  <select\n    class="${i.a.input} ${i.a.inputSelect}"\n    name="{id}">\n    {options}\n  </select>\n</label>`,l=`<li class="${i.a.imgsItem}">\n  <div class="${i.a.imgWrapper}">\n    <img src="{url}" class="${i.a.img}">\n    <span style="background-image: url({url})" class="${i.a.preview}"><span>\n  </div>\n  <span class="${i.a.imgSource}">{source}</span>\n  <button type="button" class="${i.a.imgRemove}">Remove</button>\n</li>`},function(t,e,s){"use strict";e.a={elem:"column-chart",content:"column-chart__content",header:"column-chart__header",title:"column-chart__title",total:"column-chart__total",list:"column-chart__list",item:"column-chart__item",tooltip:"column-chart__tooltip",tooltipDate:"column-chart__tooltip-date",tooltipQuantity:"column-chart__tooltip-quantity",error:"column-chart__error"}},function(t,e,s){"use strict";e.a={elem:"categories",list:"categories__list",listTop:"categories__list--topcategories",listSubcats:"categories__list--subcategories",item:"categories__item",itemTop:"categories__item--topcategory",itemSub:"categories__item--subcategory",itemOpen:"categories__item--open",toggler:"categories__toggler",counter:"categories__counter"}},function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s(22);class i{constructor({title:t,text:e,callback:s,callbackText:i,error:n}){this.title=t,this.text=e||"Something went wrong",this.callback=s,this.callbackText=i,this.error=n,!this.title&&this.error&&(this.title="Error"),this.createElement()}createElement(){this.elem=document.createElement("div"),this.elem.classList.add("page-message"),this.error&&this.elem.classList.add("page-message--error"),this.content=`<h3>${this.title}</h3><p>${this.text}</p>`,this.error&&(this.content+=`<div class="page-message__error">\n        <div class="page-message__error-text">\n          <strong>${this.error.name}</strong>: ${this.error.message}</div>\n      </div>`),this.elem.insertAdjacentHTML("afterBegin",this.content)}}},function(t,e,s){"use strict";var i=s(0),n=s(9),a=s(2);e.a={images:{title:"Image",render({images:t}){if(!t||!t[0].url)return"";const e=t[0].url;return`<div class="${a.a.imgWrapper}">\n      <img src="${e}" class="${a.a.img}">\n      <span style="background-image: url(${e})" class="${a.a.preview}"><span>\n      <div>`},compare:null},title:{title:"Name",render:({title:t,id:e})=>`\n      ${t}\n      <a class="${a.a.link}" href="./products/${e}"></a>\n      `,compare:(t,e)=>t.title.localeCompare(e.title)},subcategory:{title:"Category",render({subcategory:t}){const e=t.category,s=`<span class="${a.a.tooltipCategory}">${e.title}</span>/<span class="${a.a.tooltipSubcategory}">${t.title}</span>`;return`<span class="${a.a.category}" data-tooltip-content="${Object(i.b)(s)}">${t.title}</span>`},compare(t,e){const s=t.subcategory.title,i=e.subcategory.title;return s.localeCompare(i)}},quantity:{title:"Quantity",render:({quantity:t})=>t,compare:(t,e)=>t.quantity-e.quantity},price:{title:"Price",render:({price:t})=>Object(i.f)(t),compare:(t,e)=>t.price-e.price},status:{title:"Status",render:({status:t})=>n.a[t],compare:(t,e)=>t.status-e.status}}},function(t,e){var s,i,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===a||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:a}catch(t){s=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var c,l=[],d=!1,h=-1;function u(){d&&c&&(d=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!d){var t=o(u);d=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];l.push(new m(t,e)),1!==l.length||d||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,s){"use strict";e.a={0:"Disabled",1:"Enabled"}},function(t,e,s){"use strict";var i=s(0),n="tooltips-container",a="tooltips-container--dimmed",r="tooltip";s(19);s.d(e,"a",(function(){return o}));class o{constructor({elem:t,dimSiblings:e}){this.elem=t,this.elem.classList.add(n),this.dimSiblings=e,this.tooltip=Object(i.a)(`<div class="${r}"></div>`),this.elem.append(this.tooltip),this.listMouseMove=this.listMouseMove.bind(this),this.listMouseOut=this.listMouseOut.bind(this),this.elem.addEventListener("mousemove",this.listMouseMove),this.elem.addEventListener("mouseleave",this.listMouseOut)}listMouseMove(){if(!event.target.dataset.tooltipContent)return void this.hideTooltip();const{tooltipContent:t}=event.target.dataset;this.tooltip.innerHTML=t,this.tooltip.dataset.visible=1,this.elemCoords=this.elem.getBoundingClientRect();const e={x:event.clientX-this.elemCoords.x,y:event.clientY-this.elemCoords.y};this.tooltip.style=`transform: translate(${e.x}px, ${e.y}px)`,this.tooltipCoords=this.tooltip.getBoundingClientRect();const s=this.tooltipCoords.right-document.documentElement.clientWidth;s>0&&(e.x-=s,this.tooltip.style=`transform: translate(${e.x}px, ${e.y}px)`),this.dimSiblings&&this.elem.classList.add(a)}listMouseOut(){event.target.dataset.tooltipContent||this.hideTooltip()}hideTooltip(){this.tooltip.dataset.visible=0,this.elem.classList.remove(a)}}},function(t,e,s){"use strict";var i={0:"desc",1:"asc"};s.d(e,"a",(function(){return n}));const n=t=>i[+t]},function(t,e,s){"use strict";var i=s(4);const n=`<header class="${i.a.header}">\n  <h3 class="${i.a.title}">{title}</h3>\n  <div class="${i.a.total}">{total}</div>\n</header>`,a=`<li\n  class="${i.a.item}"\n  data-tooltip-content="{tootipContent}"\n  style="height: {height}"></li>`;e.a={header:n,chartItem:a}},function(t,e,s){"use strict";var i=s(3),n={0:"Disabled",1:"Enabled"},a=s(0),r=s(1);function o(t){const e=[];for(const s of t)for(const t of s.subcategories)e.push({value:t.id,text:`${s.title} > ${t.title}`});return e}function c(t,e){return t.map((t,s)=>{const i=t.value||s,n=t.text||t;return`<option value="${i}" ${i===e?"selected":""}>${n}</option>`}).join("")}e.a={images:{render:({images:t})=>t?function(t){const e=t.map(t=>Object(a.d)({tmpl:i.b,data:t}));return`\n    <ul class="${r.a.imgsList}" is="draggable-list">${e.join(" ")}</ul>\n    <button type="button" class="${r.a.inputUpload}">Upload</button>\n  `}(t):"",compare:null},title:{render({title:t}){const e={id:"title",fieldName:"Name",value:t};return Object(a.d)({tmpl:i.e,data:e})}},description:{render({description:t}){const e={id:"description",fieldName:"Description",value:t};return Object(a.d)({tmpl:i.f,data:e})}},subcategory:{render({categories:t,subcategory:e}){const s={id:"subcategory",fieldName:"Category",options:c(o(t),e)};return Object(a.d)({tmpl:i.d,data:s})}},quantity:{render({quantity:t}){const e={id:"quantity",fieldName:"Quantity",value:t};return Object(a.d)({tmpl:i.c,data:e})}},price:{render({price:t}){const e={id:"price",fieldName:"Price",value:t};return Object(a.d)({tmpl:i.c,data:e})}},discount:{render({discount:t}){const e={id:"discount",fieldName:"Discount",value:t};return Object(a.d)({tmpl:i.c,data:e})}},status:{render({status:t}){const e={id:"status",fieldName:"Status",value:t,options:c(Object.values(n),t)};return Object(a.d)({tmpl:i.d,data:e})}}}},function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return o}));var i=s(10),n=s(0),a=s(4),r=s(12);s(20);class o extends HTMLElement{constructor(){super(),this.elem=document.createElement("div"),this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.changeDate=this.changeDate.bind(this)}async connectedCallback(){const{type:t,isMoney:e,from:s,to:i}=this.dataset;this.dates={from:new Date(s),to:new Date(i)},this.type=t,this.formatTotal=e?n.f:null,this.classList.add(a.a.elem,`${a.a.elem}--${t}`),this.elem.classList.add(a.a.content),this.title=`Total ${t}`,this.url=this.getUrl(),await this.render(),this.append(this.elem),document.addEventListener("changeDate",this.changeDate)}getUrl(){return`${this.apiUrl}/api/dashboard/${this.type}?from=${this.dates.from}&to=${this.dates.to}`}async getData(){try{return{data:await Object(n.c)(this.url)}}catch(t){return{error:t}}}async render(){const{data:t,error:e}=await this.getData();if(this.data=t,e)return void this.elem.insertAdjacentHTML("beforeEnd",`<div class="${a.a.error}">${e}</div>`);this.values=Object.values(this.data),0===this.values.length&&this.values.push("No data");const s=this.getHeaderStr(),i=this.getListStr();this.elem.insertAdjacentHTML("beforeEnd",s+i),this.addActions()}getHeaderStr(){return this.total=this.values.reduce((t,e)=>t+e,0),this.formatTotal&&(this.total=this.formatTotal(this.total)),Object(n.d)({tmpl:r.a.header,data:this})}getListStr(){const t=Math.max(...this.values);let e="";for(const s in this.data){const i=Object(n.e)(s);let o=this.data[s];const c=`${(o/t*100).toFixed(2)}%`;this.formatTotal&&(o=this.formatTotal(o));const l=`<small class="${a.a.tooltipDate}">${i}</small><div class="${a.a.tooltipQuantity}">${o}</div>`;e+=Object(n.d)({tmpl:r.a.chartItem,data:{...this,height:c,tootipContent:Object(n.b)(l)}})}return`<ul class="${a.a.list}">${e}</ul>`}addActions(){this.tooltips=new i.a({elem:this.elem,dimSiblings:!0})}async changeDate(t){if(!t.detail||!t.detail.dates)return;const{from:e,to:s}=t.detail.dates;this.dates={from:e,to:s},this.url=this.getUrl(),this.elem.innerHTML="",await this.render(),this.append(this.elem)}}}).call(this,s(8))},function(t,e,s){"use strict";(function(t){s.d(e,"a",(function(){return d}));var i=s(10),n=s(2),a=s(9),r=s(7),o=s(0),c=s(11),l=s(6);s(23);class d extends HTMLElement{constructor(){super(),this.sorting={current:null,isAsc:!0},this.page={items:20,current:0,isDataEnded:!1},this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.changeDate=this.changeDate.bind(this)}async connectedCallback(){const{url:t,fieldsList:e,orderField:s,orderDirection:i,isDynamic:n,from:a,to:r}=this.dataset;this.dates={from:a,to:r},this.url=this.apiUrl+t,this.fieldsList=JSON.parse(e.replace(/'/g,'"')),this.isDynamic=+n,this.order={field:s,direction:i},this.initTable=this.initTable.bind(this),this.isLoading=!1,this.order&&void 0!==this.order.direction&&(this.sorting.isAsc=this.order.direction),this.fetchUrl=this.getFetchUrl(),this.onBodyScrollThrottle=Object(o.h)(this.onBodyScroll,this,500),this.initTable(),document.addEventListener("changeDate",this.changeDate)}async loadData(){this.isLoading=!0,this.table.dataset.loading=1;try{const t=await Object(o.c)(this.fetchUrl);return this.isLoading=!1,this.table.dataset.loading=0,t}catch(t){const e=new l.a({error:t});this.table.dataset.loading=0,this.tBody.insertAdjacentHTML("beforeEnd",`<tr class="${n.a.row}"><td class="${n.a.cellError}">${e.elem.outerHTML}</tr>`)}}initTable(){this.createLayout(),this.addElemHeader(),this.addTableEvents(),this.fillTBody()}async fillTBody(){this.page.isDataEnded||(this.tableRows=await this.loadData(),this.tableRows.length<this.page.items&&(this.page.isDataEnded=!0,0===this.tableRows.length)||(!this.isDynamic&&this.order&&this.order.field?this.sortRows(this.order.field):this.renderTBody()))}getFetchUrl(){const t={start:this.page.current*this.page.items,end:(this.page.current+1)*this.page.items,sort:this.order.field,order:Object(c.a)(this.sorting.isAsc)};this.dates&&this.dates.from&&(t.from=this.dates.from,t.to=this.dates.to);let e="";for(const s in t){let i="_";"from"!==s&&"to"!==s||(i=""),e+=`&${i}${s}=${t[s]}`}return this.url+e}createLayout(){this.classList.add(n.a.elem),this.table=document.createElement("table"),this.table.classList.add(n.a.table),this.tBody=document.createElement("tbody"),this.table.append(this.tBody),this.table.insertAdjacentHTML("beforeEnd",`<tfoot><tr><td colspan="${this.fieldsList.length}"><div class="spinner"></div></td></tr></tfoot>`),this.append(this.table)}addElemHeader(){let t="";this.fieldsList.forEach(e=>{let s=n.a.cell;const i={sorter:"",sortDirection:""};if(r.a[e].compare&&(s+=` ${n.a.cellSorter}`,i.sorter='data-sorter="1"'),e===this.order.field){const t=Object(c.a)(this.sorting.isAsc);i.sortDirection=`data-sort-direction="${t}"`}t+=`<th class="${s}"\n        data-name="${e}"\n        ${i.sorter}\n        ${i.sortDirection}\n        >${r.a[e].title}</th>`});const e=`<thead class="${n.a.thead}"><tr class="${n.a.header} ${n.a.row}">\n      ${t}\n    </tr></thead>`;this.table.insertAdjacentHTML("afterBegin",e),this.sorting.current=this.table.querySelector("[data-sort-direction]")}sorterOnClick(t){const{name:e}=t.dataset;t.dataset.sortDirection?this.sorting.isAsc=!this.sorting.isAsc:(this.sorting.current&&delete this.sorting.current.dataset.sortDirection,this.sorting.isAsc=!0,this.sorting.current=t),t.dataset.sortDirection=Object(c.a)(this.sorting.isAsc),this.isDynamic?this.sortRowsDynamic(e):this.sortRows(e)}sortRows(t){this.tableRows.sort(r.a[t].compare),this.sorting.isAsc||this.tableRows.reverse(),this.tBody.innerHTML="",this.renderTBody()}sortRowsDynamic(t){this.order.field=t,this.page.current=0,this.page.isDataEnded=!1,this.fetchUrl=this.getFetchUrl(),this.tBody.innerHTML="",this.fillTBody()}addTableEvents(){this.table.addEventListener("click",this),window.addEventListener("scroll",this.onBodyScrollThrottle),this.tooltips=new i.a({elem:this})}handleEvent(){event.target.dataset.sorter&&this.sorterOnClick(event.target)}onBodyScroll(){if(this.isLoading)return;document.documentElement.getBoundingClientRect().bottom-window.innerHeight<100&&(this.page.current++,this.fetchUrl=this.getFetchUrl(),this.fillTBody())}renderTBody(){this.pageYOffset=window.pageYOffset,this.tableRows.forEach(t=>{let e="";const{status:s}=t;this.fieldsList.forEach(i=>{const o=[n.a.cell,`${n.a.cell}--${i}`,`${n.a.cell}--${a.a[s].toLowerCase()}`],c=(0,r.a[i].render)(t);c&&(e+=`<td class="${o.join(" ")}">${c}</td>`)}),this.tBody.insertAdjacentHTML("beforeEnd",`<tr class="${n.a.row}">${e}</tr>`)}),this.pageYOffset&&window.scrollTo(0,this.pageYOffset)}async changeDate(t){t.detail&&t.detail.dates&&(this.dates=t.detail.dates,this.fetchUrl=this.getFetchUrl(),this.tBody.innerHTML="",this.fillTBody())}}}).call(this,s(8))},function(t,e,s){"use strict";var i=s(1);e.a=[{name:"title"},{name:"description",mods:[i.a.itemFull]},{name:"images",mods:[i.a.itemFull]},{name:"subcategory"},{name:"price",mods:[i.a.itemTiny]},{name:"discount",mods:[i.a.itemTiny,i.a.itemFollow]},{name:"quantity",mods:[i.a.itemTiny]},{name:"status",mods:[i.a.itemTiny]}]},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){var i={"./categories/index.js":26,"./dashboard/index.js":28,"./error404/index.js":29,"./products/edit/index.js":30,"./products/index.js":33};function n(t){return a(t).then(s)}function a(t){return Promise.resolve().then((function(){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}))}n.keys=function(){return Object.keys(i)},n.resolve=a,n.id=25,t.exports=n},function(t,e,s){"use strict";s.r(e),function(t){var i=s(0),n=s(6),a=s(5);s(27);e.default=class{constructor(){this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.fetchUrl=`${this.apiUrl}/api/rest/categories?_sort=weight&_refs=subcategory`,this.listClick=this.listClick.bind(this)}async render(){const{categories:t,message:e}=await this.loadData();if(e)return Object(i.a)(`<div class="page-content">\n        <section class="page-section categories">\n          <h2 class="page-section__title">Categories</h2>\n\n          ${e.elem.outerHTML}\n        </section>\n      </div>\n      `);const s=this.createList(t);return this.elem=Object(i.a)(`<div class="page-content">\n      <section class="page-section categories">\n        <h2 class="page-section__title">Categories</h2>\n\n        ${s}\n      </section>\n    </div>`),this.addEvents(),this.elem}async loadData(){try{return{categories:await Object(i.c)(this.fetchUrl)}}catch(t){return{message:new n.a({error:t})}}}createList(t,e=!1){let s="",i=a.a.listTop,n=a.a.item,r="";if(e?(i=a.a.listSubcats,n+=` ${a.a.itemSub}`,r='is="draggable-list"'):n+=` ${a.a.itemTop}`,0===t.length)return"";for(const i of t){let t="",r=i.title;const o=i.subcategories;let c="";if(e){const t=this.getPlural(i.count,["product","products"]);c=`<span class="${a.a.counter}">${t}</span>`}o&&(r=` <button class="${a.a.toggler}">${i.title}</button>`,t=this.createList(o,!0)),s+=`<li class="${n}">\n        ${r}\n        ${c}\n        ${t}\n      </li>`}return`<ul\n      class="${a.a.list} ${i}" ${r}\n      >\n      ${s}\n    </ul>`}addEvents(){this.elem.querySelector(`.${a.a.listTop}`).addEventListener("click",this.listClick)}listClick(){event.target.closest(`.${a.a.toggler}`)&&event.target.closest(`.${a.a.itemTop}`).classList.toggle(a.a.itemOpen)}getPlural(t,e){let s=e[0];return 1!==t&&(s=e[1]),`${t} ${s}`}}}.call(this,s(8))},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);const n=new Date;n.setMonth(n.getMonth()-1);const a=new Date,r=n.toISOString(),o=a.toISOString();e.default=class{async render(){return Object(i.a)(`<div class="page-content">\n      <header class="page-content__header">\n        <h2 class="page-content__title">Dashboard</h2>\n\n        <range-picker\n          data-from="${r}"\n          data-to="${o}"\n          ></range-picker>\n        </header>\n\n        <section class="page-section page-section--column-charts">\n          <column-chart\n            data-type="orders"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n\n          <column-chart\n            data-type="sales"\n            data-is-money="true"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n\n          <column-chart\n            data-type="customers"\n            data-from="${r}"\n            data-to="${o}"\n          ></column-chart>\n        </section>\n\n        <section class="page-section">\n          <h3 class="page-section__title">Bestsellers</h3>\n\n        <sortable-table\n          data-url="/api/dashboard/bestsellers?_embed=subcategory.category",\n          data-is-dynamic="0"\n          data-fields-list="['images', 'title', 'subcategory', 'quantity', 'price', 'status']"\n          data-order-field='title',\n          data-order-direction="1"\n          data-from="${r}"\n          data-to="${o}"\n          ></sortable-table>\n        </section>\n      </div>`)}}},function(t,e,s){"use strict";s.r(e);var i=s(0);e.default=class{async render(){return Object(i.a)('<div class="page-content">\n        <section class="page-section page-section--404">\n          <h2 class="page-section__title">Page not found</h2>\n          <p>No such page</p>\n        </section>\n      </div>')}}},function(t,e,s){"use strict";s.r(e),function(t){var i=s(0),n=s(6),a=s(13),r=s(16),o=s(1),c=s(3);s(31),s(32);e.default=class{constructor(e){this.id=e[0].replace("products/",""),e[0]||(this.id="3d-ochki-optoma-zd302"),this.apiUrl=t.env.API_URL||"https://course-js.javascript.ru",this.fetchProductUrl=this.apiUrl+`/api/rest/products?id=${this.id}`,this.fetchCategoriesUrl=this.apiUrl+"/api/rest/categories?_sort=weight&_refs=subcategory",this.uploadImage=this.uploadImage.bind(this)}async render(){const{productData:t,categories:e,errorMessage:s}=await this.loadData();if(s)return Object(i.a)(`<div class="page-content">\n        ${c.a}\n\n        ${s.outerHTML}\n      </div>\n      `);const n=t[0],a=this.getInputsList({product:n,categories:e});return this.elem=Object(i.a)(`<div class="page-content">\n      ${c.a}\n\n      <form action="" class="${o.a.form}}">\n        <ul class="${o.a.list}">\n          ${a.join("\n")}\n        </ul>\n\n        <footer class="${o.a.footer}">\n          <button class="${o.a.submit}">Save</button>\n        </footer>\n      </form>\n    </div>`),this.imgUploadButton=this.elem.querySelector(`.${o.a.inputUpload}`),this.imgList=this.elem.querySelector(`.${o.a.imgsList}`),this.addEvents(),this.elem}getInputsList({product:t,categories:e}){const s=[];for(const{name:i,mods:n}of r.a)if(a.a[i]){let r=t;"subcategory"===i&&(r={...r,categories:e});const c=a.a[i].render(r);let l=[o.a.item];n&&(l=l.concat(n)),s.push(`<li class="${l.join(" ")}">${c}</li>`)}return s}addEvents(){this.imgUploadButton.addEventListener("click",this.uploadImage)}async uploadImage(){let t;this.fileInput=this.fileInputCreate(),this.fileInput.click();this.fileInput.addEventListener("change",async()=>{this.imgUploadButton.classList.add(o.a.inputUploadLoading),this.imgUploadButton.disabled=!0;const e=this.fileInput.files[0];if(!e)return;const s=new FormData;s.append("image",e);try{const e=await Object(i.c)("https://api.imgur.com/3/image",{method:"POST",headers:{Authorization:"Client-ID e2b5c366b2d23fb"},body:s});t=e.data}finally{this.imgUploadButton.classList.remove(o.a.inputUploadLoading),this.imgUploadButton.disabled=!1,this.fileInput.remove()}this.addImageItem(t)})}fileInputCreate(){const t=document.createElement("input");return t.type="file",t.accept="image/*",document.body.append(t),t.hidden=!0,t}addImageItem({id:t,link:e,type:s}){const n=s.split("/")[1],a=Object(i.d)({tmpl:c.b,data:{url:e,source:`${t}.${n}`}});this.imgList.insertAdjacentHTML("beforeEnd",a)}async loadData(){try{const t=await Promise.all([Object(i.c)(this.fetchProductUrl),Object(i.c)(this.fetchCategoriesUrl)]);return{productData:t[0],categories:t[1]}}catch(t){return{errorMessage:new n.a({error:t}).elem}}}}}.call(this,s(8))},function(t,e,s){"use strict";s.p},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);e.default=class{async render(){return Object(i.a)("<div class=\"page-content\">\n      <section class=\"page-section\">\n        <h2 class=\"page-section__title\">Products</h2>\n\n        <sortable-table\n          data-url=\"/api/rest/products?_embed=subcategory.category\",\n          data-is-dynamic=\"1\"\n          data-fields-list=\"['images', 'title', 'subcategory', 'quantity', 'price', 'status']\"\n          data-order-field='title',\n          data-order-direction=\"1\"\n          ></sortable-table>\n      </section>\n    </div>")}}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0);s(18);class n extends HTMLElement{connectedCallback(){this.append(this.render()),this.classList.add("page")}render(){return Object(i.a)('<div class="page-container">\n      <aside class="page-aside">\n        <h1 class="page-aside__title">\n          <a href="./">Shop admin</a>\n        </h1>\n\n        <nav class="page-aside__nav">\n          <ul class="page-aside__list">\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--dashboard"\n                href="./">\n                <span class="page-aside__link-text">\n                  Dashboard\n                </span>\n              </a>\n            </li>\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--products"\n                href="./products">\n                <span class="page-aside__link-text">\n                  Products\n                </span>\n              </a>\n            </li>\n            <li class="page-aside__item">\n              <a\n                class="page-aside__link page-aside__link--categories"\n                href="./categories">\n                <span class="page-aside__link-text">\n                  Categories\n                </span>\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </aside>\n\n      <main class="page-main" id="content">\n        \x3c!-- main content will be here --\x3e\n      </main>\n    </div>')}}var a=s(14),r="rangepicker",o="rangepicker--open",c="rangepicker__input",l="rangepicker__from",d="rangepicker__to",h="rangepicker__selector",u="rangepicker__selector-control",p="rangepicker__calendars",m="rangepicker__cell",g="rangepicker__selected-from",f="rangepicker__selected-between",b="rangepicker__selected-to";var v={input:`<button class="${c}" data-elem="input" type="button">\n  <span\n    class="${l}"\n    data-elem="from">{from}</span> -\n  <span\n    class="${d}"\n    data-elem="to"\n    >{to}</span>\n</button>`,selector:`\n<div class="${h}" data-elem="selector">\n  <div class="${"rangepicker__selector-arrow"}"></div>\n  <button\n    type="button"\n    class="${u} ${u}--left"\n    data-direction="prev"\n  ></button>\n  <button\n    type="button"\n    class="${u} ${u}--right"\n    data-direction="next"\n  ></button>\n  <div class="${p}"></div>\n</div>\n`,calendar:`\n<div class="${"rangepicker__calendar"}">\n  <div class="${"rangepicker__month-indicator"}">\n    <time datetime="{month}">{month}</time>\n  </div>\n  <div class="${"rangepicker__day-of-week"}">\n    {weekdays}\n  </div>\n  <div class="${"rangepicker__date-grid"}">\n    {days}\n  </div>\n</div>\n`,day:`\n<button type="button" class="${m} {mod}" data-value="{dateTime}" style="{style}">{dateNum}</button>\n`};s(21),s.p,s.p;class y extends HTMLElement{constructor(){super(),this.togglePicker=this.togglePicker.bind(this),this.selectorOnClick=this.selectorOnClick.bind(this),this.bodyOnClick=this.bodyOnClick.bind(this),this.updateRange=this.updateRange.bind(this),this.isOpened=!1,this.elem=this,this.elem.classList.add("rangepicker")}async connectedCallback(){const{from:t,to:e}=this.dataset;this.dates={from:new Date(t),to:new Date(e)},this.monthes=this.getDisplayedMonthes(),this.newDates=[],this.addInput(),document.addEventListener("changeDate",this.updateRange)}getDisplayedMonthes(){const t=new Date(this.dates.from);let e=t.getMonth();t.setDate(1);const s=new Date(t);return s.setMonth(++e),[t,s]}addInput(){const t={from:this.dates.from.toLocaleDateString(),to:this.dates.to.toLocaleDateString()},e=v.input,s=Object(i.d)({tmpl:e,data:t});this.elem.insertAdjacentHTML("afterBegin",s),this.input=this.elem.querySelector(`.${c}`),this.inputFrom=this.input.querySelector(`.${l}`),this.inputTo=this.input.querySelector(`.${d}`),this.input.addEventListener("pointerdown",this.togglePicker),document.body.addEventListener("pointerdown",this.bodyOnClick,{capture:!0})}bodyOnClick(){!event.target.closest(`.${r}`)&&this.isOpened&&this.hidePicker()}updateInput(){this.inputFrom.innerHTML=this.dates.from.toLocaleDateString(),this.inputTo.innerHTML=this.dates.to.toLocaleDateString()}updateRange(){this.monthes=this.getDisplayedMonthes(),this.newDates=[],this.updateInput(),this.hidePicker()}togglePicker(){this.isOpened?this.hidePicker():(this.showPicker(),this.isOpened=!0)}showPicker(){this.selector?this.calendars.innerHTML="":(this.addSelector(),this.selector=this.elem.querySelector(`.${h}`),this.calendars=this.elem.querySelector(`.${p}`),this.selector.addEventListener("click",this.selectorOnClick)),this.addCalendars(),this.elem.classList.add(o)}hidePicker(){this.elem.classList.remove(o),this.isOpened=!1,this.newDates=[]}addSelector(){const t=v.selector;this.elem.insertAdjacentHTML("beforeEnd",t)}selectorOnClick(){const{dataset:t}=event.target;t.value?this.setDay(event.target):t.direction&&this.moveMonth(t.direction)}setDay(t){const e=t.dataset.value;if(0===this.newDates.length)return this.newDates.push(new Date(e)),void this.updateSelected(t);this.newDates.push(new Date(e)),this.newDates.sort((t,e)=>t-e),this.dates={from:this.newDates[0],to:this.newDates[1]},document.dispatchEvent(new CustomEvent("changeDate",{detail:{dates:{from:this.dates.from.toISOString(),to:this.dates.to.toISOString()}}}))}moveMonth(t){let e=1;"prev"===t&&(e=-1),this.monthes.forEach(t=>{t.setMonth(t.getMonth()+e)}),this.updateCalendars()}addCalendars(){this.monthes.forEach(t=>{this.calendars.insertAdjacentHTML("beforeEnd",this.getCalendar(t))})}updateCalendars(){this.calendars.innerHTML="",this.addCalendars()}updateSelected(t){const e=this.elem.querySelectorAll(`.${m}`),s=[f,g,b];e.forEach(t=>{t.classList.remove(...s)}),t.classList.add(g)}getCalendar(t){const e={month:t.toLocaleString("default",{month:"long"}),weekdays:Object(i.g)("div"),days:this.getCells(t)},s=v.calendar;return Object(i.d)({tmpl:s,data:e})}getCells(t){const e=v.day,s=new Date(t),n=s.getMonth();let a=1,r="";for(;s.getMonth()===n;){const t=this.getCellStartStyle(s),n=this.getCellMod(s),o={dateTime:s.toISOString(),dateNum:s.getDate(),style:t,mod:n};r+=Object(i.d)({tmpl:e,data:o}),s.setDate(++a)}return r}getCellStartStyle(t){let e="";if(t.getDate()>1)return e;let s=t.getDay();return 0===s&&(s=7),e=`grid-column-start: ${s}`,e}getCellMod(t){let e="";if(this.newDates.length>0)return e;const s=t.valueOf(),i=this.dates.from.valueOf(),n=this.dates.to.valueOf();return s>i&&s<n?e=f:s===i?e=g:s===n&&(e=b),e}}var _=s(15);s(24),s.p;const $="draggable-list",w="draggable-list__item",L="draggable-list__item--dragged",T="draggable-list__item--placeholder";class D extends HTMLUListElement{constructor(){super(),this.current={},this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.move=this.move.bind(this),this.setPlaceholderHeight=this.setPlaceholderHeight.bind(this)}async connectedCallback(){this.classList.add($),this.items=this.querySelectorAll("li"),this.placeholder=this.createPlaceholder(),this.addClassToItems(),this.disableDefaultDragstart(),this.addEventListener("pointerdown",this.startDrag),this.addEventListener("pointerdown",this.setPlaceholderHeight,{once:!0}),this.addMutationObserver()}startDrag(t){this.current.elem=t.target.closest(".draggable-list__item"),this.current.elem&&(t.preventDefault(),this.current.height=this.current.elem.offsetHeight,this.current.half=this.current.height/2,this.current.offset=this.getCurrentOffset(t),this.current.scrollSteps=0,this.coords=this.getListCoords(),this.setCurrentItemTop(t),this.current.elem.replaceWith(this.placeholder),this.current.elem.classList.add(L),this.append(this.current.elem),this.addEventListener("pointermove",this.move),this.addEventListener("pointerup",this.stopDrag),document.addEventListener("pointerup",this.stopDrag))}getCurrentOffset(t){const{top:e}=this.current.elem.getBoundingClientRect();return t.clientY-e}getListCoords(){return this.getBoundingClientRect()}move(t){t.preventDefault(),this.setCurrentItemTop(t),this.scrollOnMove(t);const e=t.clientY-this.coords.top-this.current.half+this.current.half;for(const t of this.items){if(t.classList.contains(L))continue;const s=t.offsetTop,i=s+t.offsetHeight,n=s+t.offsetHeight/2;if(e>s&&e<i){e<=n?t.after(this.placeholder):t.before(this.placeholder);break}}}setCurrentItemTop(t){this.coords=this.getListCoords();let e=t.clientY-this.coords.top-this.current.offset;const s=-this.current.half,i=this.coords.height-this.current.half;e<s?e=s:e>i&&(e=i),this.current.elem.style.top=`${e}px`}scrollOnMove(t){const{top:e,bottom:s}=this.current.elem.getBoundingClientRect(),i=s-document.documentElement.clientHeight,n=document.documentElement.clientTop-e;let a=0;i>0?a=this.current.half:n>0&&(a=-this.current.half),a&&(window.scrollBy(0,a),this.setCurrentItemTop(t),this.current.offset=this.getCurrentOffset(t))}stopDrag(){this.placeholder.replaceWith(this.current.elem),this.current.elem.classList.remove(L),this.current.elem.style.top="",this.removeEventListener("pointermove",this.move),this.removeEventListener("pointerup",this.stopDrag)}createPlaceholder(){const t=this.items[0].cloneNode(!0);return t.classList.add(T,w),t.innerHTML="",t}setPlaceholderHeight(){const t=this.items[0];this.placeholder.style.minHeight=`${t.offsetHeight}px`}addClassToItems(){this.items.forEach(t=>t.classList.add(w))}addMutationObserver(){new MutationObserver(t=>{t.forEach(({type:t})=>{"childList"===t&&(this.items=this.querySelectorAll("li"),this.addClassToItems())})}).observe(this,{childList:!0})}disableDefaultDragstart(){this.items.forEach(t=>{t.ondragstart=()=>!1})}}class E{constructor(){this.routes=[],this.documentClick=this.documentClick.bind(this),document.addEventListener("click",this.documentClick)}static instance(){return this._instance||(this._instance=new E),this._instance}addRoute(t,e){return this.routes.push({pattern:t,path:e}),this}setNotFoundPage(t){return this.notFoundPagePath=t,this}navigate(t){history.pushState(null,null,t),this.route()}async route(){const t=(e=window.location.pathname,decodeURI(e).replace(/^\/shop-admin-page/,"").replace(/^\/|\/$/,"").replace(/\?.*$/,"").replace(/#.*$/,""));var e;let s;for(const e of this.routes)if(s=t.match(e.pattern),s){this.page=await this.changePage(e.path,s);break}s||(this.page=await this.changePage(this.notFoundPagePath))}async changePage(t,e){this.page&&this.page.destroy&&this.page.destroy(),this.page=await async function(t,e){const{default:i}=await s(25)(`./${t}/index.js`),n=new i(e),a=await n.render(),r=document.getElementById("content");r.innerHTML="",r.append(a)}(t,e)}addListener(){window.addEventListener("popstate",()=>this.route()),this.route()}documentClick(t){const e=t.target.closest("a");if(!e)return;const s=e.getAttribute("href");s&&(s.startsWith("/")||s.startsWith("./"))&&(t.preventDefault(),this.navigate(s))}}s(34);E.instance().addRoute(/^$/,"dashboard").addRoute(/^categories$/,"categories").addRoute(/^products\/([\S()-]+)/g,"products/edit").addRoute(/^products\/add$/,"products/edit").addRoute(/^products$/,"products").setNotFoundPage("error404").addListener(),window.customElements.define("page-layout",n),window.customElements.define("column-chart",a.a),window.customElements.define("range-picker",y),window.customElements.define("sortable-table",_.a),window.customElements.define("draggable-list",D,{extends:"ul"})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvY3JlYXRlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9lc2NhcGVIVE1MLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2ZpbGxUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9mb3JtYXREYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2Zvcm1hdFRvdGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2dldFdlZWtEYXlzLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3Rocm90dGxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL25vdGlmaWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL2ZldGNoSnNvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ29sdW1uQ2hhcnQvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvY2F0ZWdvcmllcy9jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BhZ2VNZXNzYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvZmllbGRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9zdGF0dXNUZXh0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1Rvb2x0aXBzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVG9vbHRpcHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9kaXJlY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL3Byb2R1Y3RzL2VkaXQvc3RhdHVzVGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ZpZWxkcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Db2x1bW5DaGFydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ZpZWxkc09yZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcyBlYWdlciBeXFwuXFwvLipcXC9pbmRleFxcLmpzJCBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9jYXRlZ29yaWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9kYXNoYm9hcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2Vycm9yNDA0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2ljb24tdHJhc2guc3ZnIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MYXlvdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SYW5nZVBpY2tlci90ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvYXJyb3ctaWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvY2FsZW5kYXItaWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmFuZ2VQaWNrZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlTGlzdC9ncmFiLWljb24uc3ZnIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZUxpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9yZW5kZXJQYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJkaXYiLCJlc2NhcGVIVE1MIiwic3RyaW5nIiwicmVwbGFjZSIsImZpbGxUZW1wbGF0ZSIsInRtcGwiLCJkYXRhIiwibWF0Y2giLCJzdHIiLCJ1bmRlZmluZWQiLCJmb3JtYXREYXRlIiwiZGF0YVBhcnRzIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsInNwbGl0IiwiZm9ybWF0VG90YWwiLCJudW0iLCJmb3JtYXR0ZWQiLCJ0YWlsIiwiZ2V0V2Vla0RheXMiLCJ0YWciLCJkYXRlIiwid2Vla2RheXNTdHIiLCJjb3VudGVyIiwidG9Mb2NhbGVTdHJpbmciLCJ3ZWVrZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ0aHJvdHRsZSIsImZ1bmMiLCJjb250ZXh0IiwidGltZW91dCIsImFyZ3MiLCJpc1dhaXRpbmciLCJpc0ZpcnN0Q2FsbCIsImFyZ3VtZW50cyIsImFwcGx5Iiwic2V0VGltZW91dCIsImNscyIsImVsZW0iLCJ3YXJuaW5nIiwiZXJyb3IiLCJOb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiY29udGFpbmVyIiwidHlwZSIsInRoaXMiLCJkdXJhdGlvbiIsImdldER1cmF0aW9uIiwiY2xhc3NOYW1lcyIsImdldENsYXNzZXMiLCJhZGRFbGVtIiwiaXNGaW5pc2hlZCIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJzdGF0ZSIsInByZXBlbmQiLCJoaWRlRWxlbSIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImNsYXNzZXMiLCJwdXNoIiwibm90aWZDb250YWluZXIiLCJib2R5IiwiYXBwZW5kIiwibm90aWZpY2F0aW9ucyIsImFzeW5jIiwiZmV0Y2hKU09OIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIkZldGNoRXJyb3IiLCJvayIsInN0YXR1c1RleHQiLCJqc29uIiwic3RhdHVzIiwiRXJyb3IiLCJzdXBlciIsIndpbmRvdyIsImV2ZW50IiwicmVhc29uIiwibm90aWZpY2F0aW9uIiwib2Zmc2V0VG9wIiwiZmlsdGVyIiwic2hpZnQiLCJmb3JtIiwibGlzdCIsIml0ZW0iLCJpdGVtVGlueSIsIml0ZW1Gb2xsb3ciLCJpdGVtRnVsbCIsImxhYmVsIiwiaW5wdXQiLCJpbnB1dFVwbG9hZCIsImlucHV0VXBsb2FkTG9hZGluZyIsImlucHV0VGV4dCIsImlucHV0TnVtYmVyIiwiaW5wdXRTZWxlY3QiLCJpbnB1dFRleHRhcmVhIiwiaW1nc0xpc3QiLCJpbWdzSXRlbSIsImltZyIsImltZ1dyYXBwZXIiLCJpbWdTb3VyY2UiLCJpbWdSZW1vdmUiLCJwcmV2aWV3IiwiZm9vdGVyIiwic3VibWl0IiwidGFibGUiLCJ0aGVhZCIsImhlYWRlciIsInJvdyIsImNlbGwiLCJjZWxsRXJyb3IiLCJjZWxsU29ydGVyIiwibGluayIsImNhdGVnb3J5IiwidG9vbHRpcENhdGVnb3J5IiwidG9vbHRpcFN1YmNhdGVnb3J5IiwiaW1nTGlzdEl0ZW0iLCJ0aXRsZSIsInRvdGFsIiwidG9vbHRpcCIsInRvb2x0aXBEYXRlIiwidG9vbHRpcFF1YW50aXR5IiwibGlzdFRvcCIsImxpc3RTdWJjYXRzIiwiaXRlbVRvcCIsIml0ZW1TdWIiLCJpdGVtT3BlbiIsInRvZ2dsZXIiLCJQYWdlTWVzc2FnZSIsInRleHQiLCJjYWxsYmFjayIsImNhbGxiYWNrVGV4dCIsImluc2VydEFkamFjZW50SFRNTCIsImltYWdlcyIsInNyYyIsImNvbXBhcmUiLCJyZW5kZXIiLCJpZCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsInN1YmNhdGVnb3J5IiwidG9vdGlwQ29udGVudCIsImFDYXROYW1lIiwiYkNhdE5hbWUiLCJxdWFudGl0eSIsInByaWNlIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJlIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiQXJyYXkiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiMCIsIjEiLCJkaW1TaWJsaW5ncyIsImxpc3RNb3VzZU1vdmUiLCJsaXN0TW91c2VPdXQiLCJ0YXJnZXQiLCJ0b29sdGlwQ29udGVudCIsImhpZGVUb29sdGlwIiwidmlzaWJsZSIsImVsZW1Db29yZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjb29yZHMiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwic3R5bGUiLCJ0b29sdGlwQ29vcmRzIiwiaGlkZGVuQnlXaW5kb3ciLCJyaWdodCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiZ2V0RGlyZWN0aW9uVGV4dCIsImlzQXNjIiwiZGlyZWN0aW9ucyIsImNoYXJ0SXRlbSIsImNhdGVnb3JpZXNUb0ZsYXRMaXN0IiwiY2F0ZWdvcmllcyIsImZsYXRMaXN0Iiwic3ViY2F0ZWdvcmllcyIsImdldE9wdGlvbnMiLCJzZWxlY3RlZCIsIm1hcCIsImluZGV4Iiwiam9pbiIsImltYWdlc0l0ZW1zIiwiZ2V0SW1nc0xpc3RNYXJrdXAiLCJmaWVsZE5hbWUiLCJkZXNjcmlwdGlvbiIsIm9wdGlvbnMiLCJkaXNjb3VudCIsInZhbHVlcyIsIkNvbHVtbkNoYXJ0IiwiSFRNTEVsZW1lbnQiLCJhcGlVcmwiLCJBUElfVVJMIiwiY2hhbmdlRGF0ZSIsImlzTW9uZXkiLCJmcm9tIiwidG8iLCJkYXRlcyIsImdldFVybCIsImdldERhdGEiLCJoZWFkZXJTdHIiLCJnZXRIZWFkZXJTdHIiLCJsaXN0U3RyIiwiZ2V0TGlzdFN0ciIsImFkZEFjdGlvbnMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VycmVudCIsIm1heCIsIk1hdGgiLCJjaGFydFN0ciIsImhlaWdodCIsInRvRml4ZWQiLCJ0b29sdGlwcyIsImRldGFpbCIsIlNvcnRhYmxlVGFibGUiLCJzb3J0aW5nIiwicGFnZSIsIml0ZW1zIiwiaXNEYXRhRW5kZWQiLCJmaWVsZHNMaXN0Iiwib3JkZXJGaWVsZCIsIm9yZGVyRGlyZWN0aW9uIiwiaXNEeW5hbWljIiwiSlNPTiIsInBhcnNlIiwib3JkZXIiLCJmaWVsZCIsImRpcmVjdGlvbiIsImluaXRUYWJsZSIsImlzTG9hZGluZyIsImZldGNoVXJsIiwiZ2V0RmV0Y2hVcmwiLCJvbkJvZHlTY3JvbGxUaHJvdHRsZSIsIm9uQm9keVNjcm9sbCIsImxvYWRpbmciLCJ0YWJsZURhdGEiLCJ0Qm9keSIsIm91dGVySFRNTCIsImNyZWF0ZUxheW91dCIsImFkZEVsZW1IZWFkZXIiLCJhZGRUYWJsZUV2ZW50cyIsImZpbGxUQm9keSIsInRhYmxlUm93cyIsImxvYWREYXRhIiwic29ydFJvd3MiLCJyZW5kZXJUQm9keSIsInN0YXJ0IiwiZW5kIiwic29ydCIsInBhcmFtc1N0ciIsInByZWZpeCIsImhlYWRlckNvbnRlbnQiLCJmb3JFYWNoIiwidGhDbGFzcyIsInNvcnRlciIsInNvcnREaXJlY3Rpb24iLCJ0aGVhZFN0ciIsInF1ZXJ5U2VsZWN0b3IiLCJ0aCIsInNvcnRSb3dzRHluYW1pYyIsInJldmVyc2UiLCJzb3J0ZXJPbkNsaWNrIiwiYm90dG9tIiwiaW5uZXJIZWlnaHQiLCJwYWdlWU9mZnNldCIsInJvd0NvbnRlbnQiLCJ0ZENsYXNzZXMiLCJ0b0xvd2VyQ2FzZSIsInJlbmRlcmVkQ29udGVudCIsInJlbmRlckZpZWxkIiwic2Nyb2xsVG8iLCJtb2RzIiwid2VicGFja0FzeW5jQ29udGV4dCIsInJlcSIsIndlYnBhY2tBc3luY0NvbnRleHRSZXNvbHZlIiwidGhlbiIsImNvZGUiLCJrZXlzIiwibGlzdENsaWNrIiwiY3JlYXRlTGlzdCIsImFkZEV2ZW50cyIsImlzU3ViY2F0IiwiaXRlbXNTdHIiLCJsaXN0Q2xhc3MiLCJpdGVtQ2xhc3MiLCJpc0RyYWdnYWJsZUF0dHIiLCJzdWJDYXRzTGlzdCIsInN1YkNhdHMiLCJjb3VudGVyVGV4dCIsImdldFBsdXJhbCIsImNvdW50IiwiY2xvc2VzdCIsInRvZ2dsZSIsInZhcmlhbnRzIiwidmFyaWFudCIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJ0b0lTT1N0cmluZyIsImZldGNoUHJvZHVjdFVybCIsImZldGNoQ2F0ZWdvcmllc1VybCIsInVwbG9hZEltYWdlIiwicHJvZHVjdERhdGEiLCJlcnJvck1lc3NhZ2UiLCJwcm9kdWN0IiwiaW5wdXRzIiwiZ2V0SW5wdXRzTGlzdCIsImltZ1VwbG9hZEJ1dHRvbiIsImltZ0xpc3QiLCJpbWFnZURhdGEiLCJmaWxlSW5wdXQiLCJmaWxlSW5wdXRDcmVhdGUiLCJjbGljayIsImRpc2FibGVkIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInJlc3VsdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYWRkSW1hZ2VJdGVtIiwiYWNjZXB0IiwiaGlkZGVuIiwiZXh0Iiwic291cmNlIiwiYWxsIiwic2VsZWN0b3IiLCJjYWxlbmRhciIsImRheSIsInRvZ2dsZVBpY2tlciIsInNlbGVjdG9yT25DbGljayIsImJvZHlPbkNsaWNrIiwidXBkYXRlUmFuZ2UiLCJpc09wZW5lZCIsIm1vbnRoZXMiLCJnZXREaXNwbGF5ZWRNb250aGVzIiwibmV3RGF0ZXMiLCJhZGRJbnB1dCIsImN1cnJlbnRNb250aCIsIm1vbnRoIiwibmV4dE1vbnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidGVtcGxhdGVzIiwiaW5wdXRTdHIiLCJpbnB1dEZyb20iLCJpbnB1dFRvIiwiY2FwdHVyZSIsImhpZGVQaWNrZXIiLCJ1cGRhdGVJbnB1dCIsInNob3dQaWNrZXIiLCJjYWxlbmRhcnMiLCJhZGRTZWxlY3RvciIsImFkZENhbGVuZGFycyIsInNlbGVjdG9yU3RyIiwic2V0RGF5IiwibW92ZU1vbnRoIiwidXBkYXRlU2VsZWN0ZWQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJzdGVwIiwidXBkYXRlQ2FsZW5kYXJzIiwiZ2V0Q2FsZW5kYXIiLCJjZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3ZWVrZGF5cyIsImRheXMiLCJnZXRDZWxscyIsImN1cnJlbnREYXRlIiwiY3VycmVudERheSIsImRheXNTdHIiLCJnZXRDZWxsU3RhcnRTdHlsZSIsIm1vZCIsImdldENlbGxNb2QiLCJkYXRlVGltZSIsImRhdGVOdW0iLCJ3ZWVrZGF5TnVtIiwiZ2V0RGF5IiwiZGF0ZU1zIiwidmFsdWVPZiIsImRhdGVGcm9tTXMiLCJkYXRlVG9NcyIsIkRyYWdnYWJsZUxpc3QiLCJIVE1MVUxpc3RFbGVtZW50Iiwic3RhcnREcmFnIiwic3RvcERyYWciLCJtb3ZlIiwic2V0UGxhY2Vob2xkZXJIZWlnaHQiLCJwbGFjZWhvbGRlciIsImNyZWF0ZVBsYWNlaG9sZGVyIiwiYWRkQ2xhc3NUb0l0ZW1zIiwiZGlzYWJsZURlZmF1bHREcmFnc3RhcnQiLCJhZGRNdXRhdGlvbk9ic2VydmVyIiwicHJldmVudERlZmF1bHQiLCJvZmZzZXRIZWlnaHQiLCJoYWxmIiwib2Zmc2V0IiwiZ2V0Q3VycmVudE9mZnNldCIsInNjcm9sbFN0ZXBzIiwiZ2V0TGlzdENvb3JkcyIsInNldEN1cnJlbnRJdGVtVG9wIiwicmVwbGFjZVdpdGgiLCJ0b3AiLCJzY3JvbGxPbk1vdmUiLCJjaGVja0xpbmUiLCJjb250YWlucyIsIm1pZGRsZSIsImFmdGVyIiwiYmVmb3JlIiwiZWxlbVRvcCIsIm1pbiIsImRvY3VtZW50T3ZlcmZsb3ciLCJjbGllbnRIZWlnaHQiLCJjbGllbnRUb3AiLCJzY3JvbGxTaXplIiwic2Nyb2xsQnkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvbmVOb2RlIiwiZmlyc3RJdGVtIiwibWluSGVpZ2h0IiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJvbmRyYWdzdGFydCIsInJvdXRlcyIsImRvY3VtZW50Q2xpY2siLCJfaW5zdGFuY2UiLCJwYXR0ZXJuIiwicGF0aCIsIm5vdEZvdW5kUGFnZVBhdGgiLCJocmVmIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJvdXRlIiwic3RyaXBwZWRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImRlY29kZVVSSSIsImNoYW5nZVBhZ2UiLCJkZXN0cm95IiwiZGVmYXVsdCIsIlBhZ2UiLCJyZW5kZXJlZFBhZ2UiLCJjb250ZW50RWxlbSIsImdldEVsZW1lbnRCeUlkIiwicmVuZGVyUGFnZSIsImdldEF0dHJpYnV0ZSIsInN0YXJ0c1dpdGgiLCJuYXZpZ2F0ZSIsImluc3RhbmNlIiwiYWRkUm91dGUiLCJzZXROb3RGb3VuZFBhZ2UiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsImV4dGVuZHMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FB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ZSxXQUM1Q0QsRUFBWXRmLFVBQVksR0FDeEJzZixFQUFZOWEsT0FBTzZhLEdEa0RDRyxDQUFXakIsRUFBTTdkLEdBR3JDLGNBQ0U0RSxPQUFPcEIsaUJBQWlCLFdBQVksSUFBTWpCLEtBQUsyYixTQUMvQzNiLEtBQUsyYixRQUdQLGNBQWVyWixHQUNiLE1BQU1vQyxFQUFPcEMsRUFBTTBILE9BQU80SSxRQUFRLEtBRWxDLElBQUtsTyxFQUNILE9BR0YsTUFBTThXLEVBQU85VyxFQUFLOFgsYUFBYSxRQUUzQmhCLElBQVNBLEVBQUtpQixXQUFXLE1BQVFqQixFQUFLaUIsV0FBVyxTQUNuRG5hLEVBQU00VyxpQkFDTmxaLEtBQUswYyxTQUFTbEIsSyxNRXBFTCxFQUFPbUIsV0FHbkJDLFNBQVMsS0FBTSxhQUVmQSxTQUFTLGVBQWdCLGNBQ3pCQSxTQUFTLHlCQUEwQixpQkFDbkNBLFNBQVMsa0JBQW1CLGlCQUM1QkEsU0FBUyxhQUFjLFlBQ3ZCQyxnQkFBZ0IsWUFDaEJoVSxjQUdIeEcsT0FBT3lhLGVBQWVDLE9BQU8sY0FBZSxHQUM1QzFhLE9BQU95YSxlQUFlQyxPQUFPLGVBQWdCMVEsRUFBQSxHQUM3Q2hLLE9BQU95YSxlQUFlQyxPQUFPLGVBQWdCLEdBQzdDMWEsT0FBT3lhLGVBQWVDLE9BQU8saUJBQWtCaFAsRUFBQSxHQUMvQzFMLE9BQU95YSxlQUFlQyxPQUFPLGlCQUFrQnhFLEVBQWUsQ0FBRXlFLFFBQVMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvc2hvcC1hZG1pbi1wYWdlL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzUpO1xuIiwiLy8gbmljZSBvdmVydmlldzpcbi8vIGh0dHBzOi8vZ3Jyci50ZWNoL3Bvc3RzL2NyZWF0ZS1kb20tbm9kZS1mcm9tLWh0bWwtc3RyaW5nL1xuXG4vLyBubyBJRTExXG5jb25zdCBzdXBwb3J0c1RlbXBsYXRlID0gJ2NvbnRlbnQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbmNvbnN0IGNyZWF0ZUVsZW1lbnQgPSBzdXBwb3J0c1RlbXBsYXRlXG4gID8gZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG4gIDogZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICByZXR1cm4gZGl2LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIH07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUVsZW1lbnQ7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlc2NhcGVIVE1MIChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZ1xuICAgIC5yZXBsYWNlKC8mL2csICcmJylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgLnJlcGxhY2UoLycvZywgJyYjMzk7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnPCcpXG4gICAgLnJlcGxhY2UoLz4vZywgJz4nKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbGxUZW1wbGF0ZSAoeyB0bXBsLCBkYXRhIH0pIHtcbiAgaWYgKCF0bXBsIHx8ICFkYXRhKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIHRtcGwucmVwbGFjZSgveyhbXlwiXXsxLH0pfS9nLCAobWF0Y2gsIHN0cikgPT4ge1xuICAgIGlmIChkYXRhW3N0cl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGRhdGFbc3RyXTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdERhdGUgKHN0cikge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RyKS50b0RhdGVTdHJpbmcoKTtcbiAgY29uc3QgZGF0YVBhcnRzID0gZGF0ZS5zcGxpdCgnICcpO1xuICBjb25zdCBtb250aCA9IGRhdGFQYXJ0c1sxXTtcbiAgY29uc3QgZGF5ID0gZGF0YVBhcnRzWzJdO1xuICBjb25zdCB5ZWFyID0gZGF0YVBhcnRzWzNdO1xuXG4gIHJldHVybiBgJHttb250aH0gJHtkYXl9LCAke3llYXJ9YDtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdFRvdGFsIChudW0pIHtcbiAgbGV0IGZvcm1hdHRlZCA9IG51bTtcbiAgaWYgKG51bSA+PSAxMDAwKSB7XG4gICAgY29uc3QgdGFpbCA9IG51bSAlIDEwMDA7XG4gICAgZm9ybWF0dGVkID0gYCR7KG51bSAtIHRhaWwpIC8gMTAwMH0sJHt0YWlsfWA7XG4gIH1cblxuICByZXR1cm4gYCQke2Zvcm1hdHRlZH1gO1xufVxuIiwiLy8gRGlydHkgd2F5IHRvIGdldCB3ZWVrZGF5cyBpbiBjdXJyZW50IGxhbmdcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdlZWtEYXlzICh0YWcpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKDE5NzAsIDAsIDUpO1xuICBsZXQgd2Vla2RheXNTdHIgPSAnJztcbiAgbGV0IGNvdW50ZXIgPSAwO1xuXG4gIHdoaWxlIChjb3VudGVyIDwgNykge1xuICAgIGNvbnN0IGRheW5hbWUgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyB3ZWVrZGF5OiAnbmFycm93JyB9KTtcbiAgICB3ZWVrZGF5c1N0ciArPSBgPCR7dGFnfT4ke2RheW5hbWV9PC8ke3RhZ30+YDtcbiAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAxKTtcbiAgICBjb3VudGVyKys7XG4gIH1cblxuICByZXR1cm4gd2Vla2RheXNTdHI7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJvdHRsZSAoZnVuYywgY29udGV4dCwgdGltZW91dCkge1xuICBsZXQgYXJncztcbiAgbGV0IGlzV2FpdGluZyA9IGZhbHNlO1xuICBsZXQgaXNGaXJzdENhbGwgPSB0cnVlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgYXJncyA9IGFyZ3VtZW50cztcblxuICAgIGlmIChpc0ZpcnN0Q2FsbCkge1xuICAgICAgZnVuYy5hcHBseShjb250ZXh0LCAuLi5hcmdzKTtcbiAgICAgIGlzRmlyc3RDYWxsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFpc1dhaXRpbmcpIHtcbiAgICAgIGlzV2FpdGluZyA9IHRydWU7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIC4uLmFyZ3MpO1xuICAgICAgICBpc1dhaXRpbmcgPSBmYWxzZTtcbiAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmNvbnN0IGNscyA9IHtcbiAgZWxlbTogJ25vdGlmaWNhdGlvbicsXG4gIHdhcm5pbmc6ICdub3RpZmljYXRpb24tLXdhcm5pbmcnLFxuICBlcnJvcjogJ25vdGlmaWNhdGlvbi0tZXJyb3InXG59O1xuXG5jb25zdCBzZWNvbmQgPSAxMDAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RpZmljYXRpb24ge1xuICBjb25zdHJ1Y3RvciAoeyBtZXNzYWdlLCBjb250YWluZXIsIHR5cGUgfSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5nZXREdXJhdGlvbigpO1xuICAgIHRoaXMuY2xhc3NOYW1lcyA9IHRoaXMuZ2V0Q2xhc3NlcygpO1xuICAgIHRoaXMuYWRkRWxlbSgpO1xuICAgIHRoaXMuaXNGaW5pc2hlZCA9IGZhbHNlO1xuICB9XG5cbiAgYWRkRWxlbSAoKSB7XG4gICAgdGhpcy5lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoLi4udGhpcy5jbGFzc05hbWVzKTtcbiAgICB0aGlzLmVsZW0uZGF0YXNldC5zdGF0ZSA9ICdzaG93bic7XG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHRoaXMubWVzc2FnZTtcbiAgICB0aGlzLmNvbnRhaW5lci5wcmVwZW5kKHRoaXMuZWxlbSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5oaWRlRWxlbSgpOyB9LCB0aGlzLmR1cmF0aW9uKTtcbiAgfVxuXG4gIGFzeW5jIGhpZGVFbGVtIChwYXJhbXMgPSB7fSkge1xuICAgIHRoaXMuaXNGaW5pc2hlZCA9IHRydWU7XG4gICAgdGhpcy5lbGVtLmRhdGFzZXQuc3RhdGUgPSAnaGlkZGVuJztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmVsZW0uYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0RHVyYXRpb24gKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgIHJldHVybiA1ICogc2Vjb25kO1xuICAgIH1cblxuICAgIHJldHVybiAzICogc2Vjb25kO1xuICB9XG5cbiAgZ2V0Q2xhc3NlcyAoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IFtjbHMuZWxlbV07XG5cbiAgICBpZiAodGhpcy50eXBlICYmIGNsc1t0aGlzLnR5cGVdKSB7XG4gICAgICBjbGFzc2VzLnB1c2goY2xzW3RoaXMudHlwZV0pO1xuICAgIH1cblxuICAgIHJldHVybiBjbGFzc2VzO1xuICB9XG59XG4iLCJpbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uL2luZGV4LmpzJztcblxuY29uc3Qgbm90aWZDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbm5vdGlmQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbnMnKTtcbmRvY3VtZW50LmJvZHkuYXBwZW5kKG5vdGlmQ29udGFpbmVyKTtcblxubGV0IG5vdGlmaWNhdGlvbnMgPSBbXTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5IChtZXNzYWdlLCB0eXBlKSB7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oe1xuICAgIG1lc3NhZ2UsXG4gICAgY29udGFpbmVyOiBub3RpZkNvbnRhaW5lcixcbiAgICB0eXBlXG4gIH0pO1xuXG4gIG5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuXG4gIGlmIChub3RpZmljYXRpb24uZWxlbS5vZmZzZXRUb3AgPCAwKSB7XG4gICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuZmlsdGVyKG5vdGlmaWNhdGlvbiA9PiB7XG4gICAgICByZXR1cm4gIW5vdGlmaWNhdGlvbi5pc0ZpbmlzaGVkO1xuICAgIH0pO1xuICAgIG5vdGlmaWNhdGlvbnMuc2hpZnQoKS5oaWRlRWxlbSgpO1xuICB9XG59XG4iLCIvLyBJbnNwaXJlZCBieSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9pbGlha2FuL2RkNmFkMGRhZGI2NjMwNTQ0ZDExODdjNGM5NGNjZjQwXG5pbXBvcnQgbm90aWZpZXIgZnJvbSAnLi4vbGliL25vdGlmaWVyLmpzJztcblxuLy8gY29uc29sZS5jbGVhcigpO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hKU09OICh1cmwsIHBhcmFtcykge1xuICBsZXQgcmVzcG9uc2U7XG5cbiAgLy8gRXJyb3Igd2hpbGUgbG9hZGluZyAoYmFkIHVybCBvciBjb25uZWN0aW9uKVxuICB0cnkge1xuICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCBwYXJhbXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBGZXRjaEVycm9yKHJlc3BvbnNlLCBudWxsLCBgTmV0d29yayBlcnJvciBmb3IgdXJsICR7dXJsfWApO1xuICB9XG5cbiAgLy8gQmFkIHJlc3BvbnNlIGZyb20gc2VydmVyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICBsZXQgYm9keTtcbiAgICBjb25zdCBzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcblxuICAgIHRyeSB7XG4gICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgLy8gY2FuJ3QgcmVwcm9kdWNlIGdldHRpbmcgYm9keSB3aXRoIG5vdCBvayBzdGF0dXNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBsZXQgbWVzc2FnZSA9IGBFcnJvciAke3Jlc3BvbnNlLnN0YXR1c30gZm9yIHVybCAke3VybH1gO1xuXG4gICAgaWYgKHN0YXR1c1RleHQpIHtcbiAgICAgIG1lc3NhZ2UgKz0gYDogJHtzdGF0dXNUZXh0fWA7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEZldGNoRXJyb3IocmVzcG9uc2UsIGJvZHksIG1lc3NhZ2UpO1xuICB9XG5cbiAgLy8gUmVzcG9uc2UgaXMgY29ycmVjdCwgdHJ5IHRvIGdldCBkYXRhXG4gIHRyeSB7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEZldGNoRXJyb3IocmVzcG9uc2UsIG51bGwsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5jbGFzcyBGZXRjaEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvciAocmVzcG9uc2UsIGJvZHksIG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnRmV0Y2hFcnJvcic7XG5cbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxufVxuXG4vLyBoYW5kbGUgdW5jYXVnaHQgZmFpbGVkIGZldGNoIHRocm91Z2hcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCBldmVudCA9PiB7XG4gIGlmIChldmVudC5yZWFzb24gaW5zdGFuY2VvZiBGZXRjaEVycm9yKSB7XG4gICAgbm90aWZpZXIoZXZlbnQucmVhc29uLm1lc3NhZ2UsICdlcnJvcicpO1xuICB9XG59KTtcbiIsImltcG9ydCBjcmVhdGVFbGVtZW50IGZyb20gJy4vY3JlYXRlRWxlbWVudC5qcyc7XG5pbXBvcnQgZXNjYXBlSFRNTCBmcm9tICcuL2VzY2FwZUhUTUwuanMnO1xuaW1wb3J0IGZpbGxUZW1wbGF0ZSBmcm9tICcuL2ZpbGxUZW1wbGF0ZS5qcyc7XG5pbXBvcnQgZm9ybWF0RGF0ZSBmcm9tICcuL2Zvcm1hdERhdGUuanMnO1xuaW1wb3J0IGZvcm1hdFRvdGFsIGZyb20gJy4vZm9ybWF0VG90YWwuanMnO1xuaW1wb3J0IGdldERhdGVGcm9tU3RyaW5nIGZyb20gJy4vZ2V0RGF0ZUZyb21TdHJpbmcuanMnO1xuaW1wb3J0IGdldFdlZWtEYXlzIGZyb20gJy4vZ2V0V2Vla0RheXMuanMnO1xuaW1wb3J0IHRocm90dGxlIGZyb20gJy4vdGhyb3R0bGUuanMnO1xuaW1wb3J0IGZldGNoSnNvbiBmcm9tICcuL2ZldGNoSnNvbi5qcyc7XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZUVsZW1lbnQsXG4gIGVzY2FwZUhUTUwsXG4gIGZpbGxUZW1wbGF0ZSxcbiAgZm9ybWF0RGF0ZSxcbiAgZm9ybWF0VG90YWwsXG4gIGdldERhdGVGcm9tU3RyaW5nLFxuICBnZXRXZWVrRGF5cyxcbiAgdGhyb3R0bGUsXG4gIGZldGNoSnNvblxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZm9ybTogJ3Byb2R1Y3QtZm9ybScsXG4gIGxpc3Q6ICdwcm9kdWN0LWZvcm1fX2xpc3QnLFxuICBpdGVtOiAncHJvZHVjdC1mb3JtX19pdGVtJyxcbiAgaXRlbVRpbnk6ICdwcm9kdWN0LWZvcm1fX2l0ZW0tLXRpbnknLFxuICBpdGVtRm9sbG93OiAncHJvZHVjdC1mb3JtX19pdGVtLS1mb2xsb3cnLFxuICBpdGVtRnVsbDogJ3Byb2R1Y3QtZm9ybV9faXRlbS0tZnVsbCcsXG4gIGxhYmVsOiAncHJvZHVjdC1mb3JtX19sYWJlbCcsXG4gIGlucHV0OiAncHJvZHVjdC1mb3JtX19pbnB1dCcsXG4gIGlucHV0VXBsb2FkOiAncHJvZHVjdC1mb3JtX191cGxvYWQnLFxuICBpbnB1dFVwbG9hZExvYWRpbmc6ICdwcm9kdWN0LWZvcm1fX3VwbG9hZC0tbG9hZGluZycsXG4gIGlucHV0VGV4dDogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLXRleHQnLFxuICBpbnB1dE51bWJlcjogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLW51bWJlcicsXG4gIGlucHV0U2VsZWN0OiAncHJvZHVjdC1mb3JtX19pbnB1dC0tc2VsZWN0JyxcbiAgaW5wdXRUZXh0YXJlYTogJ3Byb2R1Y3QtZm9ybV9faW5wdXQtLXRleHRhcmVhJyxcbiAgaW1nc0xpc3Q6ICdwcm9kdWN0LWZvcm1fX2ltYWdlcy1saXN0JyxcbiAgaW1nc0l0ZW06ICdwcm9kdWN0LWZvcm1fX2ltYWdlcy1pdGVtJyxcbiAgaW1nOiAncHJvZHVjdC1mb3JtX19pbWFnZScsXG4gIGltZ1dyYXBwZXI6ICdwcm9kdWN0LWZvcm1fX2ltYWdlLXdyYXBwZXInLFxuICBpbWdTb3VyY2U6ICdwcm9kdWN0LWZvcm1fX2ltYWdlLXNvdXJjZScsXG4gIGltZ1JlbW92ZTogJ3Byb2R1Y3QtZm9ybV9faW1hZ2UtcmVtb3ZlJyxcbiAgcHJldmlldzogJ3Byb2R1Y3QtZm9ybV9fcHJldmlldycsXG4gIGZvb3RlcjogJ3Byb2R1Y3QtZm9ybV9fZm9vdGVyJyxcbiAgc3VibWl0OiAncHJvZHVjdC1mb3JtX19zdWJtaXQnXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBlbGVtOiAnc29ydGFibGUtdGFibGUnLFxuICB0YWJsZTogJ3NvcnRhYmxlLXRhYmxlX190YWJsZScsXG4gIHRoZWFkOiAnc29ydGFibGUtdGFibGVfX3RoZWFkJyxcbiAgaGVhZGVyOiAnc29ydGFibGUtdGFibGVfX2hlYWRlcicsXG4gIHJvdzogJ3NvcnRhYmxlLXRhYmxlX19yb3cnLFxuICBjZWxsOiAnc29ydGFibGUtdGFibGVfX2NlbGwnLFxuICBjZWxsRXJyb3I6ICdzb3J0YWJsZS10YWJsZV9fY2VsbC0tZXJyb3InLFxuICBjZWxsU29ydGVyOiAnc29ydGFibGUtdGFibGVfX2NlbGwtLXNvcnRlcicsXG4gIGltZzogJ3NvcnRhYmxlLXRhYmxlX19pbWFnZScsXG4gIGltZ1dyYXBwZXI6ICdzb3J0YWJsZS10YWJsZV9faW1hZ2Utd3JhcHBlcicsXG4gIHByZXZpZXc6ICdzb3J0YWJsZS10YWJsZV9fcHJldmlldycsXG4gIGxpbms6ICdzb3J0YWJsZS10YWJsZV9fbGluaycsXG4gIGNhdGVnb3J5OiAnc29ydGFibGUtdGFibGVfX2NhdGVnb3J5JyxcbiAgdG9vbHRpcENhdGVnb3J5OiAnc29ydGFibGUtdGFibGVfX3Rvb2x0aXAtY2F0ZWdvcnknLFxuICB0b29sdGlwU3ViY2F0ZWdvcnk6ICdzb3J0YWJsZS10YWJsZV9fdG9vbHRpcC1zdWJjYXRlZ29yeSdcbn07XG4iLCJpbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5cbmV4cG9ydCBjb25zdCBoZWFkZXIgPSBgPGhlYWRlciBjbGFzcz1cInBhZ2UtY29udGVudF9faGVhZGVyXCI+XG4gIDxoMiBjbGFzcz1cInBhZ2UtY29udGVudF9fdGl0bGVcIj5cbiAgPGEgaHJlZj1cIi4vcHJvZHVjdHNcIj5Qcm9kdWN0czwvYT5cbiAgL0VkaXQgUHJvZHVjdDwvaDI+XG48L2hlYWRlcj5gO1xuXG5leHBvcnQgY29uc3QgaW5wdXRUZXh0ID0gYDxsYWJlbCBjbGFzcz1cIiR7Y2xzLmxhYmVsfVwiPlxuICB7ZmllbGROYW1lfVxuXG4gIDxpbnB1dFxuICAgIGNsYXNzPVwiJHtjbHMuaW5wdXR9ICR7Y2xzLmlucHV0VGV4dH1cIlxuICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICBuYW1lPVwie2lkfVwiXG4gICAgdmFsdWU9XCJ7dmFsdWV9XCIvPlxuPC9sYWJlbD5gO1xuXG5leHBvcnQgY29uc3QgaW5wdXROdW1iZXIgPSBgPGxhYmVsIGNsYXNzPVwiJHtjbHMubGFiZWx9XCI+XG4gIHtmaWVsZE5hbWV9XG5cbiAgPGlucHV0XG4gICAgY2xhc3M9XCIke2Nscy5pbnB1dH0gJHtjbHMuaW5wdXROdW1iZXJ9XCJcbiAgICB0eXBlPVwibnVtYmVyXCJcbiAgICBuYW1lPVwie2lkfVwiXG4gICAgdmFsdWU9XCJ7dmFsdWV9XCIvPlxuPC9sYWJlbD5gO1xuXG5leHBvcnQgY29uc3QgaW5wdXRUZXh0YXJlYSA9IGA8bGFiZWwgY2xhc3M9XCIke2Nscy5sYWJlbH1cIj5cbiAge2ZpZWxkTmFtZX1cblxuICA8dGV4dGFyZWFcbiAgICBjbGFzcz1cIiR7Y2xzLmlucHV0fSAke2Nscy5pbnB1dFRleHRhcmVhfVwiXG4gICAgbmFtZT1cIntpZH1cIj57dmFsdWV9PC90ZXh0YXJlYT5cbjwvbGFiZWw+YDtcblxuZXhwb3J0IGNvbnN0IGlucHV0U2VsZWN0ID0gYDxsYWJlbCBjbGFzcz1cIiR7Y2xzLmxhYmVsfVwiPlxuICB7ZmllbGROYW1lfVxuXG4gIDxzZWxlY3RcbiAgICBjbGFzcz1cIiR7Y2xzLmlucHV0fSAke2Nscy5pbnB1dFNlbGVjdH1cIlxuICAgIG5hbWU9XCJ7aWR9XCI+XG4gICAge29wdGlvbnN9XG4gIDwvc2VsZWN0PlxuPC9sYWJlbD5gO1xuXG5leHBvcnQgY29uc3QgaW1nTGlzdEl0ZW0gPSBgPGxpIGNsYXNzPVwiJHtjbHMuaW1nc0l0ZW19XCI+XG4gIDxkaXYgY2xhc3M9XCIke2Nscy5pbWdXcmFwcGVyfVwiPlxuICAgIDxpbWcgc3JjPVwie3VybH1cIiBjbGFzcz1cIiR7Y2xzLmltZ31cIj5cbiAgICA8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCh7dXJsfSlcIiBjbGFzcz1cIiR7Y2xzLnByZXZpZXd9XCI+PHNwYW4+XG4gIDwvZGl2PlxuICA8c3BhbiBjbGFzcz1cIiR7Y2xzLmltZ1NvdXJjZX1cIj57c291cmNlfTwvc3Bhbj5cbiAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke2Nscy5pbWdSZW1vdmV9XCI+UmVtb3ZlPC9idXR0b24+XG48L2xpPmA7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGVsZW06ICdjb2x1bW4tY2hhcnQnLFxuICBjb250ZW50OiAnY29sdW1uLWNoYXJ0X19jb250ZW50JyxcbiAgaGVhZGVyOiAnY29sdW1uLWNoYXJ0X19oZWFkZXInLFxuICB0aXRsZTogJ2NvbHVtbi1jaGFydF9fdGl0bGUnLFxuICB0b3RhbDogJ2NvbHVtbi1jaGFydF9fdG90YWwnLFxuICBsaXN0OiAnY29sdW1uLWNoYXJ0X19saXN0JyxcbiAgaXRlbTogJ2NvbHVtbi1jaGFydF9faXRlbScsXG4gIHRvb2x0aXA6ICdjb2x1bW4tY2hhcnRfX3Rvb2x0aXAnLFxuICB0b29sdGlwRGF0ZTogJ2NvbHVtbi1jaGFydF9fdG9vbHRpcC1kYXRlJyxcbiAgdG9vbHRpcFF1YW50aXR5OiAnY29sdW1uLWNoYXJ0X190b29sdGlwLXF1YW50aXR5JyxcbiAgZXJyb3I6ICdjb2x1bW4tY2hhcnRfX2Vycm9yJ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ2NhdGVnb3JpZXMnLFxuICBsaXN0OiAnY2F0ZWdvcmllc19fbGlzdCcsXG4gIGxpc3RUb3A6ICdjYXRlZ29yaWVzX19saXN0LS10b3BjYXRlZ29yaWVzJyxcbiAgbGlzdFN1YmNhdHM6ICdjYXRlZ29yaWVzX19saXN0LS1zdWJjYXRlZ29yaWVzJyxcbiAgaXRlbTogJ2NhdGVnb3JpZXNfX2l0ZW0nLFxuICBpdGVtVG9wOiAnY2F0ZWdvcmllc19faXRlbS0tdG9wY2F0ZWdvcnknLFxuICBpdGVtU3ViOiAnY2F0ZWdvcmllc19faXRlbS0tc3ViY2F0ZWdvcnknLFxuICBpdGVtT3BlbjogJ2NhdGVnb3JpZXNfX2l0ZW0tLW9wZW4nLFxuICB0b2dnbGVyOiAnY2F0ZWdvcmllc19fdG9nZ2xlcicsXG4gIGNvdW50ZXI6ICdjYXRlZ29yaWVzX19jb3VudGVyJ1xufTtcbiIsImltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IgKHsgdGl0bGUsIHRleHQsIGNhbGxiYWNrLCBjYWxsYmFja1RleHQsIGVycm9yIH0pIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy50ZXh0ID0gdGV4dCB8fCAnU29tZXRoaW5nIHdlbnQgd3JvbmcnO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmNhbGxiYWNrVGV4dCA9IGNhbGxiYWNrVGV4dDtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG5cbiAgICBpZiAoIXRoaXMudGl0bGUgJiYgdGhpcy5lcnJvcikge1xuICAgICAgdGhpcy50aXRsZSA9ICdFcnJvcic7XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50ICgpIHtcbiAgICB0aGlzLmVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgncGFnZS1tZXNzYWdlJyk7XG5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3BhZ2UtbWVzc2FnZS0tZXJyb3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnQgPSBgPGgzPiR7dGhpcy50aXRsZX08L2gzPjxwPiR7dGhpcy50ZXh0fTwvcD5gO1xuXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHRoaXMuY29udGVudCArPSBgPGRpdiBjbGFzcz1cInBhZ2UtbWVzc2FnZV9fZXJyb3JcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2UtbWVzc2FnZV9fZXJyb3ItdGV4dFwiPlxuICAgICAgICAgIDxzdHJvbmc+JHt0aGlzLmVycm9yLm5hbWV9PC9zdHJvbmc+OiAke3RoaXMuZXJyb3IubWVzc2FnZX08L2Rpdj5cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJCZWdpbicsIHRoaXMuY29udGVudCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGZvcm1hdFRvdGFsLCBlc2NhcGVIVE1MIH0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgc3RhdHVzVGV4dCBmcm9tICcuL3N0YXR1c1RleHQuanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG4vLyBJbmZvICYgc29ydGluZyBtZXRob2RzIGZvciB0YWJsZSBjb2x1bW5zXG5leHBvcnQgZGVmYXVsdCB7XG4gIGltYWdlczoge1xuICAgIHRpdGxlOiAnSW1hZ2UnLFxuICAgIHJlbmRlciAoeyBpbWFnZXMgfSkge1xuICAgICAgaWYgKCFpbWFnZXMgfHwgIWltYWdlc1swXS51cmwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3JjID0gaW1hZ2VzWzBdLnVybDtcbiAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIiR7Y2xzLmltZ1dyYXBwZXJ9XCI+XG4gICAgICA8aW1nIHNyYz1cIiR7c3JjfVwiIGNsYXNzPVwiJHtjbHMuaW1nfVwiPlxuICAgICAgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtzcmN9KVwiIGNsYXNzPVwiJHtjbHMucHJldmlld31cIj48c3Bhbj5cbiAgICAgIDxkaXY+YDtcbiAgICB9LFxuICAgIGNvbXBhcmU6IG51bGxcbiAgfSxcbiAgdGl0bGU6IHtcbiAgICB0aXRsZTogJ05hbWUnLFxuICAgIHJlbmRlciAoeyB0aXRsZSwgaWQgfSkge1xuICAgICAgcmV0dXJuIGBcbiAgICAgICR7dGl0bGV9XG4gICAgICA8YSBjbGFzcz1cIiR7Y2xzLmxpbmt9XCIgaHJlZj1cIi4vcHJvZHVjdHMvJHtpZH1cIj48L2E+XG4gICAgICBgO1xuICAgIH0sXG4gICAgY29tcGFyZSAoYSwgYikge1xuICAgICAgcmV0dXJuIGEudGl0bGUubG9jYWxlQ29tcGFyZShiLnRpdGxlKTtcbiAgICB9XG4gIH0sXG4gIHN1YmNhdGVnb3J5OiB7XG4gICAgdGl0bGU6ICdDYXRlZ29yeScsXG4gICAgcmVuZGVyICh7IHN1YmNhdGVnb3J5IH0pIHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gc3ViY2F0ZWdvcnkuY2F0ZWdvcnk7XG4gICAgICBjb25zdCB0b290aXBDb250ZW50ID0gYDxzcGFuIGNsYXNzPVwiJHtjbHMudG9vbHRpcENhdGVnb3J5fVwiPiR7Y2F0ZWdvcnkudGl0bGV9PC9zcGFuPi88c3BhbiBjbGFzcz1cIiR7Y2xzLnRvb2x0aXBTdWJjYXRlZ29yeX1cIj4ke3N1YmNhdGVnb3J5LnRpdGxlfTwvc3Bhbj5gO1xuICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cIiR7Y2xzLmNhdGVnb3J5fVwiIGRhdGEtdG9vbHRpcC1jb250ZW50PVwiJHtlc2NhcGVIVE1MKHRvb3RpcENvbnRlbnQpfVwiPiR7c3ViY2F0ZWdvcnkudGl0bGV9PC9zcGFuPmA7XG4gICAgfSxcbiAgICBjb21wYXJlIChhLCBiKSB7XG4gICAgICAvLyBTb3J0aW5nIGJ5IHJ1c3NpYW4gdGl0bGVzXG4gICAgICBjb25zdCBhQ2F0TmFtZSA9IGEuc3ViY2F0ZWdvcnkudGl0bGU7XG4gICAgICBjb25zdCBiQ2F0TmFtZSA9IGIuc3ViY2F0ZWdvcnkudGl0bGU7XG4gICAgICByZXR1cm4gYUNhdE5hbWUubG9jYWxlQ29tcGFyZShiQ2F0TmFtZSk7XG4gICAgfVxuICB9LFxuICBxdWFudGl0eToge1xuICAgIHRpdGxlOiAnUXVhbnRpdHknLFxuICAgIHJlbmRlciAoeyBxdWFudGl0eSB9KSB7XG4gICAgICByZXR1cm4gcXVhbnRpdHk7XG4gICAgfSxcbiAgICBjb21wYXJlIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5xdWFudGl0eSAtIGIucXVhbnRpdHk7XG4gICAgfVxuICB9LFxuICBwcmljZToge1xuICAgIHRpdGxlOiAnUHJpY2UnLFxuICAgIHJlbmRlciAoeyBwcmljZSB9KSB7XG4gICAgICByZXR1cm4gZm9ybWF0VG90YWwocHJpY2UpO1xuICAgIH0sXG4gICAgY29tcGFyZSAoYSwgYikge1xuICAgICAgcmV0dXJuIGEucHJpY2UgLSBiLnByaWNlO1xuICAgIH1cbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdGl0bGU6ICdTdGF0dXMnLFxuICAgIHJlbmRlciAoeyBzdGF0dXMgfSkge1xuICAgICAgcmV0dXJuIHN0YXR1c1RleHRbc3RhdHVzXTtcbiAgICB9LFxuICAgIGNvbXBhcmUgKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnN0YXR1cyAtIGIuc3RhdHVzO1xuICAgIH1cbiAgfVxufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIDA6ICdEaXNhYmxlZCcsXG4gIDE6ICdFbmFibGVkJ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ3Rvb2x0aXBzLWNvbnRhaW5lcicsXG4gIGRpbW1lZDogJ3Rvb2x0aXBzLWNvbnRhaW5lci0tZGltbWVkJyxcbiAgdG9vbHRpcDogJ3Rvb2x0aXAnXG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcHMge1xuICBjb25zdHJ1Y3RvciAoeyBlbGVtLCBkaW1TaWJsaW5ncyB9KSB7XG4gICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZChjbHMuZWxlbSk7XG4gICAgdGhpcy5kaW1TaWJsaW5ncyA9IGRpbVNpYmxpbmdzO1xuXG4gICAgdGhpcy50b29sdGlwID0gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cIiR7Y2xzLnRvb2x0aXB9XCI+PC9kaXY+YCk7XG4gICAgdGhpcy5lbGVtLmFwcGVuZCh0aGlzLnRvb2x0aXApO1xuXG4gICAgdGhpcy5saXN0TW91c2VNb3ZlID0gdGhpcy5saXN0TW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5saXN0TW91c2VPdXQgPSB0aGlzLmxpc3RNb3VzZU91dC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubGlzdE1vdXNlTW92ZSk7XG4gICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmxpc3RNb3VzZU91dCk7XG4gIH1cblxuICBsaXN0TW91c2VNb3ZlICgpIHtcbiAgICBpZiAoIWV2ZW50LnRhcmdldC5kYXRhc2V0LnRvb2x0aXBDb250ZW50KSB7XG4gICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyB0b29sdGlwQ29udGVudCB9ID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQ7XG4gICAgdGhpcy50b29sdGlwLmlubmVySFRNTCA9IHRvb2x0aXBDb250ZW50O1xuICAgIHRoaXMudG9vbHRpcC5kYXRhc2V0LnZpc2libGUgPSAxO1xuXG4gICAgLy8gUGFyZW50IGNvbnRhaW5lciBjb29yZHNcbiAgICB0aGlzLmVsZW1Db29yZHMgPSB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHRoaXMuZWxlbUNvb3Jkcy54LFxuICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHRoaXMuZWxlbUNvb3Jkcy55XG4gICAgfTtcblxuICAgIHRoaXMudG9vbHRpcC5zdHlsZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2Nvb3Jkcy54fXB4LCAke2Nvb3Jkcy55fXB4KWA7XG5cbiAgICAvLyBGaXggY3V0dGluZyBieSB3aW5kb3dcbiAgICB0aGlzLnRvb2x0aXBDb29yZHMgPSB0aGlzLnRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgaGlkZGVuQnlXaW5kb3cgPSB0aGlzLnRvb2x0aXBDb29yZHMucmlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cbiAgICBpZiAoaGlkZGVuQnlXaW5kb3cgPiAwKSB7XG4gICAgICBjb29yZHMueCAtPSBoaWRkZW5CeVdpbmRvdztcbiAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2Nvb3Jkcy54fXB4LCAke2Nvb3Jkcy55fXB4KWA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGltU2libGluZ3MpIHtcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKGNscy5kaW1tZWQpO1xuICAgIH1cbiAgfVxuXG4gIGxpc3RNb3VzZU91dCAoKSB7XG4gICAgaWYgKCFldmVudC50YXJnZXQuZGF0YXNldC50b29sdGlwQ29udGVudCkge1xuICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVUb29sdGlwICgpIHtcbiAgICB0aGlzLnRvb2x0aXAuZGF0YXNldC52aXNpYmxlID0gMDtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbHMuZGltbWVkKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAwOiAnZGVzYycsXG4gIDE6ICdhc2MnXG59O1xuIiwiaW1wb3J0IGRpcmVjdGlvbnMgZnJvbSAnLi9kaXJlY3Rpb25zLmpzJztcblxuZXhwb3J0IGNvbnN0IGdldERpcmVjdGlvblRleHQgPSBpc0FzYyA9PiB7XG4gIHJldHVybiBkaXJlY3Rpb25zWytpc0FzY107XG59O1xuIiwiaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG5leHBvcnQgY29uc3QgaGVhZGVyID0gYDxoZWFkZXIgY2xhc3M9XCIke2Nscy5oZWFkZXJ9XCI+XG4gIDxoMyBjbGFzcz1cIiR7Y2xzLnRpdGxlfVwiPnt0aXRsZX08L2gzPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMudG90YWx9XCI+e3RvdGFsfTwvZGl2PlxuPC9oZWFkZXI+YDtcblxuZXhwb3J0IGNvbnN0IGNoYXJ0SXRlbSA9IGA8bGlcbiAgY2xhc3M9XCIke2Nscy5pdGVtfVwiXG4gIGRhdGEtdG9vbHRpcC1jb250ZW50PVwie3Rvb3RpcENvbnRlbnR9XCJcbiAgc3R5bGU9XCJoZWlnaHQ6IHtoZWlnaHR9XCI+PC9saT5gO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGhlYWRlcixcbiAgY2hhcnRJdGVtXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAwOiAnRGlzYWJsZWQnLFxuICAxOiAnRW5hYmxlZCdcbn07XG4iLCJpbXBvcnQgeyBmaWxsVGVtcGxhdGUgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCB7IGltZ0xpc3RJdGVtIH0gZnJvbSAnLi90ZW1wbGF0ZXMuanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2F0ZWdvcmllc1RvRmxhdExpc3QgKGNhdGVnb3JpZXMpIHtcbiAgY29uc3QgZmxhdExpc3QgPSBbXTtcblxuICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIGNhdGVnb3JpZXMpIHtcbiAgICBmb3IgKGNvbnN0IHN1YmNhdGVnb3J5IG9mIGNhdGVnb3J5LnN1YmNhdGVnb3JpZXMpIHtcbiAgICAgIGZsYXRMaXN0LnB1c2goe1xuICAgICAgICB2YWx1ZTogc3ViY2F0ZWdvcnkuaWQsXG4gICAgICAgIHRleHQ6IGAke2NhdGVnb3J5LnRpdGxlfSA+ICR7c3ViY2F0ZWdvcnkudGl0bGV9YFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZsYXRMaXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW9ucyAobGlzdCwgc2VsZWN0ZWQpIHtcbiAgcmV0dXJuIGxpc3RcbiAgICAubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBpdGVtLnZhbHVlIHx8IGluZGV4O1xuICAgICAgY29uc3QgdGV4dCA9IGl0ZW0udGV4dCB8fCBpdGVtO1xuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHZhbHVlID09PSBzZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJztcblxuICAgICAgcmV0dXJuIGA8b3B0aW9uIHZhbHVlPVwiJHt2YWx1ZX1cIiAke2lzU2VsZWN0ZWR9PiR7dGV4dH08L29wdGlvbj5gO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1nc0xpc3RNYXJrdXAgKGltYWdlcykge1xuICBjb25zdCBpbWFnZXNJdGVtcyA9IGltYWdlc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW1nTGlzdEl0ZW0sXG4gICAgICAgIGRhdGE6IGl0ZW1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIHJldHVybiBgXG4gICAgPHVsIGNsYXNzPVwiJHtjbHMuaW1nc0xpc3R9XCIgaXM9XCJkcmFnZ2FibGUtbGlzdFwiPiR7aW1hZ2VzSXRlbXMuam9pbignICcpfTwvdWw+XG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCIke2Nscy5pbnB1dFVwbG9hZH1cIj5VcGxvYWQ8L2J1dHRvbj5cbiAgYDtcbn1cbiIsImltcG9ydCB7IGlucHV0VGV4dCwgaW5wdXROdW1iZXIsIGlucHV0VGV4dGFyZWEsIGlucHV0U2VsZWN0IH0gZnJvbSAnLi90ZW1wbGF0ZXMuanMnO1xuaW1wb3J0IHN0YXR1c1RleHQgZnJvbSAnLi9zdGF0dXNUZXh0LmpzJztcbmltcG9ydCB7IGZpbGxUZW1wbGF0ZSB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IHsgY2F0ZWdvcmllc1RvRmxhdExpc3QsIGdldE9wdGlvbnMsIGdldEltZ3NMaXN0TWFya3VwIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuLy8gUmVuZGVyaW5nIG1ldGhvZHMgZm9yIHByb2R1Y3QgaW5wdXRzXG5leHBvcnQgZGVmYXVsdCB7XG4gIGltYWdlczoge1xuICAgIHJlbmRlciAoeyBpbWFnZXMgfSkge1xuICAgICAgaWYgKCFpbWFnZXMpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0SW1nc0xpc3RNYXJrdXAoaW1hZ2VzKTtcbiAgICB9LFxuICAgIGNvbXBhcmU6IG51bGxcbiAgfSxcbiAgdGl0bGU6IHtcbiAgICByZW5kZXIgKHsgdGl0bGUgfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkTmFtZTogJ05hbWUnLFxuICAgICAgICB2YWx1ZTogdGl0bGVcbiAgICAgIH07XG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXRUZXh0LFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0aW9uOiB7XG4gICAgcmVuZGVyICh7IGRlc2NyaXB0aW9uIH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAnZGVzY3JpcHRpb24nLFxuICAgICAgICBmaWVsZE5hbWU6ICdEZXNjcmlwdGlvbicsXG4gICAgICAgIHZhbHVlOiBkZXNjcmlwdGlvblxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0VGV4dGFyZWEsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgc3ViY2F0ZWdvcnk6IHtcbiAgICByZW5kZXIgKHsgY2F0ZWdvcmllcywgc3ViY2F0ZWdvcnkgfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICdzdWJjYXRlZ29yeScsXG4gICAgICAgIGZpZWxkTmFtZTogJ0NhdGVnb3J5JyxcbiAgICAgICAgb3B0aW9uczogZ2V0T3B0aW9ucyhjYXRlZ29yaWVzVG9GbGF0TGlzdChjYXRlZ29yaWVzKSwgc3ViY2F0ZWdvcnkpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXRTZWxlY3QsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcXVhbnRpdHk6IHtcbiAgICByZW5kZXIgKHsgcXVhbnRpdHkgfSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6ICdxdWFudGl0eScsXG4gICAgICAgIGZpZWxkTmFtZTogJ1F1YW50aXR5JyxcbiAgICAgICAgdmFsdWU6IHF1YW50aXR5XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0TnVtYmVyLFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHByaWNlOiB7XG4gICAgcmVuZGVyICh7IHByaWNlIH0pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGlkOiAncHJpY2UnLFxuICAgICAgICBmaWVsZE5hbWU6ICdQcmljZScsXG4gICAgICAgIHZhbHVlOiBwcmljZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBmaWxsVGVtcGxhdGUoe1xuICAgICAgICB0bXBsOiBpbnB1dE51bWJlcixcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBkaXNjb3VudDoge1xuICAgIHJlbmRlciAoeyBkaXNjb3VudCB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ2Rpc2NvdW50JyxcbiAgICAgICAgZmllbGROYW1lOiAnRGlzY291bnQnLFxuICAgICAgICB2YWx1ZTogZGlzY291bnRcbiAgICAgIH07XG4gICAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW5wdXROdW1iZXIsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgcmVuZGVyICh7IHN0YXR1cyB9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBpZDogJ3N0YXR1cycsXG4gICAgICAgIGZpZWxkTmFtZTogJ1N0YXR1cycsXG4gICAgICAgIHZhbHVlOiBzdGF0dXMsXG4gICAgICAgIG9wdGlvbnM6IGdldE9wdGlvbnMoT2JqZWN0LnZhbHVlcyhzdGF0dXNUZXh0KSwgc3RhdHVzKVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGw6IGlucHV0U2VsZWN0LFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgVG9vbHRpcHMgZnJvbSAnLi4vVG9vbHRpcHMvaW5kZXguanMnO1xuaW1wb3J0IHtcbiAgZmlsbFRlbXBsYXRlLFxuICBmb3JtYXREYXRlLFxuICBlc2NhcGVIVE1MLFxuICBmb3JtYXRUb3RhbCxcbiAgZmV0Y2hKc29uXG59IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0IHRlbXBsYXRlcyBmcm9tICcuL3RlbXBsYXRlcy5qcyc7XG5cbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbHVtbkNoYXJ0IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuYXBpVXJsID0gcHJvY2Vzcy5lbnYuQVBJX1VSTCB8fCAnaHR0cHM6Ly9jb3Vyc2UtanMuamF2YXNjcmlwdC5ydSc7XG5cbiAgICB0aGlzLmNoYW5nZURhdGUgPSB0aGlzLmNoYW5nZURhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICBjb25zdCB7IHR5cGUsIGlzTW9uZXksIGZyb20sIHRvIH0gPSB0aGlzLmRhdGFzZXQ7XG5cbiAgICB0aGlzLmRhdGVzID0ge1xuICAgICAgZnJvbTogbmV3IERhdGUoZnJvbSksXG4gICAgICB0bzogbmV3IERhdGUodG8pXG4gICAgfTtcblxuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5mb3JtYXRUb3RhbCA9IGlzTW9uZXkgPyBmb3JtYXRUb3RhbCA6IG51bGw7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKGNscy5lbGVtLCBgJHtjbHMuZWxlbX0tLSR7dHlwZX1gKTtcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZChjbHMuY29udGVudCk7XG4gICAgdGhpcy50aXRsZSA9IGBUb3RhbCAke3R5cGV9YDtcbiAgICB0aGlzLnVybCA9IHRoaXMuZ2V0VXJsKCk7XG5cbiAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuYXBwZW5kKHRoaXMuZWxlbSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VEYXRlJywgdGhpcy5jaGFuZ2VEYXRlKTtcbiAgfVxuXG4gIGdldFVybCAoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuYXBpVXJsfS9hcGkvZGFzaGJvYXJkLyR7dGhpcy50eXBlfT9mcm9tPSR7dGhpcy5kYXRlcy5mcm9tfSZ0bz0ke3RoaXMuZGF0ZXMudG99YDtcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hKc29uKHRoaXMudXJsKTtcbiAgICAgIHJldHVybiB7IGRhdGEgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuZ2V0RGF0YSgpO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZWxlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIGA8ZGl2IGNsYXNzPVwiJHtjbHMuZXJyb3J9XCI+JHtlcnJvcn08L2Rpdj5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlcyA9IE9iamVjdC52YWx1ZXModGhpcy5kYXRhKTtcblxuICAgIGlmICh0aGlzLnZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMudmFsdWVzLnB1c2goJ05vIGRhdGEnKTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFkZXJTdHIgPSB0aGlzLmdldEhlYWRlclN0cigpO1xuXG4gICAgY29uc3QgbGlzdFN0ciA9IHRoaXMuZ2V0TGlzdFN0cigpO1xuICAgIHRoaXMuZWxlbS5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAnYmVmb3JlRW5kJyxcbiAgICAgIGhlYWRlclN0ciArIGxpc3RTdHJcbiAgICApO1xuXG4gICAgdGhpcy5hZGRBY3Rpb25zKCk7XG4gIH1cblxuICBnZXRIZWFkZXJTdHIgKCkge1xuICAgIHRoaXMudG90YWwgPSB0aGlzLnZhbHVlcy5yZWR1Y2UoKHByZXYsIGN1cnJlbnQpID0+IHByZXYgKyBjdXJyZW50LCAwKTtcblxuICAgIGlmICh0aGlzLmZvcm1hdFRvdGFsKSB7XG4gICAgICB0aGlzLnRvdGFsID0gdGhpcy5mb3JtYXRUb3RhbCh0aGlzLnRvdGFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsbFRlbXBsYXRlKHtcbiAgICAgIHRtcGw6IHRlbXBsYXRlcy5oZWFkZXIsXG4gICAgICBkYXRhOiB0aGlzXG4gICAgfSk7XG4gIH1cblxuICBnZXRMaXN0U3RyICgpIHtcbiAgICBjb25zdCBtYXggPSBNYXRoLm1heCguLi50aGlzLnZhbHVlcyk7XG4gICAgbGV0IGNoYXJ0U3RyID0gJyc7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBmb3JtYXREYXRlKGtleSk7XG4gICAgICBsZXQgdmFsdWUgPSB0aGlzLmRhdGFba2V5XTtcbiAgICAgIGNvbnN0IGhlaWdodFZhbHVlID0gKCh2YWx1ZSAvIG1heCkgKiAxMDApLnRvRml4ZWQoMik7XG4gICAgICBjb25zdCBoZWlnaHQgPSBgJHtoZWlnaHRWYWx1ZX0lYDtcblxuICAgICAgaWYgKHRoaXMuZm9ybWF0VG90YWwpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLmZvcm1hdFRvdGFsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9vdGlwQ29udGVudCA9IGA8c21hbGwgY2xhc3M9XCIke2Nscy50b29sdGlwRGF0ZX1cIj4ke2RhdGV9PC9zbWFsbD48ZGl2IGNsYXNzPVwiJHtjbHMudG9vbHRpcFF1YW50aXR5fVwiPiR7dmFsdWV9PC9kaXY+YDtcblxuICAgICAgY2hhcnRTdHIgKz0gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogdGVtcGxhdGVzLmNoYXJ0SXRlbSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIHRvb3RpcENvbnRlbnQ6IGVzY2FwZUhUTUwodG9vdGlwQ29udGVudClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGA8dWwgY2xhc3M9XCIke2Nscy5saXN0fVwiPiR7Y2hhcnRTdHJ9PC91bD5gO1xuICB9XG5cbiAgYWRkQWN0aW9ucyAoKSB7XG4gICAgdGhpcy50b29sdGlwcyA9IG5ldyBUb29sdGlwcyh7XG4gICAgICBlbGVtOiB0aGlzLmVsZW0sXG4gICAgICBkaW1TaWJsaW5nczogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY2hhbmdlRGF0ZSAoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmRldGFpbCB8fCAhZXZlbnQuZGV0YWlsLmRhdGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBmcm9tLCB0byB9ID0gZXZlbnQuZGV0YWlsLmRhdGVzO1xuICAgIHRoaXMuZGF0ZXMgPSB7XG4gICAgICBmcm9tOiBmcm9tLFxuICAgICAgdG86IHRvXG4gICAgfTtcblxuICAgIHRoaXMudXJsID0gdGhpcy5nZXRVcmwoKTtcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gJyc7XG4gICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICB0aGlzLmFwcGVuZCh0aGlzLmVsZW0pO1xuICB9XG59XG4iLCJpbXBvcnQgVG9vbHRpcHMgZnJvbSAnLi4vVG9vbHRpcHMvaW5kZXguanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0IHN0YXR1c1RleHQgZnJvbSAnLi9zdGF0dXNUZXh0LmpzJztcbmltcG9ydCBmaWVsZHMgZnJvbSAnLi9maWVsZHMuanMnO1xuaW1wb3J0IHsgZmV0Y2hKc29uLCB0aHJvdHRsZSB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0IHsgZ2V0RGlyZWN0aW9uVGV4dCB9IGZyb20gJy4vaGVscGVycy5qcyc7XG5pbXBvcnQgUGFnZU1lc3NhZ2UgZnJvbSAnLi4vUGFnZU1lc3NhZ2UvaW5kZXguanMnO1xuXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3J0YWJsZVRhYmxlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvcnRpbmcgPSB7XG4gICAgICBjdXJyZW50OiBudWxsLFxuICAgICAgaXNBc2M6IHRydWVcbiAgICB9O1xuXG4gICAgdGhpcy5wYWdlID0ge1xuICAgICAgaXRlbXM6IDIwLFxuICAgICAgY3VycmVudDogMCxcbiAgICAgIGlzRGF0YUVuZGVkOiBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLmFwaVVybCA9IHByb2Nlc3MuZW52LkFQSV9VUkwgfHwgJ2h0dHBzOi8vY291cnNlLWpzLmphdmFzY3JpcHQucnUnO1xuXG4gICAgdGhpcy5jaGFuZ2VEYXRlID0gdGhpcy5jaGFuZ2VEYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdXJsLFxuICAgICAgZmllbGRzTGlzdCxcbiAgICAgIG9yZGVyRmllbGQsXG4gICAgICBvcmRlckRpcmVjdGlvbixcbiAgICAgIGlzRHluYW1pYyxcbiAgICAgIGZyb20sXG4gICAgICB0b1xuICAgIH0gPSB0aGlzLmRhdGFzZXQ7XG5cbiAgICB0aGlzLmRhdGVzID0ge1xuICAgICAgZnJvbSxcbiAgICAgIHRvXG4gICAgfTtcblxuICAgIHRoaXMudXJsID0gdGhpcy5hcGlVcmwgKyB1cmw7XG4gICAgdGhpcy5maWVsZHNMaXN0ID0gSlNPTi5wYXJzZShmaWVsZHNMaXN0LnJlcGxhY2UoLycvZywgJ1wiJykpO1xuICAgIHRoaXMuaXNEeW5hbWljID0gK2lzRHluYW1pYztcbiAgICB0aGlzLm9yZGVyID0ge1xuICAgICAgZmllbGQ6IG9yZGVyRmllbGQsXG4gICAgICBkaXJlY3Rpb246IG9yZGVyRGlyZWN0aW9uXG4gICAgfTtcbiAgICB0aGlzLmluaXRUYWJsZSA9IHRoaXMuaW5pdFRhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLm9yZGVyICYmIHRoaXMub3JkZXIuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc29ydGluZy5pc0FzYyA9IHRoaXMub3JkZXIuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIHRoaXMuZmV0Y2hVcmwgPSB0aGlzLmdldEZldGNoVXJsKCk7XG4gICAgLy8gVHJ5IHRvIHRocm90dGxlIGxvYWRpbmcgb24gc2Nyb2xsXG4gICAgdGhpcy5vbkJvZHlTY3JvbGxUaHJvdHRsZSA9IHRocm90dGxlKHRoaXMub25Cb2R5U2Nyb2xsLCB0aGlzLCA1MDApO1xuXG4gICAgdGhpcy5pbml0VGFibGUoKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZURhdGUnLCB0aGlzLmNoYW5nZURhdGUpO1xuICB9XG5cbiAgYXN5bmMgbG9hZERhdGEgKCkge1xuICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnRhYmxlLmRhdGFzZXQubG9hZGluZyA9IDE7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdGFibGVEYXRhID0gYXdhaXQgZmV0Y2hKc29uKHRoaXMuZmV0Y2hVcmwpO1xuXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy50YWJsZS5kYXRhc2V0LmxvYWRpbmcgPSAwO1xuXG4gICAgICByZXR1cm4gdGFibGVEYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaG93IGVycm9yIG1lc3NhZ2UgdG8gdXNlclxuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBQYWdlTWVzc2FnZSh7IGVycm9yIH0pO1xuICAgICAgdGhpcy50YWJsZS5kYXRhc2V0LmxvYWRpbmcgPSAwO1xuXG4gICAgICB0aGlzLnRCb2R5Lmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgJ2JlZm9yZUVuZCcsXG4gICAgICAgIGA8dHIgY2xhc3M9XCIke2Nscy5yb3d9XCI+PHRkIGNsYXNzPVwiJHtjbHMuY2VsbEVycm9yfVwiPiR7bWVzc2FnZS5lbGVtLm91dGVySFRNTH08L3RyPmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFRhYmxlICgpIHtcbiAgICB0aGlzLmNyZWF0ZUxheW91dCgpO1xuICAgIHRoaXMuYWRkRWxlbUhlYWRlcigpO1xuICAgIHRoaXMuYWRkVGFibGVFdmVudHMoKTtcblxuICAgIHRoaXMuZmlsbFRCb2R5KCk7XG4gIH1cblxuICBhc3luYyBmaWxsVEJvZHkgKCkge1xuICAgIGlmICh0aGlzLnBhZ2UuaXNEYXRhRW5kZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRhYmxlUm93cyA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcblxuICAgIC8vIExhc3QgcGFnZVxuICAgIGlmICh0aGlzLnRhYmxlUm93cy5sZW5ndGggPCB0aGlzLnBhZ2UuaXRlbXMpIHtcbiAgICAgIHRoaXMucGFnZS5pc0RhdGFFbmRlZCA9IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLnRhYmxlUm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy5pc0R5bmFtaWMgJiYgdGhpcy5vcmRlciAmJiB0aGlzLm9yZGVyLmZpZWxkKSB7XG4gICAgICB0aGlzLnNvcnRSb3dzKHRoaXMub3JkZXIuZmllbGQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyVEJvZHkoKTtcbiAgfVxuXG4gIGdldEZldGNoVXJsICgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBzdGFydDogdGhpcy5wYWdlLmN1cnJlbnQgKiB0aGlzLnBhZ2UuaXRlbXMsXG4gICAgICBlbmQ6ICh0aGlzLnBhZ2UuY3VycmVudCArIDEpICogdGhpcy5wYWdlLml0ZW1zLFxuICAgICAgc29ydDogdGhpcy5vcmRlci5maWVsZCxcbiAgICAgIG9yZGVyOiBnZXREaXJlY3Rpb25UZXh0KHRoaXMuc29ydGluZy5pc0FzYylcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuZGF0ZXMgJiYgdGhpcy5kYXRlcy5mcm9tKSB7XG4gICAgICBwYXJhbXMuZnJvbSA9IHRoaXMuZGF0ZXMuZnJvbTtcbiAgICAgIHBhcmFtcy50byA9IHRoaXMuZGF0ZXMudG87XG4gICAgfVxuXG4gICAgbGV0IHBhcmFtc1N0ciA9ICcnO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHBhcmFtcykge1xuICAgICAgbGV0IHByZWZpeCA9ICdfJztcbiAgICAgIGlmIChrZXkgPT09ICdmcm9tJyB8fCBrZXkgPT09ICd0bycpIHtcbiAgICAgICAgcHJlZml4ID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHBhcmFtc1N0ciArPSBgJiR7cHJlZml4fSR7a2V5fT0ke3BhcmFtc1trZXldfWA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVybCArIHBhcmFtc1N0cjtcbiAgfVxuXG4gIGNyZWF0ZUxheW91dCAoKSB7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKGNscy5lbGVtKTtcbiAgICB0aGlzLnRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICB0aGlzLnRhYmxlLmNsYXNzTGlzdC5hZGQoY2xzLnRhYmxlKTtcbiAgICB0aGlzLnRCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbiAgICB0aGlzLnRhYmxlLmFwcGVuZCh0aGlzLnRCb2R5KTtcbiAgICB0aGlzLnRhYmxlLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICdiZWZvcmVFbmQnLFxuICAgICAgYDx0Zm9vdD48dHI+PHRkIGNvbHNwYW49XCIke3RoaXMuZmllbGRzTGlzdC5sZW5ndGh9XCI+PGRpdiBjbGFzcz1cInNwaW5uZXJcIj48L2Rpdj48L3RkPjwvdHI+PC90Zm9vdD5gXG4gICAgKTtcblxuICAgIHRoaXMuYXBwZW5kKHRoaXMudGFibGUpO1xuICB9XG5cbiAgLy8gRmlsbCB0YWJsZSBoZWFkZXIgd2l0aCBjb250ZW50XG4gIGFkZEVsZW1IZWFkZXIgKCkge1xuICAgIGxldCBoZWFkZXJDb250ZW50ID0gJyc7XG5cbiAgICB0aGlzLmZpZWxkc0xpc3QuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICBsZXQgdGhDbGFzcyA9IGNscy5jZWxsO1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgc29ydGVyOiAnJyxcbiAgICAgICAgc29ydERpcmVjdGlvbjogJydcbiAgICAgIH07XG4gICAgICBpZiAoZmllbGRzW2ZpZWxkXS5jb21wYXJlKSB7XG4gICAgICAgIHRoQ2xhc3MgKz0gYCAke2Nscy5jZWxsU29ydGVyfWA7XG4gICAgICAgIGRhdGEuc29ydGVyID0gJ2RhdGEtc29ydGVyPVwiMVwiJztcbiAgICAgIH1cbiAgICAgIGlmIChmaWVsZCA9PT0gdGhpcy5vcmRlci5maWVsZCkge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb25UZXh0KHRoaXMuc29ydGluZy5pc0FzYyk7XG4gICAgICAgIGRhdGEuc29ydERpcmVjdGlvbiA9IGBkYXRhLXNvcnQtZGlyZWN0aW9uPVwiJHtkaXJlY3Rpb259XCJgO1xuICAgICAgfVxuICAgICAgaGVhZGVyQ29udGVudCArPSBgPHRoIGNsYXNzPVwiJHt0aENsYXNzfVwiXG4gICAgICAgIGRhdGEtbmFtZT1cIiR7ZmllbGR9XCJcbiAgICAgICAgJHtkYXRhLnNvcnRlcn1cbiAgICAgICAgJHtkYXRhLnNvcnREaXJlY3Rpb259XG4gICAgICAgID4ke2ZpZWxkc1tmaWVsZF0udGl0bGV9PC90aD5gO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdGhlYWRTdHIgPSBgPHRoZWFkIGNsYXNzPVwiJHtjbHMudGhlYWR9XCI+PHRyIGNsYXNzPVwiJHtjbHMuaGVhZGVyfSAke2Nscy5yb3d9XCI+XG4gICAgICAke2hlYWRlckNvbnRlbnR9XG4gICAgPC90cj48L3RoZWFkPmA7XG5cbiAgICB0aGlzLnRhYmxlLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJCZWdpbicsIHRoZWFkU3RyKTtcblxuICAgIHRoaXMuc29ydGluZy5jdXJyZW50ID0gdGhpcy50YWJsZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zb3J0LWRpcmVjdGlvbl0nKTtcbiAgfVxuXG4gIC8vIFNvcnRlclxuICBzb3J0ZXJPbkNsaWNrICh0aCkge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gdGguZGF0YXNldDtcblxuICAgIGlmICh0aC5kYXRhc2V0LnNvcnREaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuc29ydGluZy5pc0FzYyA9ICF0aGlzLnNvcnRpbmcuaXNBc2M7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnNvcnRpbmcuY3VycmVudCkge1xuICAgICAgICBkZWxldGUgdGhpcy5zb3J0aW5nLmN1cnJlbnQuZGF0YXNldC5zb3J0RGlyZWN0aW9uO1xuICAgICAgfVxuICAgICAgdGhpcy5zb3J0aW5nLmlzQXNjID0gdHJ1ZTtcbiAgICAgIHRoaXMuc29ydGluZy5jdXJyZW50ID0gdGg7XG4gICAgfVxuXG4gICAgdGguZGF0YXNldC5zb3J0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uVGV4dCh0aGlzLnNvcnRpbmcuaXNBc2MpO1xuXG4gICAgaWYgKHRoaXMuaXNEeW5hbWljKSB7XG4gICAgICB0aGlzLnNvcnRSb3dzRHluYW1pYyhuYW1lKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNvcnRSb3dzKG5hbWUpO1xuICB9XG5cbiAgLy8gU29ydGluZ1xuICBzb3J0Um93cyAoZmllbGQpIHtcbiAgICB0aGlzLnRhYmxlUm93cy5zb3J0KGZpZWxkc1tmaWVsZF0uY29tcGFyZSk7XG5cbiAgICBpZiAoIXRoaXMuc29ydGluZy5pc0FzYykge1xuICAgICAgdGhpcy50YWJsZVJvd3MucmV2ZXJzZSgpO1xuICAgIH1cblxuICAgIHRoaXMudEJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5yZW5kZXJUQm9keSgpO1xuICB9XG5cbiAgLy8gU29ydGluZ1xuICBzb3J0Um93c0R5bmFtaWMgKGZpZWxkKSB7XG4gICAgdGhpcy5vcmRlci5maWVsZCA9IGZpZWxkO1xuICAgIHRoaXMucGFnZS5jdXJyZW50ID0gMDtcbiAgICB0aGlzLnBhZ2UuaXNEYXRhRW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZldGNoVXJsID0gdGhpcy5nZXRGZXRjaFVybCgpO1xuICAgIHRoaXMudEJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5maWxsVEJvZHkoKTtcbiAgfVxuXG4gIC8vIEFkZGluZyBkZWxlZ2F0ZWQgZXZlbnRzIHRvIHRhYmxlXG4gIGFkZFRhYmxlRXZlbnRzICgpIHtcbiAgICB0aGlzLnRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25Cb2R5U2Nyb2xsVGhyb3R0bGUpO1xuICAgIHRoaXMudG9vbHRpcHMgPSBuZXcgVG9vbHRpcHMoeyBlbGVtOiB0aGlzIH0pO1xuICB9XG5cbiAgLy8gSGFuZGxlcyBhbGwgZXZlbnRzIGZvciB0YWJsZVxuICBoYW5kbGVFdmVudCAoKSB7XG4gICAgLy8gU29ydGluZyBldmVudHNcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQuc29ydGVyKSB7XG4gICAgICB0aGlzLnNvcnRlck9uQ2xpY2soZXZlbnQudGFyZ2V0KTtcbiAgICB9XG4gIH1cblxuICBvbkJvZHlTY3JvbGwgKCkge1xuICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGh0bWxDb29yZHMgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgc2Nyb2xsRGVsdGEgPSBodG1sQ29vcmRzLmJvdHRvbSAtIHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIGlmIChzY3JvbGxEZWx0YSA8IDEwMCkge1xuICAgICAgdGhpcy5wYWdlLmN1cnJlbnQrKztcbiAgICAgIHRoaXMuZmV0Y2hVcmwgPSB0aGlzLmdldEZldGNoVXJsKCk7XG4gICAgICB0aGlzLmZpbGxUQm9keSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbGwgdGFibGUgYm9keSBjZWxscyB3aXRoIGNvbnRlbnRcbiAgcmVuZGVyVEJvZHkgKCkge1xuICAgIHRoaXMucGFnZVlPZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICB0aGlzLnRhYmxlUm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBsZXQgcm93Q29udGVudCA9ICcnO1xuICAgICAgY29uc3QgeyBzdGF0dXMgfSA9IHJvdztcblxuICAgICAgdGhpcy5maWVsZHNMaXN0LmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICBjb25zdCB0ZENsYXNzZXMgPSBbXG4gICAgICAgICAgY2xzLmNlbGwsXG4gICAgICAgICAgYCR7Y2xzLmNlbGx9LS0ke2ZpZWxkfWAsXG4gICAgICAgICAgYCR7Y2xzLmNlbGx9LS0ke3N0YXR1c1RleHRbc3RhdHVzXS50b0xvd2VyQ2FzZSgpfWBcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgcmVuZGVyRmllbGQgPSBmaWVsZHNbZmllbGRdLnJlbmRlcjtcbiAgICAgICAgY29uc3QgcmVuZGVyZWRDb250ZW50ID0gcmVuZGVyRmllbGQocm93KTtcblxuICAgICAgICBpZiAocmVuZGVyZWRDb250ZW50KSB7XG4gICAgICAgICAgcm93Q29udGVudCArPSBgPHRkIGNsYXNzPVwiJHt0ZENsYXNzZXMuam9pbihcbiAgICAgICAgICAgICcgJ1xuICAgICAgICAgICl9XCI+JHtyZW5kZXJlZENvbnRlbnR9PC90ZD5gO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy50Qm9keS5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICdiZWZvcmVFbmQnLFxuICAgICAgICBgPHRyIGNsYXNzPVwiJHtjbHMucm93fVwiPiR7cm93Q29udGVudH08L3RyPmBcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wYWdlWU9mZnNldCkge1xuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHRoaXMucGFnZVlPZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNoYW5nZURhdGUgKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5kZXRhaWwgfHwgIWV2ZW50LmRldGFpbC5kYXRlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGF0ZXMgPSBldmVudC5kZXRhaWwuZGF0ZXM7XG4gICAgdGhpcy5mZXRjaFVybCA9IHRoaXMuZ2V0RmV0Y2hVcmwoKTtcbiAgICB0aGlzLnRCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZmlsbFRCb2R5KCk7XG4gIH1cbn1cbiIsImltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICB7XG4gICAgbmFtZTogJ3RpdGxlJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ2Rlc2NyaXB0aW9uJyxcbiAgICBtb2RzOiBbY2xzLml0ZW1GdWxsXVxuICB9LFxuICB7XG4gICAgbmFtZTogJ2ltYWdlcycsXG4gICAgbW9kczogW2Nscy5pdGVtRnVsbF1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdzdWJjYXRlZ29yeSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdwcmljZScsXG4gICAgbW9kczogW2Nscy5pdGVtVGlueV1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdkaXNjb3VudCcsXG4gICAgbW9kczogW2Nscy5pdGVtVGlueSwgY2xzLml0ZW1Gb2xsb3ddXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAncXVhbnRpdHknLFxuICAgIG1vZHM6IFtjbHMuaXRlbVRpbnldXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnc3RhdHVzJyxcbiAgICBtb2RzOiBbY2xzLml0ZW1UaW55XVxuICB9XG5dO1xuIiwidmFyIG1hcCA9IHtcblx0XCIuL2NhdGVnb3JpZXMvaW5kZXguanNcIjogMjYsXG5cdFwiLi9kYXNoYm9hcmQvaW5kZXguanNcIjogMjgsXG5cdFwiLi9lcnJvcjQwNC9pbmRleC5qc1wiOiAyOSxcblx0XCIuL3Byb2R1Y3RzL2VkaXQvaW5kZXguanNcIjogMzAsXG5cdFwiLi9wcm9kdWN0cy9pbmRleC5qc1wiOiAzM1xufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gd2VicGFja0FzeW5jQ29udGV4dFJlc29sdmUocmVxKS50aGVuKF9fd2VicGFja19yZXF1aXJlX18pO1xufVxuZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdC8vIEhlcmUgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigpIGlzIHVzZWQgaW5zdGVhZCBvZiBuZXcgUHJvbWlzZSgpIHRvIHByZXZlbnRcblx0Ly8gdW5jYXVnaHQgZXhjZXB0aW9uIHBvcHBpbmcgdXAgaW4gZGV2dG9vbHNcblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHJldHVybiBtYXBbcmVxXTtcblx0fSk7XG59XG53ZWJwYWNrQXN5bmNDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0FzeW5jQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0FzeW5jQ29udGV4dFJlc29sdmU7XG53ZWJwYWNrQXN5bmNDb250ZXh0LmlkID0gMjU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tBc3luY0NvbnRleHQ7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZmV0Y2hKc29uIH0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgUGFnZU1lc3NhZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9QYWdlTWVzc2FnZS9pbmRleC5qcyc7XG5pbXBvcnQgY2xzIGZyb20gJy4vY2xhc3Nlcy5qcyc7XG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmFwaVVybCA9IHByb2Nlc3MuZW52LkFQSV9VUkwgfHwgJ2h0dHBzOi8vY291cnNlLWpzLmphdmFzY3JpcHQucnUnO1xuICAgIHRoaXMuZmV0Y2hVcmwgPSBgJHt0aGlzLmFwaVVybH0vYXBpL3Jlc3QvY2F0ZWdvcmllcz9fc29ydD13ZWlnaHQmX3JlZnM9c3ViY2F0ZWdvcnlgO1xuXG4gICAgdGhpcy5saXN0Q2xpY2sgPSB0aGlzLmxpc3RDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IGNhdGVnb3JpZXMsIG1lc3NhZ2UgfSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcblxuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cInBhZ2UtY29udGVudFwiPlxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInBhZ2Utc2VjdGlvbiBjYXRlZ29yaWVzXCI+XG4gICAgICAgICAgPGgyIGNsYXNzPVwicGFnZS1zZWN0aW9uX190aXRsZVwiPkNhdGVnb3JpZXM8L2gyPlxuXG4gICAgICAgICAgJHttZXNzYWdlLmVsZW0ub3V0ZXJIVE1MfVxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Rpdj5cbiAgICAgIGApO1xuICAgIH1cblxuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmNyZWF0ZUxpc3QoY2F0ZWdvcmllcyk7XG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cInBhZ2UtY29udGVudFwiPlxuICAgICAgPHNlY3Rpb24gY2xhc3M9XCJwYWdlLXNlY3Rpb24gY2F0ZWdvcmllc1wiPlxuICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLXNlY3Rpb25fX3RpdGxlXCI+Q2F0ZWdvcmllczwvaDI+XG5cbiAgICAgICAgJHtsaXN0fVxuICAgICAgPC9zZWN0aW9uPlxuICAgIDwvZGl2PmApO1xuXG4gICAgdGhpcy5hZGRFdmVudHMoKTtcblxuICAgIHJldHVybiB0aGlzLmVsZW07XG4gIH1cblxuICBhc3luYyBsb2FkRGF0YSAoKSB7XG4gICAgLy8gVE9ETzog0LjQvdC00LjQutCw0YLQvtGAINC30LDQs9GA0YPQt9C60LhcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IGZldGNoSnNvbih0aGlzLmZldGNoVXJsKTtcblxuICAgICAgcmV0dXJuIHsgY2F0ZWdvcmllcyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaG93IGVycm9yIG1lc3NhZ2UgdG8gdXNlclxuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBQYWdlTWVzc2FnZSh7IGVycm9yIH0pO1xuXG4gICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlTGlzdCAoaXRlbXMsIGlzU3ViY2F0ID0gZmFsc2UpIHtcbiAgICBsZXQgaXRlbXNTdHIgPSAnJztcbiAgICBsZXQgbGlzdENsYXNzID0gY2xzLmxpc3RUb3A7XG4gICAgbGV0IGl0ZW1DbGFzcyA9IGNscy5pdGVtO1xuICAgIGxldCBpc0RyYWdnYWJsZUF0dHIgPSAnJztcblxuICAgIGlmIChpc1N1YmNhdCkge1xuICAgICAgbGlzdENsYXNzID0gY2xzLmxpc3RTdWJjYXRzO1xuICAgICAgaXRlbUNsYXNzICs9IGAgJHtjbHMuaXRlbVN1Yn1gO1xuICAgICAgaXNEcmFnZ2FibGVBdHRyID0gJ2lzPVwiZHJhZ2dhYmxlLWxpc3RcIic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW1DbGFzcyArPSBgICR7Y2xzLml0ZW1Ub3B9YDtcbiAgICB9XG5cbiAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBsZXQgc3ViQ2F0c0xpc3QgPSAnJztcbiAgICAgIGxldCB0aXRsZSA9IGl0ZW0udGl0bGU7XG4gICAgICBjb25zdCBzdWJDYXRzID0gaXRlbS5zdWJjYXRlZ29yaWVzO1xuICAgICAgbGV0IGNvdW50ZXIgPSAnJztcblxuICAgICAgaWYgKGlzU3ViY2F0KSB7XG4gICAgICAgIGNvbnN0IGNvdW50ZXJUZXh0ID0gdGhpcy5nZXRQbHVyYWwoaXRlbS5jb3VudCwgWydwcm9kdWN0JywgJ3Byb2R1Y3RzJ10pO1xuICAgICAgICBjb3VudGVyID0gYDxzcGFuIGNsYXNzPVwiJHtjbHMuY291bnRlcn1cIj4ke2NvdW50ZXJUZXh0fTwvc3Bhbj5gO1xuICAgICAgfVxuXG4gICAgICAvLyBjb25zb2xlLmxvZyhpdGVtKVxuXG4gICAgICBpZiAoc3ViQ2F0cykge1xuICAgICAgICB0aXRsZSA9IGAgPGJ1dHRvbiBjbGFzcz1cIiR7Y2xzLnRvZ2dsZXJ9XCI+JHtpdGVtLnRpdGxlfTwvYnV0dG9uPmA7XG4gICAgICAgIHN1YkNhdHNMaXN0ID0gdGhpcy5jcmVhdGVMaXN0KHN1YkNhdHMsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpdGVtc1N0ciArPSBgPGxpIGNsYXNzPVwiJHtpdGVtQ2xhc3N9XCI+XG4gICAgICAgICR7dGl0bGV9XG4gICAgICAgICR7Y291bnRlcn1cbiAgICAgICAgJHtzdWJDYXRzTGlzdH1cbiAgICAgIDwvbGk+YDtcbiAgICB9XG5cbiAgICByZXR1cm4gYDx1bFxuICAgICAgY2xhc3M9XCIke2Nscy5saXN0fSAke2xpc3RDbGFzc31cIiAke2lzRHJhZ2dhYmxlQXR0cn1cbiAgICAgID5cbiAgICAgICR7aXRlbXNTdHJ9XG4gICAgPC91bD5gO1xuICB9XG5cbiAgYWRkRXZlbnRzICgpIHtcbiAgICBjb25zdCBsaXN0ID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5saXN0VG9wfWApO1xuICAgIGxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmxpc3RDbGljayk7XG4gIH1cblxuICBsaXN0Q2xpY2sgKCkge1xuICAgIGNvbnN0IGNvbnRyb2wgPSBldmVudC50YXJnZXQuY2xvc2VzdChgLiR7Y2xzLnRvZ2dsZXJ9YCk7XG4gICAgaWYgKCFjb250cm9sKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaXRlbVRvcCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KGAuJHtjbHMuaXRlbVRvcH1gKTtcbiAgICBpdGVtVG9wLmNsYXNzTGlzdC50b2dnbGUoY2xzLml0ZW1PcGVuKTtcbiAgfVxuXG4gIGdldFBsdXJhbCAobnVtLCB2YXJpYW50cykge1xuICAgIGxldCB2YXJpYW50ID0gdmFyaWFudHNbMF07XG4gICAgaWYgKG51bSAhPT0gMSkge1xuICAgICAgdmFyaWFudCA9IHZhcmlhbnRzWzFdO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtudW19ICR7dmFyaWFudH1gO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5cbmNvbnN0IGZyb20gPSBuZXcgRGF0ZSgpO1xuZnJvbS5zZXRNb250aChmcm9tLmdldE1vbnRoKCkgLSAxKTtcbmNvbnN0IHRvID0gbmV3IERhdGUoKTtcblxuY29uc3QgZGF0ZXMgPSB7XG4gIGZyb206IGZyb20udG9JU09TdHJpbmcoKSxcbiAgdG86IHRvLnRvSVNPU3RyaW5nKClcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgYXN5bmMgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cInBhZ2UtY29udGVudFwiPlxuICAgICAgPGhlYWRlciBjbGFzcz1cInBhZ2UtY29udGVudF9faGVhZGVyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cInBhZ2UtY29udGVudF9fdGl0bGVcIj5EYXNoYm9hcmQ8L2gyPlxuXG4gICAgICAgIDxyYW5nZS1waWNrZXJcbiAgICAgICAgICBkYXRhLWZyb209XCIke2RhdGVzLmZyb219XCJcbiAgICAgICAgICBkYXRhLXRvPVwiJHtkYXRlcy50b31cIlxuICAgICAgICAgID48L3JhbmdlLXBpY2tlcj5cbiAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJwYWdlLXNlY3Rpb24gcGFnZS1zZWN0aW9uLS1jb2x1bW4tY2hhcnRzXCI+XG4gICAgICAgICAgPGNvbHVtbi1jaGFydFxuICAgICAgICAgICAgZGF0YS10eXBlPVwib3JkZXJzXCJcbiAgICAgICAgICAgIGRhdGEtZnJvbT1cIiR7ZGF0ZXMuZnJvbX1cIlxuICAgICAgICAgICAgZGF0YS10bz1cIiR7ZGF0ZXMudG99XCJcbiAgICAgICAgICA+PC9jb2x1bW4tY2hhcnQ+XG5cbiAgICAgICAgICA8Y29sdW1uLWNoYXJ0XG4gICAgICAgICAgICBkYXRhLXR5cGU9XCJzYWxlc1wiXG4gICAgICAgICAgICBkYXRhLWlzLW1vbmV5PVwidHJ1ZVwiXG4gICAgICAgICAgICBkYXRhLWZyb209XCIke2RhdGVzLmZyb219XCJcbiAgICAgICAgICAgIGRhdGEtdG89XCIke2RhdGVzLnRvfVwiXG4gICAgICAgICAgPjwvY29sdW1uLWNoYXJ0PlxuXG4gICAgICAgICAgPGNvbHVtbi1jaGFydFxuICAgICAgICAgICAgZGF0YS10eXBlPVwiY3VzdG9tZXJzXCJcbiAgICAgICAgICAgIGRhdGEtZnJvbT1cIiR7ZGF0ZXMuZnJvbX1cIlxuICAgICAgICAgICAgZGF0YS10bz1cIiR7ZGF0ZXMudG99XCJcbiAgICAgICAgICA+PC9jb2x1bW4tY2hhcnQ+XG4gICAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInBhZ2Utc2VjdGlvblwiPlxuICAgICAgICAgIDxoMyBjbGFzcz1cInBhZ2Utc2VjdGlvbl9fdGl0bGVcIj5CZXN0c2VsbGVyczwvaDM+XG5cbiAgICAgICAgPHNvcnRhYmxlLXRhYmxlXG4gICAgICAgICAgZGF0YS11cmw9XCIvYXBpL2Rhc2hib2FyZC9iZXN0c2VsbGVycz9fZW1iZWQ9c3ViY2F0ZWdvcnkuY2F0ZWdvcnlcIixcbiAgICAgICAgICBkYXRhLWlzLWR5bmFtaWM9XCIwXCJcbiAgICAgICAgICBkYXRhLWZpZWxkcy1saXN0PVwiWydpbWFnZXMnLCAndGl0bGUnLCAnc3ViY2F0ZWdvcnknLCAncXVhbnRpdHknLCAncHJpY2UnLCAnc3RhdHVzJ11cIlxuICAgICAgICAgIGRhdGEtb3JkZXItZmllbGQ9J3RpdGxlJyxcbiAgICAgICAgICBkYXRhLW9yZGVyLWRpcmVjdGlvbj1cIjFcIlxuICAgICAgICAgIGRhdGEtZnJvbT1cIiR7ZGF0ZXMuZnJvbX1cIlxuICAgICAgICAgIGRhdGEtdG89XCIke2RhdGVzLnRvfVwiXG4gICAgICAgICAgPjwvc29ydGFibGUtdGFibGU+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZGl2PmApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgYXN5bmMgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChgPGRpdiBjbGFzcz1cInBhZ2UtY29udGVudFwiPlxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInBhZ2Utc2VjdGlvbiBwYWdlLXNlY3Rpb24tLTQwNFwiPlxuICAgICAgICAgIDxoMiBjbGFzcz1cInBhZ2Utc2VjdGlvbl9fdGl0bGVcIj5QYWdlIG5vdCBmb3VuZDwvaDI+XG4gICAgICAgICAgPHA+Tm8gc3VjaCBwYWdlPC9wPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Rpdj5gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZmV0Y2hKc29uLCBmaWxsVGVtcGxhdGUgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2luZGV4LmpzJztcbmltcG9ydCBQYWdlTWVzc2FnZSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1BhZ2VNZXNzYWdlL2luZGV4LmpzJztcbmltcG9ydCBmaWVsZHMgZnJvbSAnLi9maWVsZHMuanMnO1xuaW1wb3J0IGZpZWxkc09yZGVyIGZyb20gJy4vZmllbGRzT3JkZXIuanMnO1xuaW1wb3J0IGNscyBmcm9tICcuL2NsYXNzZXMuanMnO1xuaW1wb3J0IHsgaGVhZGVyLCBpbWdMaXN0SXRlbSB9IGZyb20gJy4vdGVtcGxhdGVzJztcblxuaW1wb3J0ICcuL2ljb24tdHJhc2guc3ZnJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuY29uc3QgQ0xJRU5UX0lEID0gJ2UyYjVjMzY2YjJkMjNmYic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgY29uc3RydWN0b3IgKG1hdGNoKSB7XG4gICAgdGhpcy5pZCA9IG1hdGNoWzBdLnJlcGxhY2UoJ3Byb2R1Y3RzLycsICcnKTtcblxuICAgIGlmICghbWF0Y2hbMF0pIHtcbiAgICAgIHRoaXMuaWQgPSAnM2Qtb2Noa2ktb3B0b21hLXpkMzAyJztcbiAgICB9XG5cbiAgICB0aGlzLmFwaVVybCA9IHByb2Nlc3MuZW52LkFQSV9VUkwgfHwgJ2h0dHBzOi8vY291cnNlLWpzLmphdmFzY3JpcHQucnUnO1xuICAgIHRoaXMuZmV0Y2hQcm9kdWN0VXJsID0gdGhpcy5hcGlVcmwgKyBgL2FwaS9yZXN0L3Byb2R1Y3RzP2lkPSR7dGhpcy5pZH1gO1xuICAgIHRoaXMuZmV0Y2hDYXRlZ29yaWVzVXJsID0gdGhpcy5hcGlVcmwgKyAnL2FwaS9yZXN0L2NhdGVnb3JpZXM/X3NvcnQ9d2VpZ2h0Jl9yZWZzPXN1YmNhdGVnb3J5JztcblxuICAgIHRoaXMudXBsb2FkSW1hZ2UgPSB0aGlzLnVwbG9hZEltYWdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBhc3luYyByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgcHJvZHVjdERhdGEsIGNhdGVnb3JpZXMsIGVycm9yTWVzc2FnZSB9ID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuXG4gICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgJHtoZWFkZXJ9XG5cbiAgICAgICAgJHtlcnJvck1lc3NhZ2Uub3V0ZXJIVE1MfVxuICAgICAgPC9kaXY+XG4gICAgICBgKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdERhdGFbMF07XG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5nZXRJbnB1dHNMaXN0KHsgcHJvZHVjdCwgY2F0ZWdvcmllcyB9KTtcblxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgICR7aGVhZGVyfVxuXG4gICAgICA8Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cIiR7Y2xzLmZvcm19fVwiPlxuICAgICAgICA8dWwgY2xhc3M9XCIke2Nscy5saXN0fVwiPlxuICAgICAgICAgICR7aW5wdXRzLmpvaW4oJ1xcbicpfVxuICAgICAgICA8L3VsPlxuXG4gICAgICAgIDxmb290ZXIgY2xhc3M9XCIke2Nscy5mb290ZXJ9XCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIiR7Y2xzLnN1Ym1pdH1cIj5TYXZlPC9idXR0b24+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PmApO1xuXG4gICAgdGhpcy5pbWdVcGxvYWRCdXR0b24gPSB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcihgLiR7Y2xzLmlucHV0VXBsb2FkfWApO1xuICAgIHRoaXMuaW1nTGlzdCA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuJHtjbHMuaW1nc0xpc3R9YCk7XG5cbiAgICB0aGlzLmFkZEV2ZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXMuZWxlbTtcbiAgfVxuXG4gIGdldElucHV0c0xpc3QgKHsgcHJvZHVjdCwgY2F0ZWdvcmllcyB9KSB7XG4gICAgY29uc3QgaW5wdXRzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHsgbmFtZSwgbW9kcyB9IG9mIGZpZWxkc09yZGVyKSB7XG4gICAgICBpZiAoZmllbGRzW25hbWVdKSB7XG4gICAgICAgIGxldCBwYXJhbXMgPSBwcm9kdWN0O1xuXG4gICAgICAgIGlmIChuYW1lID09PSAnc3ViY2F0ZWdvcnknKSB7XG4gICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnB1dCA9IGZpZWxkc1tuYW1lXS5yZW5kZXIocGFyYW1zKTtcbiAgICAgICAgbGV0IGNsYXNzZXMgPSBbY2xzLml0ZW1dO1xuXG4gICAgICAgIGlmIChtb2RzKSB7XG4gICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KG1vZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXRzLnB1c2goYDxsaSBjbGFzcz1cIiR7Y2xhc3Nlcy5qb2luKCcgJyl9XCI+JHtpbnB1dH08L2xpPmApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbnB1dHM7XG4gIH1cblxuICBhZGRFdmVudHMgKCkge1xuICAgIHRoaXMuaW1nVXBsb2FkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGxvYWRJbWFnZSk7XG4gIH1cblxuICBhc3luYyB1cGxvYWRJbWFnZSAoKSB7XG4gICAgdGhpcy5maWxlSW5wdXQgPSB0aGlzLmZpbGVJbnB1dENyZWF0ZSgpO1xuICAgIHRoaXMuZmlsZUlucHV0LmNsaWNrKCk7XG4gICAgbGV0IGltYWdlRGF0YTtcblxuICAgIGNvbnN0IHJ1blVwbG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuaW1nVXBsb2FkQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2xzLmlucHV0VXBsb2FkTG9hZGluZyk7XG4gICAgICB0aGlzLmltZ1VwbG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVJbnB1dC5maWxlc1swXTtcblxuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCBmaWxlKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hKc29uKCdodHRwczovL2FwaS5pbWd1ci5jb20vMy9pbWFnZScsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQ2xpZW50LUlEICR7Q0xJRU5UX0lEfWBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IGZvcm1EYXRhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGltYWdlRGF0YSA9IHJlc3VsdC5kYXRhO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5pbWdVcGxvYWRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShjbHMuaW5wdXRVcGxvYWRMb2FkaW5nKTtcbiAgICAgICAgdGhpcy5pbWdVcGxvYWRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maWxlSW5wdXQucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkSW1hZ2VJdGVtKGltYWdlRGF0YSk7XG4gICAgfTtcblxuICAgIHRoaXMuZmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJ1blVwbG9hZCk7XG4gIH1cblxuICBmaWxlSW5wdXRDcmVhdGUgKCkge1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgZmlsZUlucHV0LmFjY2VwdCA9ICdpbWFnZS8qJztcbiAgICAvLyBtdXN0IGJlIGluIGJvZHkgZm9yIElFXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoZmlsZUlucHV0KTtcbiAgICBmaWxlSW5wdXQuaGlkZGVuID0gdHJ1ZTtcblxuICAgIHJldHVybiBmaWxlSW5wdXQ7XG4gIH1cblxuICBhZGRJbWFnZUl0ZW0gKHsgaWQsIGxpbmssIHR5cGUgfSkge1xuICAgIGNvbnN0IGV4dCA9IHR5cGUuc3BsaXQoJy8nKVsxXTtcbiAgICBjb25zdCBpdGVtID0gZmlsbFRlbXBsYXRlKHtcbiAgICAgICAgdG1wbDogaW1nTGlzdEl0ZW0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1cmw6IGxpbmssXG4gICAgICAgICAgc291cmNlOiBgJHtpZH0uJHtleHR9YFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB0aGlzLmltZ0xpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBpdGVtKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWREYXRhICgpIHtcbiAgICAvLyBUT0RPOiBhZGQgbG9hZGluZyBpbmRpY2F0b3JcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZmV0Y2hKc29uKHRoaXMuZmV0Y2hQcm9kdWN0VXJsKSxcbiAgICAgICAgZmV0Y2hKc29uKHRoaXMuZmV0Y2hDYXRlZ29yaWVzVXJsKVxuICAgICAgXSk7XG5cbiAgICAgIHJldHVybiB7IHByb2R1Y3REYXRhOiBkYXRhWzBdLCBjYXRlZ29yaWVzOiBkYXRhWzFdIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUGFnZU1lc3NhZ2UoeyBlcnJvciB9KTtcbiAgICAgIHJldHVybiB7IGVycm9yTWVzc2FnZTogbWVzc2FnZS5lbGVtIH07XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTI2NzkxNTRhZmRlMDgxNWM2MjIyYzdjMDQwMWY0NDIuc3ZnXCI7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGFzeW5jIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoYDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICAgIDxzZWN0aW9uIGNsYXNzPVwicGFnZS1zZWN0aW9uXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cInBhZ2Utc2VjdGlvbl9fdGl0bGVcIj5Qcm9kdWN0czwvaDI+XG5cbiAgICAgICAgPHNvcnRhYmxlLXRhYmxlXG4gICAgICAgICAgZGF0YS11cmw9XCIvYXBpL3Jlc3QvcHJvZHVjdHM/X2VtYmVkPXN1YmNhdGVnb3J5LmNhdGVnb3J5XCIsXG4gICAgICAgICAgZGF0YS1pcy1keW5hbWljPVwiMVwiXG4gICAgICAgICAgZGF0YS1maWVsZHMtbGlzdD1cIlsnaW1hZ2VzJywgJ3RpdGxlJywgJ3N1YmNhdGVnb3J5JywgJ3F1YW50aXR5JywgJ3ByaWNlJywgJ3N0YXR1cyddXCJcbiAgICAgICAgICBkYXRhLW9yZGVyLWZpZWxkPSd0aXRsZScsXG4gICAgICAgICAgZGF0YS1vcmRlci1kaXJlY3Rpb249XCIxXCJcbiAgICAgICAgICA+PC9zb3J0YWJsZS10YWJsZT5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvaW5kZXguanMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5yZW5kZXIoKSk7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwYWdlJyk7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGA8ZGl2IGNsYXNzPVwicGFnZS1jb250YWluZXJcIj5cbiAgICAgIDxhc2lkZSBjbGFzcz1cInBhZ2UtYXNpZGVcIj5cbiAgICAgICAgPGgxIGNsYXNzPVwicGFnZS1hc2lkZV9fdGl0bGVcIj5cbiAgICAgICAgICA8YSBocmVmPVwiLi9cIj5TaG9wIGFkbWluPC9hPlxuICAgICAgICA8L2gxPlxuXG4gICAgICAgIDxuYXYgY2xhc3M9XCJwYWdlLWFzaWRlX19uYXZcIj5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJwYWdlLWFzaWRlX19saXN0XCI+XG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwYWdlLWFzaWRlX19pdGVtXCI+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rIHBhZ2UtYXNpZGVfX2xpbmstLWRhc2hib2FyZFwiXG4gICAgICAgICAgICAgICAgaHJlZj1cIi4vXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIERhc2hib2FyZFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhZ2UtYXNpZGVfX2l0ZW1cIj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBjbGFzcz1cInBhZ2UtYXNpZGVfX2xpbmsgcGFnZS1hc2lkZV9fbGluay0tcHJvZHVjdHNcIlxuICAgICAgICAgICAgICAgIGhyZWY9XCIuL3Byb2R1Y3RzXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIFByb2R1Y3RzXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1hc2lkZV9faXRlbVwiPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGNsYXNzPVwicGFnZS1hc2lkZV9fbGluayBwYWdlLWFzaWRlX19saW5rLS1jYXRlZ29yaWVzXCJcbiAgICAgICAgICAgICAgICBocmVmPVwiLi9jYXRlZ29yaWVzXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWFzaWRlX19saW5rLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIENhdGVnb3JpZXNcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9uYXY+XG4gICAgICA8L2FzaWRlPlxuXG4gICAgICA8bWFpbiBjbGFzcz1cInBhZ2UtbWFpblwiIGlkPVwiY29udGVudFwiPlxuICAgICAgICA8IS0tIG1haW4gY29udGVudCB3aWxsIGJlIGhlcmUgLS0+XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+YCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbTogJ3JhbmdlcGlja2VyJyxcbiAgZWxlbU9wZW46ICdyYW5nZXBpY2tlci0tb3BlbicsXG4gIGlucHV0OiAncmFuZ2VwaWNrZXJfX2lucHV0JyxcbiAgZnJvbTogJ3JhbmdlcGlja2VyX19mcm9tJyxcbiAgdG86ICdyYW5nZXBpY2tlcl9fdG8nLFxuICBzZWxlY3RvcjogJ3JhbmdlcGlja2VyX19zZWxlY3RvcicsXG4gIHNlbGVjdG9yQXJyb3c6ICdyYW5nZXBpY2tlcl9fc2VsZWN0b3ItYXJyb3cnLFxuICBzZWxlY3RvckNvbnRyb2w6ICdyYW5nZXBpY2tlcl9fc2VsZWN0b3ItY29udHJvbCcsXG4gIGNhbGVuZGFyczogJ3JhbmdlcGlja2VyX19jYWxlbmRhcnMnLFxuICBjYWxlbmRhcjogJ3JhbmdlcGlja2VyX19jYWxlbmRhcicsXG4gIGNlbGw6ICdyYW5nZXBpY2tlcl9fY2VsbCcsXG4gIHNlbGVjdGVkRnJvbTogJ3JhbmdlcGlja2VyX19zZWxlY3RlZC1mcm9tJyxcbiAgc2VsZWN0ZWRCZXR3ZWVuOiAncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLWJldHdlZW4nLFxuICBzZWxlY3RlZFRvOiAncmFuZ2VwaWNrZXJfX3NlbGVjdGVkLXRvJyxcbiAgbW9udGhJbmRpY2F0b3I6ICdyYW5nZXBpY2tlcl9fbW9udGgtaW5kaWNhdG9yJyxcbiAgZGF5T2ZXZWVrOiAncmFuZ2VwaWNrZXJfX2RheS1vZi13ZWVrJyxcbiAgZGF0ZUdyaWQ6ICdyYW5nZXBpY2tlcl9fZGF0ZS1ncmlkJ1xufTtcbiIsImltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGNvbnN0IGlucHV0ID0gYDxidXR0b24gY2xhc3M9XCIke2Nscy5pbnB1dH1cIiBkYXRhLWVsZW09XCJpbnB1dFwiIHR5cGU9XCJidXR0b25cIj5cbiAgPHNwYW5cbiAgICBjbGFzcz1cIiR7Y2xzLmZyb219XCJcbiAgICBkYXRhLWVsZW09XCJmcm9tXCI+e2Zyb219PC9zcGFuPiAtXG4gIDxzcGFuXG4gICAgY2xhc3M9XCIke2Nscy50b31cIlxuICAgIGRhdGEtZWxlbT1cInRvXCJcbiAgICA+e3RvfTwvc3Bhbj5cbjwvYnV0dG9uPmA7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RvciA9IGBcbjxkaXYgY2xhc3M9XCIke2Nscy5zZWxlY3Rvcn1cIiBkYXRhLWVsZW09XCJzZWxlY3RvclwiPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMuc2VsZWN0b3JBcnJvd31cIj48L2Rpdj5cbiAgPGJ1dHRvblxuICAgIHR5cGU9XCJidXR0b25cIlxuICAgIGNsYXNzPVwiJHtjbHMuc2VsZWN0b3JDb250cm9sfSAke2Nscy5zZWxlY3RvckNvbnRyb2x9LS1sZWZ0XCJcbiAgICBkYXRhLWRpcmVjdGlvbj1cInByZXZcIlxuICA+PC9idXR0b24+XG4gIDxidXR0b25cbiAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICBjbGFzcz1cIiR7Y2xzLnNlbGVjdG9yQ29udHJvbH0gJHtjbHMuc2VsZWN0b3JDb250cm9sfS0tcmlnaHRcIlxuICAgIGRhdGEtZGlyZWN0aW9uPVwibmV4dFwiXG4gID48L2J1dHRvbj5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLmNhbGVuZGFyc31cIj48L2Rpdj5cbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNvbnN0IGNhbGVuZGFyID0gYFxuPGRpdiBjbGFzcz1cIiR7Y2xzLmNhbGVuZGFyfVwiPlxuICA8ZGl2IGNsYXNzPVwiJHtjbHMubW9udGhJbmRpY2F0b3J9XCI+XG4gICAgPHRpbWUgZGF0ZXRpbWU9XCJ7bW9udGh9XCI+e21vbnRofTwvdGltZT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCIke2Nscy5kYXlPZldlZWt9XCI+XG4gICAge3dlZWtkYXlzfVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cIiR7Y2xzLmRhdGVHcmlkfVwiPlxuICAgIHtkYXlzfVxuICA8L2Rpdj5cbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNvbnN0IGRheSA9IGBcbjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJHtjbHMuY2VsbH0ge21vZH1cIiBkYXRhLXZhbHVlPVwie2RhdGVUaW1lfVwiIHN0eWxlPVwie3N0eWxlfVwiPntkYXRlTnVtfTwvYnV0dG9uPlxuYDtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbnB1dCxcbiAgc2VsZWN0b3IsXG4gIGNhbGVuZGFyLFxuICBkYXlcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmIxMTJiNTUwMjc2ZDc1MmQwYjNlMTA3YWRlOGQ2MTcuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjY4MmRlZGFhZmIwNDRlN2I5ZWEzNTJhNzBiYWFmNTY5LnN2Z1wiOyIsImltcG9ydCB7XG4gIGZpbGxUZW1wbGF0ZSxcbiAgZ2V0V2Vla0RheXNcbn0gZnJvbSAnLi4vLi4vaGVscGVycy9pbmRleC5qcyc7XG5pbXBvcnQgdGVtcGxhdGVzIGZyb20gJy4vdGVtcGxhdGVzLmpzJztcbmltcG9ydCBjbHMgZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCAnLi9hcnJvdy1pY29uLnN2Zyc7XG5pbXBvcnQgJy4vY2FsZW5kYXItaWNvbi5zdmcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZVBpY2tlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50b2dnbGVQaWNrZXIgPSB0aGlzLnRvZ2dsZVBpY2tlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VsZWN0b3JPbkNsaWNrID0gdGhpcy5zZWxlY3Rvck9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmJvZHlPbkNsaWNrID0gdGhpcy5ib2R5T25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlUmFuZ2UgPSB0aGlzLnVwZGF0ZVJhbmdlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmlzT3BlbmVkID0gZmFsc2U7XG4gICAgdGhpcy5lbGVtID0gdGhpcztcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgncmFuZ2VwaWNrZXInKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSB0aGlzLmRhdGFzZXQ7XG5cbiAgICB0aGlzLmRhdGVzID0ge1xuICAgICAgZnJvbTogbmV3IERhdGUoZnJvbSksXG4gICAgICB0bzogbmV3IERhdGUodG8pXG4gICAgfTtcblxuICAgIHRoaXMubW9udGhlcyA9IHRoaXMuZ2V0RGlzcGxheWVkTW9udGhlcygpO1xuICAgIHRoaXMubmV3RGF0ZXMgPSBbXTtcblxuICAgIHRoaXMuYWRkSW5wdXQoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2VEYXRlJywgdGhpcy51cGRhdGVSYW5nZSk7XG4gIH1cblxuICBnZXREaXNwbGF5ZWRNb250aGVzICgpIHtcbiAgICBjb25zdCBjdXJyZW50TW9udGggPSBuZXcgRGF0ZSh0aGlzLmRhdGVzLmZyb20pO1xuICAgIGxldCBtb250aCA9IGN1cnJlbnRNb250aC5nZXRNb250aCgpO1xuICAgIGNvbnN0IGN1cnJlbnREYXkgPSAxO1xuICAgIGN1cnJlbnRNb250aC5zZXREYXRlKGN1cnJlbnREYXkpO1xuXG4gICAgY29uc3QgbmV4dE1vbnRoID0gbmV3IERhdGUoY3VycmVudE1vbnRoKTtcbiAgICBuZXh0TW9udGguc2V0TW9udGgoKyttb250aCk7XG5cbiAgICByZXR1cm4gW2N1cnJlbnRNb250aCwgbmV4dE1vbnRoXTtcbiAgfVxuXG4gIGFkZElucHV0ICgpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgZnJvbTogdGhpcy5kYXRlcy5mcm9tLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxuICAgICAgdG86IHRoaXMuZGF0ZXMudG8udG9Mb2NhbGVEYXRlU3RyaW5nKClcbiAgICB9O1xuICAgIGNvbnN0IHRtcGwgPSB0ZW1wbGF0ZXMuaW5wdXQ7XG4gICAgY29uc3QgaW5wdXRTdHIgPSBmaWxsVGVtcGxhdGUoe1xuICAgICAgdG1wbCxcbiAgICAgIGRhdGFcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyQmVnaW4nLCBpbnB1dFN0cik7XG4gICAgdGhpcy5pbnB1dCA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuJHtjbHMuaW5wdXR9YCk7XG4gICAgdGhpcy5pbnB1dEZyb20gPSB0aGlzLmlucHV0LnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5mcm9tfWApO1xuICAgIHRoaXMuaW5wdXRUbyA9IHRoaXMuaW5wdXQucXVlcnlTZWxlY3RvcihgLiR7Y2xzLnRvfWApO1xuXG4gICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMudG9nZ2xlUGlja2VyKTtcbiAgICAvLyBjYXB0dXJlOiB0cnVlIHJldmVyc2VzIG9yZGVyIG9mIGV2ZW50c1xuICAgIC8vIGNsaWNrIG9uIGJvZHkgZmlyZXMgZmlyc3RcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5ib2R5T25DbGljaywge1xuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgYm9keU9uQ2xpY2sgKCkge1xuICAgIGNvbnN0IHBhcmVudFJhbmdlUGlja2VyID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoYC4ke2Nscy5lbGVtfWApO1xuXG4gICAgaWYgKCFwYXJlbnRSYW5nZVBpY2tlciAmJiB0aGlzLmlzT3BlbmVkKSB7XG4gICAgICB0aGlzLmhpZGVQaWNrZXIoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVJbnB1dCAoKSB7XG4gICAgdGhpcy5pbnB1dEZyb20uaW5uZXJIVE1MID0gdGhpcy5kYXRlcy5mcm9tLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgIHRoaXMuaW5wdXRUby5pbm5lckhUTUwgPSB0aGlzLmRhdGVzLnRvLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9XG5cbiAgdXBkYXRlUmFuZ2UgKCkge1xuICAgIHRoaXMubW9udGhlcyA9IHRoaXMuZ2V0RGlzcGxheWVkTW9udGhlcygpO1xuICAgIHRoaXMubmV3RGF0ZXMgPSBbXTtcbiAgICB0aGlzLnVwZGF0ZUlucHV0KCk7XG4gICAgdGhpcy5oaWRlUGlja2VyKCk7XG4gIH1cblxuICB0b2dnbGVQaWNrZXIgKCkge1xuICAgIGlmICh0aGlzLmlzT3BlbmVkKSB7XG4gICAgICB0aGlzLmhpZGVQaWNrZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNob3dQaWNrZXIoKTtcbiAgICB0aGlzLmlzT3BlbmVkID0gdHJ1ZTtcbiAgfVxuXG4gIHNob3dQaWNrZXIgKCkge1xuICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xuICAgICAgdGhpcy5hZGRTZWxlY3RvcigpO1xuXG4gICAgICB0aGlzLnNlbGVjdG9yID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5zZWxlY3Rvcn1gKTtcbiAgICAgIHRoaXMuY2FsZW5kYXJzID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC4ke2Nscy5jYWxlbmRhcnN9YCk7XG5cbiAgICAgIHRoaXMuc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNlbGVjdG9yT25DbGljayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzLmlubmVySFRNTCA9ICcnO1xuICAgIH1cblxuICAgIHRoaXMuYWRkQ2FsZW5kYXJzKCk7XG4gICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoY2xzLmVsZW1PcGVuKTtcbiAgfVxuXG4gIGhpZGVQaWNrZXIgKCkge1xuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNscy5lbGVtT3Blbik7XG4gICAgdGhpcy5pc09wZW5lZCA9IGZhbHNlO1xuICAgIHRoaXMubmV3RGF0ZXMgPSBbXTtcbiAgfVxuXG4gIGFkZFNlbGVjdG9yICgpIHtcbiAgICBjb25zdCBzZWxlY3RvclN0ciA9IHRlbXBsYXRlcy5zZWxlY3RvcjtcbiAgICB0aGlzLmVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBzZWxlY3RvclN0cik7XG4gIH1cblxuICBzZWxlY3Rvck9uQ2xpY2sgKCkge1xuICAgIGNvbnN0IHsgZGF0YXNldCB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChkYXRhc2V0LnZhbHVlKSB7XG4gICAgICB0aGlzLnNldERheShldmVudC50YXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoZGF0YXNldC5kaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMubW92ZU1vbnRoKGRhdGFzZXQuZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBzZXREYXkgKGVsZW0pIHtcbiAgICBjb25zdCBkYXRlID0gZWxlbS5kYXRhc2V0LnZhbHVlO1xuXG4gICAgaWYgKHRoaXMubmV3RGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLm5ld0RhdGVzLnB1c2gobmV3IERhdGUoZGF0ZSkpO1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZChlbGVtKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm5ld0RhdGVzLnB1c2gobmV3IERhdGUoZGF0ZSkpO1xuXG4gICAgdGhpcy5uZXdEYXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgfSk7XG4gICAgdGhpcy5kYXRlcyA9IHtcbiAgICAgIGZyb206IHRoaXMubmV3RGF0ZXNbMF0sXG4gICAgICB0bzogdGhpcy5uZXdEYXRlc1sxXVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2VEYXRlJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBkYXRlczoge1xuICAgICAgICAgICAgZnJvbTogdGhpcy5kYXRlcy5mcm9tLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB0bzogdGhpcy5kYXRlcy50by50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBtb3ZlTW9udGggKGRpcmVjdGlvbikge1xuICAgIGxldCBzdGVwID0gMTtcbiAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgIHN0ZXAgPSAtMTtcbiAgICB9XG5cbiAgICB0aGlzLm1vbnRoZXMuZm9yRWFjaChkYXRlID0+IHtcbiAgICAgIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgc3RlcCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnVwZGF0ZUNhbGVuZGFycygpO1xuICB9XG5cbiAgYWRkQ2FsZW5kYXJzICgpIHtcbiAgICB0aGlzLm1vbnRoZXMuZm9yRWFjaChkYXRlID0+IHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgdGhpcy5nZXRDYWxlbmRhcihkYXRlKSk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVDYWxlbmRhcnMgKCkge1xuICAgIHRoaXMuY2FsZW5kYXJzLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuYWRkQ2FsZW5kYXJzKCk7XG4gIH1cblxuICB1cGRhdGVTZWxlY3RlZCAoZWxlbSkge1xuICAgIGNvbnN0IGNlbGxzID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2Nscy5jZWxsfWApO1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbY2xzLnNlbGVjdGVkQmV0d2VlbiwgY2xzLnNlbGVjdGVkRnJvbSwgY2xzLnNlbGVjdGVkVG9dO1xuXG4gICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzKTtcbiAgICB9KTtcblxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZChjbHMuc2VsZWN0ZWRGcm9tKTtcbiAgfVxuXG4gIGdldENhbGVuZGFyIChkYXRlKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG1vbnRoOiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyBtb250aDogJ2xvbmcnIH0pLFxuICAgICAgd2Vla2RheXM6IGdldFdlZWtEYXlzKCdkaXYnKSxcbiAgICAgIGRheXM6IHRoaXMuZ2V0Q2VsbHMoZGF0ZSlcbiAgICB9O1xuXG4gICAgY29uc3QgdG1wbCA9IHRlbXBsYXRlcy5jYWxlbmRhcjtcbiAgICBjb25zdCBjYWxlbmRhclN0ciA9IGZpbGxUZW1wbGF0ZSh7XG4gICAgICB0bXBsLFxuICAgICAgZGF0YVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhbGVuZGFyU3RyO1xuICB9XG5cbiAgZ2V0Q2VsbHMgKGRhdGUpIHtcbiAgICBjb25zdCB0bXBsID0gdGVtcGxhdGVzLmRheTtcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIGNvbnN0IG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKTtcbiAgICBsZXQgY3VycmVudERheSA9IDE7XG4gICAgbGV0IGRheXNTdHIgPSAnJztcblxuICAgIHdoaWxlIChjdXJyZW50RGF0ZS5nZXRNb250aCgpID09PSBtb250aCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldENlbGxTdGFydFN0eWxlKGN1cnJlbnREYXRlKTtcbiAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0Q2VsbE1vZChjdXJyZW50RGF0ZSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGRhdGVUaW1lOiBjdXJyZW50RGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBkYXRlTnVtOiBjdXJyZW50RGF0ZS5nZXREYXRlKCksXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBtb2RcbiAgICAgIH07XG4gICAgICBkYXlzU3RyICs9IGZpbGxUZW1wbGF0ZSh7XG4gICAgICAgIHRtcGwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pO1xuXG4gICAgICBjdXJyZW50RGF0ZS5zZXREYXRlKCsrY3VycmVudERheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheXNTdHI7XG4gIH1cblxuICBnZXRDZWxsU3RhcnRTdHlsZSAoZGF0ZSkge1xuICAgIGxldCBzdHlsZSA9ICcnO1xuICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgaWYgKGRheSA+IDEpIHtcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICBsZXQgd2Vla2RheU51bSA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgaWYgKHdlZWtkYXlOdW0gPT09IDApIHtcbiAgICAgIHdlZWtkYXlOdW0gPSA3O1xuICAgIH1cblxuICAgIHN0eWxlID0gYGdyaWQtY29sdW1uLXN0YXJ0OiAke3dlZWtkYXlOdW19YDtcblxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIGdldENlbGxNb2QgKGRhdGUpIHtcbiAgICBsZXQgbW9kID0gJyc7XG5cbiAgICBpZiAodGhpcy5uZXdEYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbW9kO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGVNcyA9IGRhdGUudmFsdWVPZigpO1xuICAgIGNvbnN0IGRhdGVGcm9tTXMgPSB0aGlzLmRhdGVzLmZyb20udmFsdWVPZigpO1xuICAgIGNvbnN0IGRhdGVUb01zID0gdGhpcy5kYXRlcy50by52YWx1ZU9mKCk7XG5cbiAgICBpZiAoZGF0ZU1zID4gZGF0ZUZyb21NcyAmJiBkYXRlTXMgPCBkYXRlVG9Ncykge1xuICAgICAgbW9kID0gY2xzLnNlbGVjdGVkQmV0d2VlbjtcbiAgICB9IGVsc2UgaWYgKGRhdGVNcyA9PT0gZGF0ZUZyb21Ncykge1xuICAgICAgbW9kID0gY2xzLnNlbGVjdGVkRnJvbTtcbiAgICB9IGVsc2UgaWYgKGRhdGVNcyA9PT0gZGF0ZVRvTXMpIHtcbiAgICAgIG1vZCA9IGNscy5zZWxlY3RlZFRvO1xuICAgIH1cblxuICAgIHJldHVybiBtb2Q7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4M2M3NTQyMGQwMzYwZWQyMjUxMWMwOTJlNTdkMWQ1NC5zdmdcIjsiLCJpbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuaW1wb3J0ICcuL2dyYWItaWNvbi5zdmcnO1xuXG5jb25zdCBjbHMgPSB7XG4gIGVsZW06ICdkcmFnZ2FibGUtbGlzdCcsXG4gIGl0ZW1zOiAnZHJhZ2dhYmxlLWxpc3RfX2l0ZW1zJyxcbiAgaXRlbTogJ2RyYWdnYWJsZS1saXN0X19pdGVtJyxcbiAgZHJhZ2dlZDogJ2RyYWdnYWJsZS1saXN0X19pdGVtLS1kcmFnZ2VkJyxcbiAgcGxhY2Vob2xkZXI6ICdkcmFnZ2FibGUtbGlzdF9faXRlbS0tcGxhY2Vob2xkZXInXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFnZ2FibGVMaXN0IGV4dGVuZHMgSFRNTFVMaXN0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5jdXJyZW50ID0ge307XG5cbiAgICB0aGlzLnN0YXJ0RHJhZyA9IHRoaXMuc3RhcnREcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdG9wRHJhZyA9IHRoaXMuc3RvcERyYWcuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1vdmUgPSB0aGlzLm1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldFBsYWNlaG9sZGVySGVpZ2h0ID0gdGhpcy5zZXRQbGFjZWhvbGRlckhlaWdodC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2sgKCkge1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZChjbHMuZWxlbSk7XG4gICAgdGhpcy5pdGVtcyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnbGknKTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy5jcmVhdGVQbGFjZWhvbGRlcigpO1xuXG4gICAgdGhpcy5hZGRDbGFzc1RvSXRlbXMoKTtcbiAgICB0aGlzLmRpc2FibGVEZWZhdWx0RHJhZ3N0YXJ0KCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuc3RhcnREcmFnKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5zZXRQbGFjZWhvbGRlckhlaWdodCwgeyBvbmNlOiB0cnVlIH0pO1xuXG4gICAgdGhpcy5hZGRNdXRhdGlvbk9ic2VydmVyKCk7XG4gIH1cblxuICBzdGFydERyYWcgKGV2ZW50KSB7XG4gICAgdGhpcy5jdXJyZW50LmVsZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLmRyYWdnYWJsZS1saXN0X19pdGVtJyk7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnQuZWxlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzLmN1cnJlbnQuaGVpZ2h0ID0gdGhpcy5jdXJyZW50LmVsZW0ub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuY3VycmVudC5oYWxmID0gdGhpcy5jdXJyZW50LmhlaWdodCAvIDI7XG4gICAgdGhpcy5jdXJyZW50Lm9mZnNldCA9IHRoaXMuZ2V0Q3VycmVudE9mZnNldChldmVudCk7XG4gICAgdGhpcy5jdXJyZW50LnNjcm9sbFN0ZXBzID0gMDtcbiAgICB0aGlzLmNvb3JkcyA9IHRoaXMuZ2V0TGlzdENvb3JkcygpO1xuICAgIHRoaXMuc2V0Q3VycmVudEl0ZW1Ub3AoZXZlbnQpO1xuXG4gICAgdGhpcy5jdXJyZW50LmVsZW0ucmVwbGFjZVdpdGgodGhpcy5wbGFjZWhvbGRlcik7XG4gICAgdGhpcy5jdXJyZW50LmVsZW0uY2xhc3NMaXN0LmFkZChjbHMuZHJhZ2dlZCk7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5jdXJyZW50LmVsZW0pO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMubW92ZSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLnN0b3BEcmFnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLnN0b3BEcmFnKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRPZmZzZXQgKGV2ZW50KSB7XG4gICAgY29uc3QgeyB0b3AgfSA9IHRoaXMuY3VycmVudC5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiBldmVudC5jbGllbnRZIC0gdG9wO1xuICB9XG5cbiAgZ2V0TGlzdENvb3JkcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBtb3ZlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRDdXJyZW50SXRlbVRvcChldmVudCk7XG5cbiAgICB0aGlzLnNjcm9sbE9uTW92ZShldmVudCk7XG5cbiAgICBjb25zdCBlbGVtVG9wID0gZXZlbnQuY2xpZW50WSAtIHRoaXMuY29vcmRzLnRvcCAtIHRoaXMuY3VycmVudC5oYWxmO1xuICAgIGNvbnN0IGNoZWNrTGluZSA9IGVsZW1Ub3AgKyB0aGlzLmN1cnJlbnQuaGFsZjtcblxuICAgIC8vIENoZWNrIGludGVyc2VjdGlvblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoY2xzLmRyYWdnZWQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0b3AgPSBpdGVtLm9mZnNldFRvcDtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IHRvcCArIGl0ZW0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgY29uc3QgbWlkZGxlID0gdG9wICsgaXRlbS5vZmZzZXRIZWlnaHQgLyAyO1xuXG4gICAgICBpZiAoY2hlY2tMaW5lID4gdG9wICYmIGNoZWNrTGluZSA8IGJvdHRvbSkge1xuICAgICAgICBpZiAoY2hlY2tMaW5lIDw9IG1pZGRsZSkge1xuICAgICAgICAgIGl0ZW0uYWZ0ZXIodGhpcy5wbGFjZWhvbGRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbS5iZWZvcmUodGhpcy5wbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0Q3VycmVudEl0ZW1Ub3AgKGV2ZW50KSB7XG4gICAgdGhpcy5jb29yZHMgPSB0aGlzLmdldExpc3RDb29yZHMoKTtcbiAgICBsZXQgZWxlbVRvcCA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLmNvb3Jkcy50b3AgLSB0aGlzLmN1cnJlbnQub2Zmc2V0O1xuICAgIGNvbnN0IG1pbiA9IC10aGlzLmN1cnJlbnQuaGFsZjtcbiAgICBjb25zdCBtYXggPSB0aGlzLmNvb3Jkcy5oZWlnaHQgLSB0aGlzLmN1cnJlbnQuaGFsZjtcblxuICAgIGlmIChlbGVtVG9wIDwgbWluKSB7XG4gICAgICBlbGVtVG9wID0gbWluO1xuICAgIH0gZWxzZSBpZiAoZWxlbVRvcCA+IG1heCkge1xuICAgICAgZWxlbVRvcCA9IG1heDtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50LmVsZW0uc3R5bGUudG9wID0gYCR7ZWxlbVRvcH1weGA7XG4gIH1cblxuICBzY3JvbGxPbk1vdmUgKGV2ZW50KSB7XG4gICAgY29uc3QgeyB0b3AsIGJvdHRvbSB9ID0gdGhpcy5jdXJyZW50LmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZG9jdW1lbnRPdmVyZmxvdyA9IHtcbiAgICAgIGJvdHRvbTogYm90dG9tIC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgIHRvcDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcCAtIHRvcFxuICAgIH07XG5cbiAgICBsZXQgc2Nyb2xsU2l6ZSA9IDA7XG4gICAgaWYgKGRvY3VtZW50T3ZlcmZsb3cuYm90dG9tID4gMCkge1xuICAgICAgc2Nyb2xsU2l6ZSA9IHRoaXMuY3VycmVudC5oYWxmO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRPdmVyZmxvdy50b3AgPiAwKSB7XG4gICAgICBzY3JvbGxTaXplID0gLXRoaXMuY3VycmVudC5oYWxmO1xuICAgIH1cblxuICAgIGlmICghc2Nyb2xsU2l6ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBzY3JvbGxTaXplKTtcbiAgICB0aGlzLnNldEN1cnJlbnRJdGVtVG9wKGV2ZW50KTtcbiAgICB0aGlzLmN1cnJlbnQub2Zmc2V0ID0gdGhpcy5nZXRDdXJyZW50T2Zmc2V0KGV2ZW50KTtcbiAgfVxuXG4gIHN0b3BEcmFnICgpIHtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnJlcGxhY2VXaXRoKHRoaXMuY3VycmVudC5lbGVtKTtcbiAgICB0aGlzLmN1cnJlbnQuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNscy5kcmFnZ2VkKTtcbiAgICB0aGlzLmN1cnJlbnQuZWxlbS5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5tb3ZlKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuc3RvcERyYWcpO1xuICB9XG5cbiAgY3JlYXRlUGxhY2Vob2xkZXIgKCkge1xuICAgIGNvbnN0IGZpcnN0SXRlbSA9IHRoaXMuaXRlbXNbMF07XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBmaXJzdEl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuICAgIHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoY2xzLnBsYWNlaG9sZGVyLCBjbHMuaXRlbSk7XG4gICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICByZXR1cm4gcGxhY2Vob2xkZXI7XG4gIH1cblxuICBzZXRQbGFjZWhvbGRlckhlaWdodCAoKSB7XG4gICAgY29uc3QgZmlyc3RJdGVtID0gdGhpcy5pdGVtc1swXTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLm1pbkhlaWdodCA9IGAke2ZpcnN0SXRlbS5vZmZzZXRIZWlnaHR9cHhgO1xuICB9XG5cbiAgYWRkQ2xhc3NUb0l0ZW1zICgpIHtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5hZGQoY2xzLml0ZW0pKTtcbiAgfVxuXG4gIGFkZE11dGF0aW9uT2JzZXJ2ZXIgKCkge1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBtdXRhdGlvbnMuZm9yRWFjaCgoe3R5cGV9KSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG4gICAgICAgICAgdGhpcy5hZGRDbGFzc1RvSXRlbXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcywge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBkaXNhYmxlRGVmYXVsdERyYWdzdGFydCAoKSB7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaXRlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG4iLCIvLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy10YXNrcy1ydS9jb3Vyc2UtanMtZnJvbnRlbmQvYmxvYi9tYXN0ZXIvbGliL3JvdXRlci5qc1xuXG5pbXBvcnQgcmVuZGVyUGFnZSBmcm9tICcuL3JlbmRlclBhZ2UuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3V0ZXIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSBbXTtcblxuICAgIHRoaXMuZG9jdW1lbnRDbGljayA9IHRoaXMuZG9jdW1lbnRDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRvY3VtZW50Q2xpY2spO1xuICB9XG5cbiAgc3RhdGljIGluc3RhbmNlICgpIHtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBSb3V0ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICB9XG5cbiAgYWRkUm91dGUgKHBhdHRlcm4sIHBhdGgpIHtcbiAgICB0aGlzLnJvdXRlcy5wdXNoKHsgcGF0dGVybiwgcGF0aCB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldE5vdEZvdW5kUGFnZSAocGF0aCkge1xuICAgIHRoaXMubm90Rm91bmRQYWdlUGF0aCA9IHBhdGg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBuYXZpZ2F0ZSAoaHJlZikge1xuICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIGhyZWYpO1xuICAgIHRoaXMucm91dGUoKTtcbiAgfVxuXG4gIGFzeW5jIHJvdXRlICgpIHtcbiAgICBjb25zdCBzdHJpcHBlZFBhdGggPSBjbGVhblBhdGgod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICBsZXQgbWF0Y2g7XG5cbiAgICBmb3IgKGNvbnN0IHJvdXRlIG9mIHRoaXMucm91dGVzKSB7XG4gICAgICBtYXRjaCA9IHN0cmlwcGVkUGF0aC5tYXRjaChyb3V0ZS5wYXR0ZXJuKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBhd2FpdCB0aGlzLmNoYW5nZVBhZ2Uocm91dGUucGF0aCwgbWF0Y2gpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICB0aGlzLnBhZ2UgPSBhd2FpdCB0aGlzLmNoYW5nZVBhZ2UodGhpcy5ub3RGb3VuZFBhZ2VQYXRoKTtcbiAgICB9XG5cbiAgICAvLyBjdXN0b20gZXZlbnQgaGVyZVxuICB9XG5cbiAgYXN5bmMgY2hhbmdlUGFnZSAocGF0aCwgbWF0Y2gpIHtcbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5kZXN0cm95KSB7XG4gICAgICB0aGlzLnBhZ2UuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMucGFnZSA9IGF3YWl0IHJlbmRlclBhZ2UocGF0aCwgbWF0Y2gpO1xuICB9XG5cbiAgYWRkTGlzdGVuZXIgKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHRoaXMucm91dGUoKSk7XG4gICAgdGhpcy5yb3V0ZSgpO1xuICB9XG5cbiAgZG9jdW1lbnRDbGljayAoZXZlbnQpIHtcbiAgICBjb25zdCBsaW5rID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ2EnKTtcblxuICAgIGlmICghbGluaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhyZWYgPSBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXG4gICAgaWYgKGhyZWYgJiYgKGhyZWYuc3RhcnRzV2l0aCgnLycpIHx8IGhyZWYuc3RhcnRzV2l0aCgnLi8nKSkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm5hdmlnYXRlKGhyZWYpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhblBhdGggKHBhdGgpIHtcbiAgcmV0dXJuIGRlY29kZVVSSShwYXRoKVxuICAgIC5yZXBsYWNlKC9eXFwvc2hvcC1hZG1pbi1wYWdlLywgJycpIC8vIGRpcnR5IGhhY2sgZm9yIGdoLXBhZ2VzXG4gICAgLnJlcGxhY2UoL15cXC98XFwvJC8sICcnKVxuICAgIC5yZXBsYWNlKC9cXD8uKiQvLCAnJylcbiAgICAucmVwbGFjZSgvIy4qJC8sICcnKTtcbn1cbiIsIi8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzLXRhc2tzLXJ1L2NvdXJzZS1qcy1mcm9udGVuZC9ibG9iL21hc3Rlci9saWIvcmVuZGVyLXBhZ2UuanNcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyUGFnZSAocGF0aCwgbWF0Y2gpIHtcbiAgY29uc3QgeyBkZWZhdWx0OiBQYWdlIH0gPSBhd2FpdCBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBgLi4vcGFnZXMvJHtwYXRofS9pbmRleC5qc2ApO1xuICBjb25zdCBwYWdlID0gbmV3IFBhZ2UobWF0Y2gpO1xuICBjb25zdCByZW5kZXJlZFBhZ2UgPSBhd2FpdCBwYWdlLnJlbmRlcigpO1xuXG4gIGNvbnN0IGNvbnRlbnRFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcbiAgY29udGVudEVsZW0uaW5uZXJIVE1MID0gJyc7XG4gIGNvbnRlbnRFbGVtLmFwcGVuZChyZW5kZXJlZFBhZ2UpO1xufVxuIiwiaW1wb3J0IExheW91dCBmcm9tICcuL2NvbXBvbmVudHMvTGF5b3V0L2luZGV4LmpzJztcbmltcG9ydCBDb2x1bW5DaGFydCBmcm9tICcuL2NvbXBvbmVudHMvQ29sdW1uQ2hhcnQvaW5kZXguanMnO1xuaW1wb3J0IFJhbmdlUGlja2VyIGZyb20gJy4vY29tcG9uZW50cy9SYW5nZVBpY2tlci9pbmRleC5qcyc7XG5pbXBvcnQgU29ydGFibGVUYWJsZSBmcm9tICcuL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZS9pbmRleC5qcyc7XG5pbXBvcnQgRHJhZ2dhYmxlTGlzdCBmcm9tICcuL2NvbXBvbmVudHMvRHJhZ2dhYmxlTGlzdC9pbmRleC5qcyc7XG5pbXBvcnQgUm91dGVyIGZyb20gJy4vbGliL1JvdXRlci5qcyc7XG5cbmltcG9ydCAnLi9hc3NldHMvc2Nzcy9zdHlsZXMuc2Nzcyc7XG5cbi8vIFJvdXRpbmdcbmNvbnN0IHJvdXRlciA9IFJvdXRlci5pbnN0YW5jZSgpO1xuXG5yb3V0ZXJcbiAgLmFkZFJvdXRlKC9eJC8sICdkYXNoYm9hcmQnKVxuICAvLyAuYWRkUm91dGUoL14kLywgJ3Byb2R1Y3RzL2VkaXQnKVxuICAuYWRkUm91dGUoL15jYXRlZ29yaWVzJC8sICdjYXRlZ29yaWVzJylcbiAgLmFkZFJvdXRlKC9ecHJvZHVjdHNcXC8oW1xcUygpLV0rKS9nLCAncHJvZHVjdHMvZWRpdCcpXG4gIC5hZGRSb3V0ZSgvXnByb2R1Y3RzXFwvYWRkJC8sICdwcm9kdWN0cy9lZGl0JylcbiAgLmFkZFJvdXRlKC9ecHJvZHVjdHMkLywgJ3Byb2R1Y3RzJylcbiAgLnNldE5vdEZvdW5kUGFnZSgnZXJyb3I0MDQnKVxuICAuYWRkTGlzdGVuZXIoKTtcblxuLy8gSW5pdCBjdXN0b20gZWxlbWVudHNcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3BhZ2UtbGF5b3V0JywgTGF5b3V0KTtcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NvbHVtbi1jaGFydCcsIENvbHVtbkNoYXJ0KTtcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3JhbmdlLXBpY2tlcicsIFJhbmdlUGlja2VyKTtcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3NvcnRhYmxlLXRhYmxlJywgU29ydGFibGVUYWJsZSk7XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkcmFnZ2FibGUtbGlzdCcsIERyYWdnYWJsZUxpc3QsIHsgZXh0ZW5kczogJ3VsJyB9KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=